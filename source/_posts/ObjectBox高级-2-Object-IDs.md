---
title: ObjectBoxé«˜çº§-2-Object IDs
date: 2019-02-26 10:00:19
tags:
  - ObjectBox
  - æ•°æ®åº“
---

Object å¿…é¡»å…·æœ‰ä¸€ä¸ªç±»å‹ä¸º `long` çš„å±æ€§.å½“ç„¶å¯ä»¥ä½¿ç”¨å®ƒçš„åŒ…è£…ç±» `java.lang.Long`,ä½†æ˜¯ä¸å»ºè®®ä½¿ç”¨åŒ…è£…ç±».
å…¶ä»–ç±»å‹çš„ ID ( UID ç­‰)å¯ä»¥è‡ªç”±å®šä¹‰ï¼ŒæŸ¥è¯¢ç­‰æ“ä½œã€‚

### news vs. persisted entities

å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè¿˜æ²¡æœ‰å­˜å…¥ï¼Œå®ƒä»¬çš„ ID æ˜¯ 0.ä¸€æ—¦è¯¥å¯¹è±¡å­˜å…¥ï¼ŒObjectBox å°†ä¸ºè¯¥å¯¹è±¡æŒ‡å®š ID.å¯ä»¥é€šè¿‡ `put()`è¿”å›å€¼æ‹¿åˆ°è¯¥ ID.

æ‰€ä»¥åœ¨ ObjectBox å†…éƒ¨é€šå¸¸æŠŠ ID ä½œä¸ºä¸€ä¸ªçŠ¶æ€æŒ‡ç¤ºå™¨,å¦‚æœä¸º 0 è¡¨ç¤ºæ–°åˆ›å»ºï¼Œä¸ä¸º 0 è¡¨ç¤ºå·²ç»å­˜å‚¨ã€‚å…³è”ç‰¹åˆ«ä¾èµ–è¿™ä¸ªç‰¹æ€§.

### ç‰¹æ®Šçš„ Object IDs

Object IDs å¯èƒ½æ˜¯ä»»æ„ `long` å€¼ï¼Œé™¤äº†ä»¥ä¸‹ä¸¤ç§:

- 0: æˆ–è€…å½“ç±»å‹ä¸º `Long` æ—¶ä¸º null,è¢«è®¤ä¸ºæ˜¯æ–°åˆ›å»ºï¼Œè¿˜æœªå­˜å‚¨ã€‚`put`è¿™ä¸ªå¯¹è±¡æ€»æ˜¯ä¼šæ’å…¥ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªæœªä½¿ç”¨è¿‡çš„ ID.
- 0xFFFFFFFFFFFFFFFF (-1 in Java): ObjectBox ä¿ç•™ã€‚

### ObjectBox æŒ‡å®š ID

å¯¹äºæ¯ä¸€ä¸ªæ–°å¯¹è±¡ï¼ŒObjectBox æŠŠæ¯”å½“å‰ box ä¸­æœ€å¤§çš„ ID å€¼å¤§çš„æœªä½¿ç”¨çš„å€¼æŒ‡å®šç»™æ–°å¯¹è±¡çš„ ID.æ¯”å¦‚ box ä¸­æœ‰ä¸€ä¸ª ID ä¸º 1 å’Œ ID ä¸º 100 çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæ–°åˆ›å»ºå¯¹è±¡çš„ ID å°†ä¸º 101.

é»˜è®¤åªæœ‰ ObjectBox å¯ä»¥æŒ‡å®š ID(ğŸ‘‡ ä»‹ç»).å¦‚æœè¯•å›¾è‡ªå·±å­˜å…¥ä¸€ä¸ª ID æ¯”å½“å‰ ID å€¼æœ€å¤§çš„è¿˜å¤§çš„å¯¹è±¡ï¼ŒObjectBox å°†æŠ›å‡ºé”™è¯¯ã€‚

### æ‰‹åŠ¨æŒ‡å®š IDs

å¦‚æœéœ€è¦æ‰‹åŠ¨æŒ‡å®š ID,é‚£ä¹ˆè¯·æ·»åŠ å¦‚ä¸‹æ³¨è§£:

```java
@Id(assignable = true)
long id;
```

è¿™å°†ä¼šå…è®¸å­˜å…¥ä»»æ„å€¼ ID çš„å¯¹è±¡ã€‚å½“ç„¶è®¾ç½® ID ä¸º 0 æ—¶ï¼ŒObjectBox å°†åˆ¶å®šæ–° ID

> è‡ªå®šä¹‰ ID ä¼šæ‰“ç ´è‡ªåŠ¨çŠ¶æ€æŒ‡ç¤ºç›‘è§†(new vs. persisted). æ‰€ä»¥åº”è¯¥ç«‹å³å­˜å…¥è¯¥è‡ªå®šä¹‰ ID å¯¹è±¡ï¼Œå¯èƒ½è¿˜å¾—æ‰‹åŠ¨ç»‘å®š boxï¼Œç‰¹åˆ«åœ¨å…³è”çŠ¶å†µä¸‹.

### ID çš„ String åˆ«å (è¿˜åœ¨è·¯ä¸Š...)

æŸ¥çœ‹ç‰¹æ€§å®ç°è¿›åº¦[String ID alias](https://github.com/objectbox/objectbox-java/issues/167)
