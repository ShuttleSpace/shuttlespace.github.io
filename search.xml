<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[dart-flutter engine]]></title>
    <url>%2F2019%2F12%2F20%2Fdart-flutter-engine%2F</url>
    <content type="text"><![CDATA[Flutter engineFlutter Engine ‰∏çÂàõÂª∫ÊàñÁÆ°ÁêÜÁ∫øÁ®ã,Áõ∏Â∫îÁöÑÁî± embedder ÂàõÂª∫ÁÆ°ÁêÜ„ÄÅmessage loops. embedder Êèê‰æõ‰∫Ü task runner Êù•ÊâßË°å‰ªªÂä°. Dart VM ‰ºöÊúâËá™Â∑±ÁöÑÁ∫øÁ®ãÊ±†.ËÄå Flutter engine Âíå embedder ÈÉΩÊó†Ê≥ïËÆøÈóÆÂà∞Á∫øÁ®ãÊ±†ÁöÑÁ∫øÁ®ã. Task Runner ConfigurationFlutter engine ‰ºöÂêë embedder Áî≥ËØ∑4‰∏™ task runner ÂºïÁî®. engine ‰∏çÂú®‰πéÂºïÁî®ÊòØ‰∏çÊòØÂêå‰∏Ä‰∏™ task runner,ÊàñËÄÖÂ§ö‰∏™ task runner ËøêË°åÂú®Âêå‰∏Ä‰∏™Á∫øÁ®ã‰∏≠.‰∏∫‰∫Ü‰ºòÂåñÊÄßËÉΩ, embedder Â∫îËØ•‰∏∫ÊØè‰∏™ task runner ÂàÜÈÖç‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ∫øÁ®ã.ËôΩÁÑ∂ engine ‰∏çÂÖ≥ÂøÉ task runner ËøêË°åÁöÑÁ∫øÁ®ãÊÉÖÂÜµ,‰ΩÜÊòØÂú® engine ÁöÑÊï¥‰∏™ÁîüÂëΩÂë®Êúü‰∏≠Á∫øÁ®ãÈÖçÁΩÆÂ∫îËØ•‰øùÊåÅ‰∏ÄËá¥.‰πüÂ∞±ÊòØÂ¶ÇÊûú embedder ‰∏∫task runner ÂàÜÈÖç‰∫Ü‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ∫øÁ®ã,ÈÇ£‰πàÁõ¥Âà∞ engine ÈîÄÊØÅ,Ëøô‰∏™ task runner ÈÉΩÂè™ËÉΩÂú®Ëøô‰∏™Á∫øÁ®ãËøêË°å.Â∏∏Áî®ÁöÑ task runners: Platform Task Runner UI Task Runner GPU Task Runner IO Task Runner Platform Task RunnerÊ≠§ task runner ËøêË°åÁöÑÁ∫øÁ®ãË¢´ embedder ËÆ§‰∏∫ÊòØ‰∏ªÁ∫øÁ®ã. Ê≠§Á∫øÁ®ãÊâßË°åÁöÑ task runner ÈÉΩÊòØÁî± embedder ÂàÜÈÖçÁöÑ.engine ÊåáÊ¥æÁöÑ task runner ÊòØÊó†ÊÑè‰πâÁöÑ.Â§ö‰∏™ Flutter engine ÂèØ‰ª•Âú®Âü∫‰∫é‰∏çÂêåÁ∫øÁ®ã‰∏äËøêË°åÁöÑ platform task runner ÂêØÂä®.Flutter Content Handler Âú® Fuchsia ‰∏≠Â∞±ÊòØÊ≠§ÂéüÁêÜ.ÊØè‰∏™ Flutter Â∫îÁî®ÊâÄÂú®ÁöÑËøõÁ®ã‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ Flutter engine,ÂêåÊó∂ÊØè‰∏™ engine ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ platform thread. Âíå Flutter engine ÁöÑ‰ªª‰Ωï‰∫§‰∫íÊìç‰ΩúÂøÖÈ°ªÂú® platform thread ‰∏≠ÊâßË°å.ËÄåÂú®ÂÖ∂‰ªñÁ∫øÁ®ã‰∏≠Âíå engine ‰∫§‰∫í, debug ÊûÑÂª∫‰∏≠Ëß¶ÂèëÊñ≠Ë®Ä,release ÊûÑÂª∫‰∏≠ÊòØÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ.Flutter engine ‰∏≠ÁöÑÂæàÂ§öÁªÑ‰ª∂ÈÉΩÊòØÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ.‰∏ÄÊó¶ engine ÈÖçÁΩÆËøêË°åÂêé,Âè™Ë¶Å embedder API ÁöÑËÆøÈóÆÊòØÂú® platform thread ‰∏≠ÊâßË°åÁöÑ,embedder Â∞±‰∏çÂøÖÊåáÊ¥æ task runner ÂéªÈÖçÁΩÆ engine. Ê≠§ task runner Èô§‰∫ÜÂú® engine ÂêØÂä®ÂêéË¥üË¥£ embedder Âíå engine ‰∫§‰∫íÂ§ñ,ÂêåÊó∂‰ºöÊâßË°å platform messages.ËøôÊòØÂõ†‰∏∫Âè™ÊúâÂú® platform ÁöÑ‰∏ªÁ∫øÁ®ãËÆøÈóÆ platform APIs ÊâçÊòØÂÆâÂÖ®ÁöÑ.Êèí‰ª∂‰∏çÂøÖÂ∞Ü‰ªñ‰ª¨ÁöÑË∞ÉÁî®ÈáçÊñ∞ÂàÜÈÖçÂà∞‰∏ªÁ∫øÁ®ã‰∏ä.Â¶ÇÊûúÊèí‰ª∂ÁÆ°ÁêÜËá™Â∑±ÁöÑ worker Á∫øÁ®ã,ÈÇ£‰πàÊèí‰ª∂Âú®ÂìçÂ∫îÁªìÊûúË¢´Êèê‰∫§Âà∞ engine Áî± Dart Â§ÑÁêÜÂâçÂ∫îËØ•Â∞ÜÂÖ∂ÂÖ•ÈòüÂà∞ platform Á∫øÁ®ã‰∏≠.Âíå engine ÁöÑ‰∫§‰∫íÂøÖÈ°ªÂú® platform Á∫øÁ®ãÊâßË°å. Âç≥‰Ωø platform Á∫øÁ®ãË¢´ÈòªÂ°û‰∫ÜÂæàÈïøÊó∂Èó¥,Flutter rendering pipeline‰πü‰∏ç‰ºöË¢´ÈòªÂ°û.platform ÂØπÊ≠§Á∫øÁ®ã‰∏äÁöÑËÄóÊó∂Êìç‰ΩúËøõË°å‰∫ÜËØ∏Â§öÈôêÂà∂.ÊâÄ‰ª•Âª∫ËÆÆ‰ªª‰ΩïËÄóÊó∂Êìç‰ΩúÂú®Â∞ÜÊâßË°åÁªìÊûúËøîÂõûÂπ∂Ë¢´ÂÖ•ÈòüÂà∞ platform Á∫øÁ®ã‰πãÂâçÂ∫îËØ•Âú®Áã¨Á´ãÁöÑÁ∫øÁ®ã‰∏≠ÊâßË°å(‰∏çÊòØ‰∏äÈù¢ËÆ®ËÆ∫ÁöÑ4ÁßçÁ∫øÁ®ã).Â¶ÇÊûú‰∏çËøô‰πàÂÅöÂèØËÉΩÂØºËá¥ platform ÊåáÂÆöÁöÑ watchdog ÁªàÁªìÂ∫îÁî®.ËØ∏Â¶Ç android„ÄÅios ‰πü‰ΩøÁî® platform Á∫øÁ®ã‰º†ÈÄíÁî®Êà∑ËæìÂÖ•Êó∂Èó¥.ÈòªÂ°û platform Á∫øÁ®ãÂ∞ÜÂØºËá¥Êìç‰ΩúË¢´‰∏¢ÂºÉ. UI Task Runnerengine Âú® root isolate ÈÄöËøá UI Task Runner ÊâßË°åÊâÄÊúâÁöÑ Dart ‰ª£Á†Å.root isolate Âíå Flutter ÁªëÂÆöÊâçËÉΩÊâßË°å.Ê≠§ isolate ËøêË°åÂ∫îÁî®Á®ãÂ∫èÁöÑ main dart code.engine ÁªëÂÆöÊ≠§ isolate Êèê‰∫§ÊâßË°å frames. Flutter ÁöÑÊØè‰∏ÄÂ∏ß: root isolate ÂëäËØâ engine Ë¶ÅÊ∏≤ÊüìÂì™‰∏ÄÂ∏ß engine ‰ºöËØ¢ÈóÆ platform Âú®‰∏ã‰∏ÄÊ¨° vsync Êó∂ÊòØÂê¶ÈúÄË¶Å be notified. platform Á≠âÂæÖ‰∏ã‰∏Ä vsync. Âú® vsync, engine ‰ºöÂî§ÈÜí dart codeÊâßË°åÂ¶Ç‰∏ãÊìç‰Ωú: Êõ¥Êñ∞Âä®ÁîªÊèíÂÄºÂô® Âú® build phase ÈáçÂª∫Â∫îÁî®ÁöÑ widget. Â∏ÉÂ±ÄÊñ∞ÊûÑÂª∫ÁöÑ widget,Â∞ÜÂÖ∂ÁªòÂà∂Âà∞Â±ÇÈáåÁöÑ tree ‰∏≠Á´ãÂç≥Êèê‰∫§Áªô engine.Ê≠§Â§ÑÂÆûÈôÖÊ≤°ÊúâÊ†ÖÊ†ºÂåñ.]]></content>
  </entry>
  <entry>
    <title><![CDATA[dart-build tool]]></title>
    <url>%2F2019%2F12%2F20%2Fdart-build-tool%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî® build_runner ‰Ωú‰∏∫ÂºÄÂèëÊúçÂä°1„ÄÅÂú® pubspec.yaml‰∏≠Ê∑ªÂä†build_runnerÂíåbuild_web_compilers 12345environment: sdk: '&gt;=2.0.0 &lt;3.0.0'dev_dependencies: build_runner: ^1.0.0 build_web_compilers: ^0.4.0 2„ÄÅ‰∏ãËΩΩ‰æùËµñ 1pub get 3„ÄÅÂêØÂä®ÊúçÂä° 1pub run build_runner serve ÊúçÂä°ÂêØÂä®Âêé,ÊØèÊ¨°‰øùÂ≠òÊìç‰ΩúÈÉΩ‰ºöËß¶ÂèëÈáçÊñ∞ÊûÑÂª∫. ÂàõÂª∫ËæìÂá∫Êñá‰ª∂Â§π‰ΩøÁî®--output &lt;directory name&gt;ÈÄâÈ°πÊûÑÂª∫,Â∞ÜÂÜÖÈÉ®ÂºïÁî® URL ÂåπÈÖçÁöÑÊñá‰ª∂Ë∑ØÂæÑÂíådirectory nameÂêàÂπ∂‰Ωú‰∏∫ËæìÂá∫ÁõÆÂΩï,Â∞ÜÊñá‰ª∂ÂÜôÂÖ•.Ê≠§ÈÄâÈ°πÂèØ‰ª•Âú®build,watch,serveÂëΩ‰ª§‰∏≠‰ΩøÁî®.Â¶ÇÊûúÊ≤°Êúâ‰ΩøÁî® serveÂëΩ‰ª§Êó∂,Ê≠§ÁõÆÂΩïÂêåÊó∂Ë¢´Âè¶‰∏Ä‰∏™‰∏çÂêåÁöÑ server ‰ΩøÁî®.Â¶ÇÊûúÂè™ÊÉ≥ËæìÂá∫ÂåÖÁöÑ‰∏ÄÈÉ®ÂàÜ,ÊØîÂ¶ÇwebÁõÆÂΩï,ÂèØ‰ª•‰ΩøÁî®--output web:&lt;directory name&gt;. ‰ΩøÁî®ÂÖ∂‰ªñ build_runner ÂëΩ‰ª§ build: ÊâßË°åÂçïÁã¨ÊûÑÂª∫ÁÑ∂ÂêéÈÄÄÂá∫.Â¶ÇÊûú‰Ω†ÁöÑÊûÑÂª∫‰ºöÊää‰∫ßÁâ©ËæìÂá∫Âà∞Ê∫êÁ†ÅÊñá‰ª∂‰∏≠‰ºöÂæàÊúâÁî®.‰ΩøÁî®--output &lt;dirname&gt; ÂèØ‰ª•Â∞ÜÊâÄÊúâÁöÑÊ∫êÂíåÁîüÊàêÁöÑ‰∫ßÁâ©ËæìÂá∫Âà∞ÂêàÂπ∂ÁõÆÂΩï‰∏≠. watch: Á±ª‰ºº build,‰ΩÜÊòØÂú®Êñá‰ª∂ÊîπÂèòÊó∂ËøîÂõû.‰ΩøÁî®--output &lt;dirname&gt;Â∞ÜÊï∞ÊçÆÁöÑÊîπÂèò‰øùÂ≠òÂà∞ÂêàÂπ∂ÁöÑÁõÆÂΩï‰∏≠.ÂèØ‰ª•‰øùÊåÅËæìÂá∫ÊåÅÁª≠Êõ¥Êñ∞ÂíåÂÖ∂‰ªñÂü∫‰∫éÊñá‰ª∂ÁöÑÂºÄÂèëÊúçÂä°Âô®ÈÖçÂêà‰ΩøÁî®. test: ÂàõÂª∫ËæìÂá∫ÁõÆÂΩïÁÑ∂ÂêéËøêË°åpub run test.Ê≠§ÂëΩ‰ª§ÈúÄË¶Å dev dependency‰∏≠Êúâbuild_test‰æùËµñ. ÂàáÊç¢Âà∞ dart2jsÈªòËÆ§ÊÉÖÂÜµ‰∏ã build_web_compilers‰ΩøÁî®dartdevc.Â¶ÇÊûúÈúÄË¶ÅÂàáÊç¢Âà∞ dart2js,Âú® pub run build_runner build/serveÂêé‰º†ÈÄí--releaseÈÄâÈ°π.Âú®build.yamlÊñá‰ª∂‰∏≠ÈÖçÁΩÆ. 12345678targets: $default: builders: build_web_compilers|entrypoint: optioins: dart2js_args: - --minify - --fast_startup build.yaml Ê†ºÂºèbuild.yaml Êñá‰ª∂ÊåâÁÖß BuildConfigÂØπË±°ÈÖçÁΩÆ. BuildConfig key value default targets Map&lt;String,BuildTarget&gt; a single target with the same name as the package]]></content>
  </entry>
  <entry>
    <title><![CDATA[Dart-Zone]]></title>
    <url>%2F2019%2F10%2F23%2Fdart-Zone%2F</url>
    <content type="text"><![CDATA[Dart ÊòØÂçïÁ∫øÁ®ãÊ®°Âûã,Áõ∏ÂØπ‰∫é JavaScript,ÂÖ∂‰πüÊúâ microTaskQueue Âíå eventTaskQueue. Zone ‰ª£Ë°®Êüê‰∏™ÁéØÂ¢ÉÁöÑÁ®≥ÂÆöË∑®ÂºÇÊ≠•ÁéØÂ¢ÉË∞ÉÁî®. ‰ª£Á†ÅÈÄöÂ∏∏ÈÉΩÊâßË°åÂú®‰∏Ä‰∏™ zone‰∏≠,Â¶ÇZone.current.ËÄåmainÂáΩÊï∞ÈÄöÂ∏∏ËøêË°åÂú®ÈªòËÆ§ÁöÑZone.root‰∏ä‰∏ãÊñá‰∏≠.ÈÄöËøá runZoned ÂàõÂª∫‰∏Ä‰∏™Êñ∞zone Êàñ Zone.run Â∞Ü‰ª£Á†ÅËøêË°åÂà∞‰∏Ä‰∏™Áî± Zone.forkÂàõÂª∫ÁöÑ‰∏ä‰∏ãÊñá‰∏≠. ÂºÄÂèëËÄÖÂèØ‰ª•ÈÄöËøáË¶ÜÁõñ‰∏Ä‰∏™Â≠òÂú®zoneÁöÑ‰∏Ä‰∫õÊñπÊ≥ïÊù•ÂàõÂª∫‰∏Ä‰∏™Êñ∞zone.Â¶ÇËá™ÂÆö‰πâzoneÂèØ‰ª•ÊõøÊç¢Êàñ‰øÆÊîπprint„ÄÅtimers„ÄÅmicortasks„ÄÅuncaught erros ÁöÑÈªòËÆ§Ë°å‰∏∫. ZoneÁ±ª‰∏çÂèØ‰ª•Ë¢´ÁªßÊâø.ÂèØ‰ª•‰ΩøÁî® fork Â≠òÂú®ÁöÑ zone,ÈÄöÂ∏∏ÊòØZone.currentÂíåZoneSpecificationÊù•Ëá™ÂÆö‰πâzone.ËøôÂíåÁªßÊâøZoneÁ±ªÊù•ÂàõÂª∫Êñ∞ÁöÑzoneÁ±ª‰ºº. ÂºÇÊ≠•ÂõûË∞ÉÊÄªÊòØËøêË°åÂú®ÂÖ∂Ë¢´ËßÑÂÆöÁöÑzone‰∏ä‰∏ãÊñá‰∏≠.‰ΩøÁî®‰∏Ä‰∏ãÊ≠•È™§ÂÆûÁé∞: È¶ñÂÖà‰ΩøÁî®registerCallback„ÄÅregisterUnaryCallback„ÄÅregisterBinaryCallback‰∏≠ÁöÑ‰∏Ä‰∏™Ê≥®ÂÜå.zoneÂ∞±Â∞±ÂèØ‰ª•ËÆ∞ÂΩïÊ≠§callbackÊàñ‰øÆÊîπÂÆÉ(ËøîÂõû‰∏Ä‰∏™‰∏çÂêåÁöÑcallback).ÊâßË°åÊ≥®ÂÜåÁöÑ‰ª£Á†Å(Â¶Ç Future.then)‰πü‰ºöËÆ∞‰ΩèÂΩìÂâçÁöÑzone,‰πãÂêécallbackÂ∞±ÂèØ‰ª•Âú®Ê≠§zone‰∏≠ËøêË°å. ‰πãÂêéÂú®‰∏äÈù¢‰øùÁïôÁöÑzone‰∏≠ËøêË°åÊ≥®ÂÜåÁöÑcallback.Ëøô‰∫õÈÄöÂ∏∏ÈÉΩÊúâÂπ≥Âè∞Â§ÑÁêÜ,Áî®Êà∑Êó†ÈúÄÊìçÂøÉ.Â¶ÇÊûúË¶ÅÊ†πÊçÆÂ∫ïÂ±ÇÊèê‰æõÁöÑÂäüËÉΩÊàñnative extensionsÂºÄÂèëËá™ÂÆö‰πâÁöÑÂºÇÊ≠•ËßÑÂàô,ÂàôÂøÖÈ°ªÂÆûÁé∞‰∏äÈù¢‰∏§Ê≠•. bindCallback„ÄÅbindUnaryCallback„ÄÅbindBinaryCallback ÂàôÁÆÄÂåñ‰∫Ü‰∏äÈù¢ÁöÑÊ≠•È™§,Áõ¥Êé•Ë∞ÉÁî®Âç≥ÂèØ. bindCallbackGuarded„ÄÅbindUnaryCallbackGuarded„ÄÅbindBinaryCallbackGuardedÂèØ‰ª•ÈÄöËøáZone.runGuardedÊù•Ë∞ÉÁî®. Dart ÊûÑÈÄ†ÊñπÊ≥ï‰∏çÂèØËßÅÁöÑÂÆûÁé∞ÊñπÂºè: Zone._(); ÊâÄÊúâÁöÑÈöîÁ¶ªÂÖ•Âè£ÂáΩÊï∞Ë¢´Ë∞ÉÁî®Êó∂(mainÊàñspawned ÂáΩÊï∞)ÈÉΩËøêË°åÂú®Ê†πzone(Âç≥ Zone.currentÁ≠â‰∫éZone.root).Â¶ÇÊûúÊ≤°ÊúâÂàõÂª∫Ëá™ÂÆö‰πâÁöÑzone,ÂêéÈù¢ÁöÑ‰ª£Á†ÅÈÉΩ‰ºöËøêË°åÂú®Ê≠§Ê†πzone‰∏≠. Â¶ÇÊûúÂºÇÊ≠•ÂõûË∞ÉÂ¶ÇFutureÊàñStreamÊ≤°ÊúâÊçïËé∑ÂºÇÂ∏∏,Âàô‰ºöË∞ÉÁî®zone.handleUncaughtErrorÊù•ÊçïËé∑ÂºÇÂ∏∏. error zone(Zone.current.errorZone)ÊòØÂ§ÑÁêÜÊú™ÊçïËé∑ÂºÇÂ∏∏ÁöÑÂú∞Êñπ.ÂºÇÊ≠•ÂºÇÂ∏∏‰∏ç‰ºö‰º†ÈÄíÂà∞‰∏çÂêåÁöÑerror handler. 1234567891011import 'dart:async';main() &#123; var future; runZoned(() &#123; future = Future.error("asynchronous error"); &#125;,onError:(e)&#123;print(e);&#125;); future.catchError(e) &#123; throw "is never reached"; &#125;&#125;]]></content>
      <tags>
        <tag>Dart</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËØë-Kotlin-Coroutine(1) case)]]></title>
    <url>%2F2019%2F08%2F26%2F%E8%AF%91-Kotlin-Coroutine(1)%2F</url>
    <content type="text"><![CDATA[ÊèêÂèñÂáΩÊï∞-ÈáçÊûÑ‰ΩÜÊòØÂ¶ÇÊûúÊèêÂèñÂá∫Êù•ÁöÑÂáΩÊï∞ÂåÖÂê´‰∫Ü‰∏Ä‰∏™Âú®ÂΩìÂâç‰ΩúÁî®ÂüüË∞ÉÁî®ÁöÑÂçèÁ®ãÊûÑÈÄ†Âô®ÊÄé‰πàÂäû?ËøôÁßçÊÉÖÂÜµ‰∏ã,suspend ‰øÆÈ•∞Á¨¶Â∞±‰∏çËÉΩÊª°Ë∂≥ÈúÄÊ±Ç‰∫Ü‰ΩødoWorld Êàê‰∏∫ CoroutineScoprÁöÑ‰∏Ä‰∏™Êâ©Â±ïÂáΩÊï∞ÊòØ‰∏ÄÁßçËß£ÂÜ≥ÊñπÊ°à,‰ΩÜËøôÁßçÊñπÊ≥ï‰ΩøÂæóAPI‰∏çÊ∏ÖÊô∞ËÄå‰∏çÈÄÇÁî®ÂÖ∂‰ªñÊÉÖÂÜµ.ÁêÜÊÉ≥ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØCoroutineScope ‰Ωú‰∏∫‰∏Ä‰∏™ÂåÖÂê´ÁõÆÊ†áÂáΩÊï∞ÁöÑÁ±ªÁöÑ‰∏Ä‰∏™Â±ûÊÄßÂ≠òÂú®,ÊàñËÄÖËøô‰∏™Á±ªÂÆûÁé∞CoroutineScopeÊé•Âè£.ÊúÄÂêé‰∏ÄÁßçÊñπÊ°àÂ∞±ÊòØÈÄÇÁî®CoroutineScope(coroutineContext),‰ΩÜÊòØËøôÁßçÊñπÊ≥ï‰ºöÂõ†‰∏∫Êó†Ê≥ïÊéßÂà∂Ê≠§ÊñπÊ≥ïÁöÑÊâßË°åËåÉÂõ¥ËÄåË°®Áé∞Âá∫ÁªìÊûÑ‰∏çÂÆâÂÖ®ÊÄß.Âè™Êúâ‰∏Ä‰∫õÁßÅÊúâ APIs ÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™ÂçèÁ®ãÊûÑÈÄ†Âô®. Á±ª‰ººÂÆàÊä§Á∫øÁ®ãÁöÑ Global CoroutinesGlobalScopeÂêØÂä®ÁöÑÊ¥ªÂä®Á∫øÁ®ã‰∏ç‰ºöÊåÇ‰ΩèÁ∫øÁ®ã,‰ªñ‰ª¨ÁöÑË°å‰∏∫Á±ª‰ººÂÆàÊä§Á∫øÁ®ã. ÂèñÊ∂à‰∏éË∂ÖÊó∂ÂèñÊ∂àÂçèÁ®ãÁöÑÊâßË°åÂú®‰∏Ä‰∏™ÈïøÊó∂Èó¥ËøêË°åÁöÑÂ∫îÁî®‰∏≠,‰Ω†ÂèØËÉΩÈúÄË¶ÅÁ≤æÁ°ÆÊéßÂà∂ÂêéÂè∞ËøêË°åÁöÑÂçèÁ®ã.‰æãÂ¶ÇÁî®Êà∑ÂèØËÉΩÂÖ≥Èó≠‰∏Ä‰∏™ÂºÄÂêØ‰∫ÜÂçèÁ®ãÁöÑÈ°µÈù¢,ÈÇ£Ëøô‰∏™ÂçèÁ®ãÂ∞±ÈúÄË¶ÅË¢´ÂèñÊ∂à.launchÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™JobÂØπË±°ÂèØ‰ª•ÂèñÊ∂àÊ≠§ÂçèÁ®ãÁöÑÊâßË°å. ÂêåÊó∂ÂèñÊ∂àÂçèÁ®ãÂèØ‰ª•ÂêåÊó∂ÂèñÊ∂à.ÊâÄÊúâÂú® kotlinx.coroutines‰∏≠ÊåÇËµ∑ÁöÑÂáΩÊï∞ÈÉΩÊòØÂèØÂèñÊ∂àÁöÑ.Âú®ÂèñÊ∂àÊó∂,Ê£ÄÊü•ÂçèÁ®ãÁöÑÂèñÊ∂àÊ†áËÆ∞ÁÑ∂ÂêéÊäõÂá∫CancellationException.ÁÑ∂ËÄå,Â¶ÇÊûú‰∏Ä‰∏™ÂçèÁ®ãÂú®computation ‰∏≠ËøêË°å,ËÄå‰∏îÊ≤°ÊúâÊ£ÄÊü•ÂèñÊ∂àÊ†áËÆ∞,ÈÇ£Â∞±‰∏çËÉΩË¢´ÂèñÊ∂à. ‰Ωø computation ‰ª£Á†ÅÂèØ‰ª•Ë¢´ÂèñÊ∂àÊúâ‰∏§ÁßçÊñπÂºèÂèØ‰ª•ÂèñÊ∂à computation ‰ª£Á†Å.Á¨¨‰∏ÄÁßçÊòØÂë®ÊúüÊÄßÁöÑË∞ÉËµ∑‰∏Ä‰∏™ÊåÇËµ∑ÂáΩÊï∞ÂéªÊ£ÄÊµãÂèñÊ∂àÊ†áËÆ∞.yieldÂáΩÊï∞ÂèØ‰ª•ÂÆûÁé∞Ëøô‰∏™ÈúÄÊ±Ç.Âè¶‰∏ÄÁßçÊòØÁ≤æÁ°ÆÁöÑÊ£ÄÊü•ÂèñÊ∂àÊ†áËÆ∞Áä∂ÊÄÅ. ‰ΩøÁî® finally ÂÖ≥Èó≠ËµÑÊ∫êÂú®ÂèñÊ∂àÂÖ∑ÊúâÂèØÂèñÊ∂àÂ±ûÊÄßÁöÑÊåÇËµ∑ÂáΩÊï∞Êó∂‰ºöÊäõÂá∫ CancellationException,ÂèØ‰ª•Âú® coroutine Ë¢´ÂèñÊ∂àÊó∂‰ΩøÁî®Â∏∏Áî®ÁöÑÊñπÊ≥ïÂ§ÑÁêÜ.Â¶Ç try{...}finally{...}Ë°®ËææÂºèÂíå useÂáΩÊï∞ÊâßË°åÊúÄÁªà‰ªªÂä°.joinÂíåcancelAndJoinÁ≠âÂæÖÊâÄÊúâÁöÑÊúÄÁªà‰ªªÂä°ÊâßË°åÂÆåÊàêÊâçÁªìÊùü. ËøêË°å‰∏çÂèØÂèñÊ∂àÁöÑ‰ª£Á†ÅÂùó‰ªª‰ΩïÂú®finallyÂùó‰∏≠‰ΩøÁî®ÊåÇËµ∑ÂáΩÊï∞ÈÉΩÂ∞ÜÂØºËá¥CancellationException,Âõ†‰∏∫ËøêË°åÊ≠§‰ª£Á†ÅÁöÑ coroutine Â∑≤ÁªèË¢´ÂèñÊ∂à‰∫Ü.ÈÄöÂ∏∏,Ëøô‰∏çÊòØ‰∏™ÈóÆÈ¢ò,Âõ†‰∏∫ËâØÂ•ΩÁöÑÂÖ≥Èó≠Êìç‰Ωú(ÂÖ≥Èó≠Êñá‰ª∂„ÄÅÂèñÊ∂à‰ªªÂä°ÊàñÂÖ≥Èó≠‰ªªÊÑèÁ±ªÂûãÁöÑÊ∂àÊÅØÈÄöÈÅì)ÈÄöÂ∏∏ÈÉΩÊòØÈùûÈòªÂ°ûÁöÑ,ËÄå‰∏î‰πü‰∏ç‰ºöÊåÇËµ∑‰ªª‰ΩïÂáΩÊï∞.Âú®Â∑≤ÁªèÂèñÊ∂àÁöÑÂçèÁ®ãÈáå,Â¶ÇÊûúÁ´ûÊÄÅÊù°‰ª∂‰∏ãÊÉ≥ÊåÇËµ∑,‰Ω†ÂèØ‰ª•‰ΩøÁî®withContextÂáΩÊï∞ÂíåNonCancellable‰∏ä‰∏ãÊñáÂú®withContext(NonCancellable){...}‰∏≠Â∞ÅË£ÖÂìçÂ∫îÁöÑ‰ª£Á†Å. Ë∂ÖÊó∂ÂèñÊ∂à‰∏Ä‰∏™Ê≠£Âú®ÊâßË°åÁöÑÂçèÁ®ãÁöÑÊúÄÂ∏∏ËßÅÁöÑÁêÜÁî±ÂèØËÉΩÊòØ‰ªñÁöÑÊâßË°åÊó∂ÈïøÂ∑≤ÁªèË∂ÖËøá‰∫ÜË∂ÖÊó∂Êó∂Èó¥.ÂΩìÁÑ∂,‰Ω†ÂèØ‰ª•ÊâãÂä®ËøΩË∏™Áõ∏Â∫îJobÁöÑÂºïÁî®,ÁÑ∂ÂêéÂêØÂä®‰∏Ä‰∏™Áã¨Á´ãÁöÑÂçèÁ®ãÂª∂Êó∂ÂêéÂèñÊ∂àËøΩË∏™ÁöÑËøô‰∏™Job,withTimeoutÂáΩÊï∞ÂèØ‰ª•ÂÆûÁé∞Ëøô‰∏™ÈúÄÊ±Ç.withTimeoutÊäõÂá∫ÁöÑTimeoutCancellationExceptionÊòØCancellationExceptionÁöÑÂ≠êÁ±ª.‰πãÂâçÊ≤°ÊúâÁúãÂà∞ÊéßÂà∂Âè∞ÊâìÂç∞ÂºÇÂ∏∏Â†ÜÊ†à‰ø°ÊÅØÁöÑÂéüÂõ†ÊòØÂú®‰∏Ä‰∏™Ë¢´ÂèñÊ∂àÁöÑÂçèÁ®ãÊäõÂá∫ÁöÑ CancellationExcepitonË¢´ËÆ§‰∏∫ÊòØÂçèÁ®ãÊ≠£Â∏∏ÊâßË°åÁªìÊùüÁöÑÊ†áËÆ∞.Âõ†‰∏∫ cancellation ‰ªÖ‰ªÖÊòØ‰∏Ä‰∏™ÂºÇÂ∏∏,ÊâÄÊúâÁöÑËµÑÊ∫êÈÉΩÂèØ‰ª•‰ΩøÁî®Ê≠£Â∏∏ÁöÑÈÄªËæëÂ§ÑÁêÜ.Â¶ÇÊûú‰Ω†ÈúÄË¶ÅÂú®‰ªª‰ΩïË∂ÖÊó∂Êó∂Ê∑ªÂä†Êüê‰∫õÁâπÊÆäÈÄªËæë,ÂèØ‰ª•ÊääË∂ÖÊó∂ÁöÑËøô‰∫õ‰ª£Á†ÅÊîæÂú®try{...}catch(e:TimeoutCancellationException){...}Âùó‰∏≠,ÊàñËÄÖ‰ΩøÁî®withTimeoutOrNullÂáΩÊï∞(Á±ª‰ººwithTimeout‰ΩÜÊòØÂú®Ë∂ÖÊó∂ËøîÂõû null ËÄå‰∏çÊòØÊäõÂá∫ÂºÇÂ∏∏). ÁªÑÂêàÊåÇËµ∑ÂáΩÊï∞ÈªòËÆ§È°∫Â∫èÂÅáËÆæÊúâÂÆö‰πâÂú®ÂÖ∂‰ªñÂú∞ÊñπÁöÑ‰∏§‰∏™ÊåÇËµ∑ÂáΩÊï∞ÊâßË°åÂ¶ÇËøúÁ®ãÊúçÂä°ÊàñËÆ°ÁÆóÁ≠â‰ªªÂä°.Êàë‰ª¨ËÆ§‰∏∫Ëøô‰∫õ‰ªªÂä°ÊúâÁî®,ÂÆûÈôÖ‰∏äÊØèÈöî‰ªªÂä°Âè™ÊòØ‰∏∫‰∫ÜÂÖ∂ÁâπÊÆäÁõÆÁöÑÂª∂Êó∂‰∫Ü1Áßí. 12345678suspend fun doSomethingUsefulOne():Int &#123; delay(1000) return 13&#125;suspend fun doSomethingUsefulTwo():Int &#123; delay(1000) return 29&#125; Â¶ÇÊûúÊàë‰ª¨ÈúÄË¶Å‰∏äÈù¢ÁöÑÂáΩÊï∞ÊåâÈ°∫Â∫èË¢´Ë∞ÉÁî®,ÁÑ∂ÂêéËÆ°ÁÆó‰ªñ‰ª¨ÁöÑÁªìÊûú?ÂÆûÈôÖ‰∏≠,Êàë‰ª¨ÈÉΩÊòØÂÖàÊãøÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÁªìÊûúÂú®ÂÜ≥ÂÆöÊòØÂê¶Ë∞ÉÁî®Á¨¨‰∫å‰∏™ÂáΩÊï∞ÊàñÂ¶Ç‰ΩïË∞ÉÁî®.ÂíåÊôÆÈÄöÁöÑ‰ª£Á†Å‰∏ÄÊ†∑,Âú®ÂçèÁ®ãÈáåÁöÑ‰ª£Á†Å‰πüÊòØÊåâÈ°∫Â∫èÊâßË°åÁöÑ. ‰ΩøÁî® async Âπ∂ÂèëÂ¶ÇÊûú‰∏§‰∏™ÂáΩÊï∞‰πãÈó¥Ê≤°ÊúâÁõ∏ÂÖ≥,ËÄå‰∏îÊàë‰ª¨ÊÉ≥Êõ¥Âø´ÁöÑËé∑ÂèñÂà∞ÁªìÊûú,ÂèØ‰ª•ÂêåÊó∂ÊâßË°å‰∏§‰∏™ÂáΩÊï∞Âêó?asyncÂèØ‰ª•ÂÆûÁé∞.ÁêÜËÆ∫Â±±,asyncÁ±ª‰ººlaunch.ÂÆÉ‰ºöÂºÄÂêØ‰∏Ä‰∏™Êñ∞ÁöÑÂçèÁ®ãÂíåÂÖ∂‰ªñÂçèÁ®ãÂπ∂ÂèëÁöÑÊâßË°å.‰∏çÂêå‰πãÂ§ÑÂú®‰∫élaunchËøîÂõû‰∏Ä‰∏™Ê≤°ÊúâÊê∫Â∏¶ÁªìÊûúÁöÑJob,ËÄåasyncËøîÂõû‰∏Ä‰∏™Deferred(‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑÈùûÈòªÂ°û future Ë°®Á§∫Âú®Êú™Êù•ÁöÑÊüê‰∏ÄÊó∂Âàª‰ºöËøîÂõûÁªìÊûú).ÂèØ‰ª•ÂØπDeferred‰ΩøÁî®.await()Êù•Ëé∑ÂèñÊúÄÁªàÁöÑÁªìÊûú,‰ΩÜÊòØDeferredÂêåÊó∂‰πüÊòØ‰∏Ä‰∏™Job,ÊâÄ‰ª•ÂøÖË¶ÅÁöÑÊó∂ÂÄô‰πüÂèØ‰ª•ÂèñÊ∂à.ÂçèÁ®ãÁöÑÂπ∂ÂèëÊÄßÊÄªÊòØÁ≤æÁ°ÆÁöÑ. ‰ΩøÁî® async Âª∂ËøüÂêØÂä®asyncÂèØ‰ª•ËÆæÁΩÆÂÆÉÁöÑstartÂèÇÊï∞‰∏∫CoroutineStart.LAZYÊù•Âª∂ËøüÂêØÂä®.Âú®Ê≠§Âú∫ÊôØ‰∏ã,Âè™ÊúâÂú®awaitË∞ÉÁî®Ëé∑ÂèñÁªìÊûúÊó∂ÊâçÂêØÂä®,ÊàñËÄÖÂÆÉÁöÑJobÁöÑstartÂáΩÊï∞Ë¢´Ë∞ÉÁî®Êó∂ÂêØÂä®.Â¶ÇÊûú‰ªÖ‰ªÖË∞ÉÁî®awaitËÄåÊ≤°Âú®‰πãÂâçË∞ÉÁî®ÂêÑËá™ÂçèÁ®ãÁöÑstart,ËøôÂ∞Ü‰ºöÂØºËá¥Â∫èÂàóÂåñË°å‰∏∫,Âõ†‰∏∫awaitÂêØÂä®ÂçèÁ®ãÊâßË°å‰ª£Á†ÅÁÑ∂ÂêéÁ≠âÂæÖÂÆÉÁªìÊùü,Ëøô‰∏çÊòØÁî®Êà∑ËßíÂ∫¶ÁöÑÂª∂Ëøü.ÂΩìË∞ÉÁî®ÊåÇËµ∑ÂáΩÊï∞ËÆ°ÁÆóÊüê‰∏™ÂÄºÊó∂‰ΩøÁî®async(start=CoroutineStart.LAZY)ÂèØ‰ª•ÊõøÊç¢Ê†áÂáÜÁöÑlazyÂáΩÊï∞. async È£éÊ†ºÁöÑÂáΩÊï∞‰ΩøÁî®asyncÂçèÁ®ãÊûÑÈÄ†Âô®ÂíåÊòéÁ°ÆÁöÑGlobalScopeÂºïÁî®ÂºÇÊ≠•Ë∞ÉÁî®ÂáΩÊï∞Â∞±ÂèØ‰ª•ÂÆûÁé∞asyncÈ£éÊ†ºÁöÑÂáΩÊï∞.‰∏ÄËà¨ËøôÊ†∑ÁöÑÂáΩÊï∞‰ª•...AsyncÂêéÁºÄÁªìÂ∞æ‰ª•Ë°®ÊòéÂè™ÂêØÂä®‰∫ÜÂºÇÊ≠•ÊâßË°å,ÈúÄË¶Å‰ΩøÁî®DeferredÊù•Ëé∑ÂèñÁªìÊûú.xxxAsyncÂáΩÊï∞‰∏çÊòØÊåÇËµ∑ÂáΩÊï∞.ËøôÁßçÂáΩÊï∞ÂèØÂú®‰ªªÊÑèÂú∞ÊñπË∞ÉÁî®.ËøôÁßçÂáΩÊï∞Â∞±ÊÑèÂë≥ÁùÄÂºÇÊ≠•(Ê≠§Â§ÑÂç≥‰∏∫Âπ∂Âèë)ÊâßË°å‰ªñ‰ª¨ÁöÑ‰ªªÂä°Âíå‰ª£Á†Å. 1234567891011121314151617181920212223242526272829303132import kotlinx.coroutines.*import kotlin.system.*fun main() &#123; val time = measureTimeMillis &#123; val one = somethingUsefulOneAsync() val two = somethingUsefulTwoAsync() // Á≠âÂæÖÁªìÊûúÂøÖÈ°ªÂú®ÊåÇËµ∑ÂáΩÊï∞ÊàñËÄÖÈòªÂ°û // ÊâÄ‰ª•‰ΩøÁî® runBlocking&#123;&#125; ÈòªÂ°û‰∏ªÁ∫øÁ®ã runBlocking &#123; println("$&#123;one.await() + two.await()&#125;")' &#125; &#125;&#125;fun somethingUsefulOneAsync() = GlobalScope.async &#123; doSomethingUsefulOne()&#125;fun somethingUsefulTwoAsync() = GlobalScope.async &#123; doSomethingUsefulTwo()&#125;suspend fun doSomethingUsefulOne(): Int &#123; delay(1000L) // pretend we are doing something useful here return 13&#125;suspend fun doSomethingUsefulTwo(): Int &#123; delay(1000L) // pretend we are doing something useful here, too return 29&#125; ËøôÊÆµ‰ª£Á†ÅÁ±ª‰ººÂÖ∂‰ªñËØ≠Ë®ÄÁöÑÂºÇÊ≠•(js).ÂÅáËÆæxxxAsyncÂú®ÊâßË°åËøáÁ®ã‰∏≠ÂèëÁîü‰∫ÜÂºÇÂ∏∏,ÈÄöÂ∏∏ÂÖ®Â±ÄÈîôËØØÂ§ÑÁêÜÂô®‰ºöÊçïËé∑ËØ•ÂºÇÂ∏∏,ËÆ∞ÂΩïÊä•ÂëäÊ≠§ÈîôËØØ,Á®ãÂ∫èÂèØ‰ª•ÁªßÁª≠ÊâßË°åÂÖ∂‰ªñÊìç‰Ωú.‰ΩÜÊòØÊ≠§Â§ÑÁöÑÂáΩÊï∞Âú®ÂêéÂè∞ËøêË°å,ËÄå‰∏ç‰ºöË¢´ÊâìÊñ≠,Âç≥‰ΩøÂàùÂßãÂåñË∞ÉÁî®ÂÆÉÁöÑÊìç‰ΩúÂ∑≤ÁªèË¢´ÁªàÊ≠¢‰∫Ü.ÊâÄ‰ª•‰∏çÈºìÂä±‰ΩøÁî®ËøôÊ†∑ÁöÑ‰ª£Á†ÅÈ£éÊ†º. ‰ΩøÁî® async ËøõË°åÁªìÊûÑÂåñÂπ∂ÂèëÂõ†‰∏∫asyncÂçèÁ®ãÊûÑÈÄ†Âô®ÊòØCoroutineScopeÁöÑÊâ©Â±ïÂáΩÊï∞,ÊâÄ‰ª•ÈúÄË¶Å‰ΩøÁî®coroutineScopeÂáΩÊï∞Êèê‰æõÊâßË°åËåÉÂõ¥. 12345suspend fun concurrentSum(): Int = coroutineScope &#123; val one = async &#123; doOne()&#125; val two = async &#123; doTwo()&#125; one.await+two.await()&#125; Â¶ÇÊûúÂú®‰∏äÈù¢ÁöÑÂáΩÊï∞ÈáåÂá∫ÈîôÊäõÂá∫ÂºÇÂ∏∏,ÈÇ£‰πàÂú®Ëøô‰∏™ËåÉÂõ¥ÈáåÂêØÂä®ÁöÑÊâÄÊúâÂçèÁ®ãÈÉΩÂ∞ÜË¢´ÂèñÊ∂à. ÂçèÁ®ã‰∏ä‰∏ãÊñáÂíåÂàÜÂèëÂô®ÂçèÁ®ãÊÄªÊòØÂú® kotlin Ê†áÂáÜÂ∫ìÂÆö‰πâÁöÑ CoroutineContext Á±ªÂûãÁöÑÊüê‰∏™‰∏ä‰∏ãÊñá‰∏≠ÊâßË°å.ÂçèÁ®ãÊòØ‰∏ÄÁ≥ªÂàó‰∏çÂêåÂÖÉÁ¥†ÁöÑÈõÜÂêà.‰∏ªÂÖÉÁ¥†ÊòØÂçèÁ®ãÁöÑ Job,dispatcher. ÂàÜÂèëÂô®ÂíåÁ∫øÁ®ãÂçèÁ®ã‰∏ä‰∏ãÊñáÂåÖÂê´‰∫Ü‰∏Ä‰∏™ÂçèÁ®ãÂàÜÂèëÂô®(ÂÜ≥ÂÆöÂì™‰∏™Á∫øÁ®ãÊàñÁõ∏Â∫îÂçèÁ®ãÊâßË°åÂÖ∂‰ª£Á†ÅÁöÑÁ∫øÁ®ã).ÂçèÁ®ãÂàÜÂèëÂô®ÂèØ‰ª•ÈôêÂà∂ÂçèÁ®ãÂú®Êüê‰∏™ÊåáÂÆöÁöÑÁ∫øÁ®ã,Á∫øÁ®ãÊ±†,ÊàñËÄÖÊú™ÂÆö‰πâÁöÑÁ∫øÁ®ãÂéªÊâßË°å.ÊâÄÊúâÁöÑÂçèÁ®ãÊûÑÈÄ†Âô®Â¶ÇlaunchÂíåasyncÊé•Êî∂‰∏Ä‰∏™ÂèØÈÄâÁöÑCoroutineContextÂèÇÊï∞(ÂèØ‰ª•Á≤æÁ°ÆÁöÑÊåáÂÆö‰∏∫‰∏Ä‰∏™Êñ∞ÂçèÁ®ãÊàñËÄÖÂÖ∂‰ªñ‰∏ä‰∏ãÊñáÂÖÉÁ¥†).ÂΩìlaunch{...}Êú™‰º†ÂèÇÊï∞Êó∂,ÂÆÉÁªßÊâø‰∫Ü‰ªéÂÆÉË¢´ÂêØÂä®ÁöÑÂú∞ÊñπÁöÑCoroutineScopeÁöÑ‰∏ä‰∏ãÊñá(ÂíåÂàÜÂèëÂô®).Dispatchers.UnconfinedÊòØ‰∏Ä‰∏™‰πüËøêË°åÂú®mainÁ∫øÁ®ãÁöÑÁâπÊÆäÂàÜÂèëÂô®,‰ΩÜÂÆûÈôÖÊú∫Âà∂ÊòØ‰∏çÂêåÁöÑ.ÂΩìÂçèÁ®ã‰ªéGlobalScope(Âç≥Dispatchers.Default)ÂêØÂä®Êó∂‰ΩøÁî®ÁöÑÊòØÈªòËÆ§ÂàÜÂèëÂô®.‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÂÖ±‰∫´ÂêéÂè∞Á∫øÁ®ãÊ±†,ÊâÄ‰ª•launch(Dispatchers.Default){...}ÂíåGloablScope.launch{...}‰ΩøÁî®‰∫ÜÁõ∏ÂêåÁöÑÂàÜÂèëÂô®.newSingleThreadContext‰∏∫ÂçèÁ®ãÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÂéªËøêË°å.‰∏ìÁî®Á∫øÁ®ãÊòØ‰∏ÄÁßçÈùûÂ∏∏ÊòÇË¥µÁöÑËµÑÊ∫ê.Âú®ÁúüÂÆûÂ∫îÁî®‰∏ã,ÂΩì‰∏çÂú®‰ΩøÁî®Êó∂,ÂÆÉÂøÖÈ°ª‰ΩøÁî® close ÂáΩÊï∞ release,ÊàñËÄÖÂ≠òÂÇ®Âú®‰∏Ä‰∏™È°∂Á∫ßÂèòÈáè‰∏≠,ÁÑ∂ÂêéÂú®Êï¥‰∏™Â∫îÁî®‰∏≠Â§çÁî®. Êó†ÈôêÂà∂ÂíåÂèóÈôêÂà∂ÁöÑÂàÜÂèëÂô®Dispatchers.UnconfinedÂçèÁ®ãÂàÜÂèëÂô®‰ªÖÂú®Á¨¨‰∏Ä‰∏™ÊåÇËµ∑ÁÇπÊó∂ÊâçÂú®Ë∞ÉÁî®ËÄÖÁ∫øÁ®ãÂêØÂä®‰∏Ä‰∏™ÂçèÁ®ã.ÊåÇËµ∑Âêé,Á∫øÁ®ã‰∏≠ÁöÑÂçèÁ®ãÂÆåÂÖ®Áî±Ë¢´Ë∞ÉÁî®ÁöÑÊåÇËµ∑ÂáΩÊï∞ÂÜ≥ÂÆöÊòØÂê¶ÊÅ¢Â§ç.Êó†ÈôêÂà∂ÂçèÁ®ãÂàÜÂèëÂô®ÈÄÇÁî®‰∫éÊó¢‰∏çÊ∂àËÄóCPUÊó∂Èó¥,‰πü‰∏çÊõ¥Êñ∞ÈôêÂÆö‰∫éÁâπÂÆöÁ∫øÁ®ãÁöÑÂÖ±‰∫´Êï∞ÊçÆ(Â¶ÇUI)ÁöÑÂçèÁ®ã.Ê≠§Â§ñ,Ê≠§ÂçèÁ®ãÈªòËÆ§ÁªßÊâøÂÖ∂Â§ñÈÉ®ÁöÑCoroutineScope.runBlockingÂçèÁ®ãÁöÑÈªòËÆ§ÂàÜÂèëÂô®ÂèóÈôê‰∫éÂÖ∂Ë¢´Ë∞ÉÁî®ÁöÑÁ∫øÁ®ã,ÊâÄ‰ª•ÂÆÉÂ∞ÜÂÖ∑ÊúâÂú®Ê≠§Á∫øÁ®ãÊâßË°åÂèØÈ¢ÑÊµãFIFOË∞ÉÂ∫¶ÁöÑÂΩ±Âìç. Êó†ÈôêÂà∂ÂàÜÂèëÂô®Â±û‰∫éÈ´òÁ∫ßÊäÄÂ∑ß:Âú®ÂàÜÂèë‰∏Ä‰∏™ÂçèÁ®ãÂêé‰∏çÈúÄË¶ÅÊàñ‰∫ßÁîü‰∏çÂèØÊúüÁöÑÂâØ‰ΩúÁî®Êó∂ÂæàÊúâÊïàÊûúÔºàÂõ†‰∏∫Âú®‰∏Ä‰∏™ÂçèÁ®ãÈáåÁöÑÊüê‰∫õÊìç‰ΩúÂøÖÈ°ªË¢´Ê≠£Á°ÆÁöÑÊâßË°åÔºâ.Âú®Ê≠£Â∏∏‰ª£Á†Å‰∏≠‰∏çË¶Å‰ΩøÁî®Êó†ÈôêÂà∂ÂàÜÂèëÂô®. Ë∞ÉËØïÂçèÁ®ãÂíåÁ∫øÁ®ãÂçèÁ®ãÂèØ‰ª•Âú®‰∏Ä‰∏™Á∫øÁ®ãË¢´ÊåÇËµ∑,Âú®Âè¶‰∏Ä‰∏™Á∫øÁ®ãË¢´Âî§ÈÜí.Âç≥‰ΩøÊòØ‰∏Ä‰∏™ÂçïÁ∫øÁ®ãÂàÜÂèëÂô®‰πüÂæàÈöæÊ£ÄÊµãÂçèÁ®ãÂú®‰ªÄ‰πàÊó∂Èó¥,‰ªÄ‰πà‰ΩçÁΩÆ,ÊâßË°å‰∫Ü‰ªÄ‰πàÊìç‰Ωú.ÊúÄÂ∏∏Áî®Ë∞ÉËØïÁ∫øÁ®ãÁöÑÊñπÂºèÊòØÂú®ÊØèÊù°Êó•ÂøóËØ≠Âè•ÊâìÂç∞Âá∫Á∫øÁ®ãÂêç.Âá†‰πéÊâÄÊúâÁöÑÊó•ÂøóÊ°ÜÊû∂ÈÉΩÊîØÊåÅËøô‰∏™ÁâπÊÄß.‰ΩøÁî®ÂçèÁ®ãÊó∂,Á∫øÁ®ãÊ≤°ÊúâÊèê‰æõÊõ¥Â§öÁöÑ‰∏ä‰∏ãÊñá‰ø°ÊÅØ,ËÄåkotlinx.coroutinesÂåÖÂê´‰∫ÜËÆ∏Â§öË∞ÉËØïÂ∑•ÂÖ∑ÂèØ‰ª•Êõ¥Êñπ‰æøÁöÑÂÆûÁé∞Ëøô‰∏™ÈúÄÊ±Ç.Âú® JVM ÂèÇÊï∞Êó∂ÈÖçÁΩÆ -DKotlinx.coroutines.debug. JVM ÈÖçÁΩÆ -ea ÂèÇÊï∞debugÊ®°ÂºèËá™Âä®ÂºÄÂêØ. Âú®Á∫øÁ®ã‰πãÈó¥Ë∑≥ËΩ¨1234567891011121314fun log(msg:String) = println("[$&#123;Thread.currentThread().name&#125;] $msg")fun main() &#123; newSingleThreadContext("Ctx1).use&#123;ctx1 -&gt; newSingleThreadContext("Ctx2).use&#123;ctx2 -&gt; runBlocking(ctx1) &#123; log("started in ctx1") withContext(ctx2) &#123; log("working in ctx2") &#125; log("back to ctx1") &#125; &#125; &#125;&#125; runBlockingÂèØ‰ª•ÊåáÂÆö‰∏ä‰∏ãÊñáÂØπË±°.withContextÂáΩÊï∞ÂèØ‰ª•ÊîπÂèò‰∏Ä‰∏™ÂçèÁ®ãÁöÑ‰∏ä‰∏ãÊñáÂØπË±°.kotlinÊ†áÂáÜÂ∫ìÈáåÁöÑuseÂáΩÊï∞‰ºö‰∏ªÂä®ÈáäÊîænewSingleThreadContextÂàõÂª∫ÁöÑÁ∫øÁ®ã(‰∏çÂÜç‰ΩøÁî®Êó∂). ‰∏ä‰∏ãÊñáÈáåÁöÑ JobÂçèÁ®ãÈáåÁöÑ Job ÊòØ‰∏ä‰∏ãÊñáÁöÑ‰∏ÄÈÉ®ÂàÜ,ÂèØ‰ª•ÈÄöËøácoroutineContext[Jon]Ë°®ËææÂºèËé∑ÂèñÂà∞. CoroutineScopeÈáåÁöÑisActive‰ªÖ‰ªÖÊòØcoroutineCOntext[Job]?.isActive == trueÁöÑÁÆÄÂÜô. Â≠êÂçèÁ®ãÂΩì‰ªéÂè¶‰∏Ä‰∏™ÂçèÁ®ãÁöÑCoroutineScope‰∏≠ÂêØÂä®‰∏Ä‰∏™Êñ∞ÂçèÁ®ãÊó∂,ÂêéËÄÖÈÄöËøáÂâçËÄÖÁöÑCoroutineScope.coroutineContextÂíåÊñ∞ÂçèÁ®ãÁöÑJobÁªßÊâø‰∫ÜÂâçËÄÖÁöÑ‰∏ä‰∏ãÊñá,ÂèòÊàê‰∫ÜÁà∂ÂçèÁ®ã jobÁöÑÂ≠êjob.ÂΩìÁà∂ÂçèÁ®ãË¢´ÂèñÊ∂àÊó∂,ÊâÄÊúâÁöÑÂ≠êjobÈÉΩ‰ºöË¢´Ëø≠‰ª£ÂèñÊ∂à.ÁÑ∂ËÄå,ÂΩì‰ΩøÁî®GlobalScopeÂêØÂä®‰∏Ä‰∏™ÂçèÁ®ãÊó∂,Êñ∞ÂçèÁ®ãÁöÑJobÊòØÊ≤°ÊúâÁà∂JobÁöÑ.ÊâÄ‰ª•ÂÆÉ‰∏ç‰ºöÁªëÂÆöÂà∞‰ªª‰Ωï scope,ËøêË°åÊòØÁã¨Á´ãÁöÑ. Áà∂ÂçèÁ®ãÁöÑËÅåË¥£Áà∂ÂçèÁ®ãÊÄª‰ºöÁ≠âÂæÖÊâÄÊúâÁöÑÂ≠êJobÊâßË°åÂÆåÊàêÊâçÁªìÊùü.Áà∂ÂçèÁ®ã‰∏çÈúÄË¶ÅÂàªÊÑèËøΩË∏™ÂÆÉÂêØÂä®ÁöÑÊâÄÊúâÂ≠êJob,‰πü‰∏çÈúÄË¶Å‰ΩøÁî®Job.joinÂéªÁ≠âÂæÖ. ÂëΩÂêçÂçèÁ®ãËá™Âä®ÂàÜÈÖçÁöÑÂçèÁ®ãidÂèØ‰ª•Âú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôËøáÊª§ÂÖ≥Ê≥®ÁöÑÂçèÁ®ã‰ø°ÊÅØ.Â¶ÇÊûú‰∏Ä‰∏™ÂçèÁ®ãÊòØËøõË°åÁâπÊÆäËØ∑Ê±ÇÊàñÊâßË°åÁâπÊÆäÂêéÂè∞‰ªªÂä°,ÂØπÂÖ∂ËøõË°åÂêàÈÄÇÁöÑÂëΩÂêçÊõ¥Âà©‰∫édebug.contextÁöÑCoroutineNameÂÖÉÁ¥†Â±ûÊÄßÁ±ª‰ººÁ∫øÁ®ãÂêçÂèØ‰ª•ÁªôÂçèÁ®ãÂëΩÂêç.ÂΩì debug Ê®°ÂºèÂºÄÂêØÊó∂,ÂÆÉ‰ºöÂåÖÂê´Ê≠§ÂçèÁ®ãÊâÄÂú®Á∫øÁ®ãÁöÑÂêçÂ≠ó. ÁªÑÂêà‰∏ä‰∏ãÊñáÂØπË±°ÂÖÉÁ¥†ÊúâÊó∂ÈúÄË¶Å‰∏∫‰∏Ä‰∏™ÂçèÁ®ã‰∏ä‰∏ãÊñáÂÆö‰πâÂ§ö‰∏™ÂÖÉÁ¥†.ÂèØ‰ª•‰ΩøÁî®+ÂÆûÁé∞. 1launch(Dispatchers.Default + CoroutineNmae("Test")) &#123;&#125; ÂçèÁ®ãËåÉÂõ¥ÂÅáËÆæÊàë‰ª¨ÁöÑÂ∫îÁî®Êúâ‰∏Ä‰∏™ÊúâÁîüÂëΩÂë®ÊúüÁöÑÂØπË±°,‰ΩÜÊòØËøô‰∏™ÂØπË±°‰∏çÊòØÂçèÁ®ã.‰æãÂ¶ÇÊàë‰ª¨ÁöÑandroidÂ∫îÁî®Âú®ActiivtyÁöÑ‰∏ä‰∏ãÊñá‰∏ãÂêØÂä®‰∫ÜËÆ∏Â§öÁöÑÂçèÁ®ãÂéªÊâßË°åÂºÇÊ≠•Êìç‰Ωú(Â¶ÇËé∑ÂèñÊõ¥Êñ∞Êï∞ÊçÆ„ÄÅÊâßË°åÂä®ÁîªÁ≠â).ÂΩìactivityË¢´ÈîÄÊØÅÊó∂ÊâÄÊúâÁöÑÂçèÁ®ãÂøÖÈ°ªË¢´ÂèñÊ∂à‰ª•ÈÅøÂÖçÂÜÖÂ≠òÊ≥ÑÊºè.Êàë‰ª¨ÂΩìÁÑ∂ÂèØ‰ª•ÊâãÂä®ÁöÑÂ∞ÜÂçèÁ®ãÂíåjobÁªëÂÆöÂà∞activityÁöÑ‰∏ä‰∏ãÊñá,‰ΩÜÊòØkotlinx.coroutinesÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÊäΩË±°ÁöÑÂ∞ÅË£ÖÂØπË±°:CoroutineScope.ÊâÄÊúâÁöÑÂçèÁ®ãÊûÑÈÄ†Âô®ÈÉΩÊòØ‰Ωú‰∏∫ÂÖ∂Êâ©Â±ïËÄåÂ≠òÂú®.ÂàõÂª∫‰∏Ä‰∏™ÁªëÂÆöÂà∞activityÁöÑCoroutineScopeÂØπË±°Êù•ÁÆ°ÁêÜÁîüÂëΩÂë®Êúü.CoroutineScopeÂÆû‰æãÂèØ‰ª•ÈÄöËøáCoroutineScope()ÊàñMainScope()Â∑•ÂéÇÂáΩÊï∞ÂàõÂª∫.ÂâçËÄÖÂàõÂª∫‰∏Ä‰∏™ÈÄöÁî®ÁöÑscope,ËÄåÂêéËÄÖ‰ΩøÁî®Dispatchers.Main ‰Ωú‰∏∫ÈªòËÆ§ÂàÜÂèëÂô®ÂàõÂª∫‰∏Ä‰∏™‰∏ì‰∏∫UIÂ∫îÁî®ÊûÑÈÄ†ÁöÑscope. 123456class Activity &#123; private val mainScope = MainScope() fun destroy()&#123; mainScope.cancel() &#125;&#125; ‰πüÂèØ‰ª•‰∏∫ ActivityÁ±ªÁªßÊâø CoroutineScopeÊé•Âè£.ÊúÄ‰Ω≥ÊñπÊ°àÊòØ‰ΩøÁî®‰ª£ÁêÜÂÆûÁé∞ÈªòËÆ§Â∑•ÂéÇÂáΩÊï∞. 1class Activity : CoroutineScope by CoroutineScope(Dispatchers.Default) &#123;&#125; Á∫øÁ®ãÊú¨Âú∞Êï∞ÊçÆ(Thread-local data)ÊúâÊó∂ÂÄôÂú®ÂçèÁ®ã‰πãÈó¥ËÉΩ‰º†ÈÄíÁ∫øÁ®ãÊú¨Âú∞Êï∞ÊçÆÂ∞Ü‰ºöÂæàÊñπ‰æø.‰ΩÜÊòØÂõ†‰∏∫ËøôÊòØÊï∞ÊçÆÊ≤°ÊúâÁªëÂÆöÂà∞‰ªªÊÑèÁâπÂÆöÁöÑÁ∫øÁ®ã,ÊâÄ‰ª•ÂèØËÉΩÈúÄË¶ÅÂÜôÂæàÂ§öÈáçÂ§çÁöÑ‰ª£Á†Å. asContextElementÊâ©Â±ïÂáΩÊï∞ÂèØ‰ª•‰Ωú‰∏∫ThreadLocal‰ΩøÁî®.ÂÆÉ‰ºöÂàõÂª∫‰∏Ä‰∏™È¢ùÂ§ñÁöÑ‰∏ä‰∏ãÊñáÂÖÉÁ¥†‰øùÂ≠òThreadLocalÂÄº,Âú®ÊØèÊ¨°ÂçèÁ®ãÂàáÊç¢ÂÆÉÁöÑ‰∏ä‰∏ãÊñáÊòØËá™Âä®ÊÅ¢Â§ç. ÂæàÂÆπÊòìÂøòËÆ∞ËÆæÁΩÆÁõ∏Â∫îÁöÑ‰∏ä‰∏ãÊñáÂÖÉÁ¥†.Â¶ÇÊûúÁ∫øÁ®ãËøêË°åÁöÑÂçèÁ®ã‰∏çÂêå,‰ªéÂçèÁ®ãËÆøÈóÆthread-localÂèòÈáèÂèØËÉΩ‰ºöÂá∫Áé∞Êú™Áü•ÁöÑÂÄº.‰∏∫‰∫ÜÈÅøÂÖçËøôÊ†∑ÁöÑÊÉÖÂÜµ,Êé®Ëçê‰ΩøÁî®ensurePresentÊñπÊ≥ïÂíåÂú®‰∏çÊ≠£Á°Æ‰ΩøÁî®Êó∂fail-fast. ThreadLocalÂ±û‰∫éÈ°∂Á∫ßÂÖÉÁ¥†ÊîØÊåÅ,ÂèØ‰ª•Âú®kotlinx.coroutinesÊèê‰æõÂéüÁîüÊîØÊåÅ.‰ªÖÊúâ‰∏Ä‰∏™ÈôêÂà∂:Âç≥Ëøô‰∏™thread-localÂÄºÂèëÁîüÂèòÂåñ,ÂçèÁ®ãË∞ÉÁî®ËÄÖ‰∏ç‰ºöÊî∂Âà∞ÈÄöÁü•(Âõ†‰∏∫ÂçèÁ®ã‰∏ä‰∏ãÊñáÂÖÉÁ¥†‰∏ç‰ºöËøΩË∏™ÊâÄÊúâÁöÑThreadLocalÂØπË±°ËÆøÈóÆË∑ØÂæÑ),ÈÇ£‰πàÊõ¥Êñ∞ÁöÑÂÖÉÁ¥†Âú®‰∏ãÊ¨°ÊåÇËµ∑Êó∂Â∞Ü‰ºö‰∏¢Â§±.Âú®ÂçèÁ®ã‰∏≠‰ΩøÁî®withContextÊõ¥Êñ∞‰∏Ä‰∏™thread-localÂØπË±°ÁöÑÂÄº. ÂΩìÁÑ∂,Êï∞ÊçÆ‰πüÂèØ‰ª•Â≠òÂÇ®Âú®‰∏Ä‰∏™ÂèØÂèòÁöÑboxÂ¶Çclass Counter(var i:Int)‰∏≠,ÊúÄÁªà‰ºöË¢´ËΩ¨‰∏∫Â≠òÂÇ®Âú®thread-localÂèòÈáè‰∏≠.ËøôÊ†∑‰Ω†Â∞±ÈúÄË¶ÅËá™Â∑±ÂêåÊ≠•Êï∞ÊçÆÁöÑÂèòÊõ¥. ThreadContextElement ÂºÇÊ≠•ÊµÅÊåÇËµ∑ÂáΩÊï∞ÂºÇÊ≠•ËøîÂõû‰∏Ä‰∏™ÂÄº,‰ΩÜÊòØÂ¶Ç‰ΩïËøîÂõûÂ§ö‰∏™ÂºÇÊ≠•ÂÄº?ÂºÇÊ≠•ÊµÅÂèØ‰ª•ÂÆûÁé∞ËøôÊ†∑ÁöÑÈúÄÊ±Ç. Â±ïÁ§∫Â§ö‰∏™ÂÄºcollectionsÂú® kotlin ‰ΩøÁî® collectionsË°®Á§∫Â§ö‰∏™ÂÄº. sequenceÂ¶ÇÊûúÊï∞ÊçÆÊòØÈúÄË¶ÅËä±Ë¥πCPUÈòªÂ°ûËÆ°ÁÆóÂá∫Êù•ÁöÑ,ÈÇ£ÂèØ‰ª•‰ΩøÁî® Sequence 12345678910fun foo(): Sequence&lt;Int&gt; = sequence &#123; for (i in 1..3) &#123; Thread.sleep(100) yield(i) &#125;&#125;fun main() &#123; foo().forEach &#123;value -&gt; println(value)&#125;&#125; ÊåÇËµ∑ÂáΩÊï∞‰ΩÜÊòØ‰∏äÈù¢ËøôÊ†∑ÁöÑ‰ª£Á†Å‰ºöÈòªÂ°û‰∏ªÁ∫øÁ®ã. Flows‰ΩøÁî® List&lt;Int&gt;‰ºö‰∏ÄÊ¨°ÊÄßËøîÂõûÊâÄÊúâÁöÑÂÄº.ÂèØ‰ª•‰ΩøÁî®Flow&lt;int&gt;ÂºÇÊ≠•ÁöÑËÆ°ÁÆóÂÄºÊù•Ë°®Á§∫Êï∞ÊçÆÊµÅ. 12345678910111213141516fun foo(): Flow&lt;Int&gt; = flow &#123; for (i in 1..3) &#123; delay(100) emit(i) &#125;&#125;fun main() = runBlocking&lt;Unit&gt; &#123; launch &#123; for (k in 1..3) &#123; println("I am not blocked$K") delay(100) &#125; &#125; foo().collect&#123;value -&gt; println(value)&#125;&#125; flow{...} ÊûÑÈÄ†Âô®ÂèØ‰ª•ÊåÇËµ∑ foo() ÂáΩÊï∞‰∏çÂÜçË¢´Ê†áËÆ∞‰∏∫suspend Flows Â±û‰∫éÂÜ∑ÂêØÂä®Flows Á±ª‰ºº sequences ÊòØÂÜ∑ÂêØÂä®ÁöÑ-Âú® flow ÊûÑÈÄ†Âô®‰∏≠ÁöÑ‰ª£Á†ÅÂú® flow Ë¢´ collect ÂâçÊòØ‰∏ç‰ºöËøêË°åÁöÑ.ËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πà foo()ÂáΩÊï∞Ê≤°ÊúâË¢´Ê†áËÆ∞suspend. Flows ÂèñÊ∂àflow ÈÅµÂæ™ÂçèÁ®ãÁöÑÂèñÊ∂àËßÑÂàô.flow Ê≤°ÊúâÊèê‰æõÂÖ∂‰ªñÈ¢ùÂ§ñÁöÑÊåÇËµ∑ÁÇπ.ÂΩìflowË¢´‰∏Ä‰∏™ÂèØÂèñÊ∂àÁöÑÊåÇËµ∑ÂáΩÊï∞(delay)ÊåÇËµ∑Êó∂ÊòØÂèØ‰ª•Ë¢´ÂèñÊ∂àÁöÑ.Âê¶ÂàôÊòØ‰∏çÂèØË¢´ÂèñÊ∂àÁöÑ. Flow ÊûÑÈÄ†Âô® flow{...} flowOfÊûÑÈÄ†Âô®ÂèëÂ∞ÑÂõ∫ÂÆöÂ∏¶‰∏ãÁöÑÊï∞ÊçÆÊµÅ ‰∏çÂêåÁöÑ collections Âíå sequence ÂèØ‰ª•‰ΩøÁî® .asFlow() Êâ©Â±ïÂáΩÊï∞ËΩ¨‰∏∫ flow.flow ÁöÑ‰∏≠Èó¥Êìç‰ΩúFlows ÂèØ‰ª•‰ΩøÁî®Á±ª‰ºº collections Âíå sequences ËøõË°åËΩ¨Êç¢.‰∏≠Èó¥Êìç‰ΩúÂ∫îÁî®Âú®‰∏äÊ∏∏ÊµÅ,ÁÑ∂ÂêéËøîÂõû‰∏ãÊ∏∏ÊµÅ.Ëøô‰∫õÊµÅÈÉΩÊòØÂÜ∑ÂêØÂä®ÊµÅ.ËøôÊ†∑ÁöÑÊìç‰Ωú‰∏çÊòØÊåÇËµ∑ÂáΩÊï∞.Á´ãÂç≥ËøîÂõûÊñ∞ÁöÑËΩ¨Êç¢ÊµÅ. ÊúÄÂü∫Êú¨Êìç‰ΩúÂêçÁß∞Â¶Çmap,filter.‰∏çÂêå‰∫é sequence ÁöÑÊòØÂú®Ëøô‰∫õÊìç‰ΩúÈáåÁöÑ‰ª£Á†ÅÂùóÂèØ‰ª•Ë∞ÉÁî®ÊåÇËµ∑ÂáΩÊï∞. 12345678910suspend fun performRequest(request: Int): String &#123; delay(1000) return "response $request"&#125;fun main() = runBlocking&lt;Unit&gt; &#123; (1..3).asFlow() .map&#123; request -&gt; performRequest(request)&#125; .collect&#123; response -&gt; println(response)&#125;&#125; ËΩ¨Êç¢Êìç‰ΩúÁ¨¶flow ËΩ¨Êç¢Á¨¶‰∏≠,ÊúÄÂ∏∏Áî®ÁöÑË¢´Áß∞‰∏∫transform.ÂÆÉÂèØ‰ª•ÂÆûÁé∞ÊØîmapÂíåfilterÊõ¥Â§çÊùÇÁöÑËΩ¨Êç¢Êìç‰Ωú.‰ΩøÁî® transformÊìç‰ΩúÁ¨¶,ÂèØ‰ª•ÂèëÂ∞Ñ‰ªªÊÑèÂÄº‰ªªÊÑèÊ¨°. 12345678910111213suspend fun performRequest(request: Int): String &#123; delay(1000) return "response $request"&#125;fun main() = runBlocking&lt;Unit&gt; &#123; (1..3).asFlow() .transform&#123; request -&gt; emit("making request $request") emit(performRequest(request)) &#125; .collect&#123; resposne -&gt; println(response)&#125;&#125; Â§ßÂ∞èÈôêÂà∂Êìç‰ΩúÁ¨¶Â§ßÂ∞èÈôêÂà∂Êìç‰ΩúÁ¨¶Â¶ÇtakeÂú®Áõ∏Â∫îÁöÑÈôêÂà∂Âà∞ÊúüÊó∂‰ºöÂèñÊ∂àÊâßË°å.ÂçèÁ®ãÈáåÁöÑÂèñÊ∂àÊÄªÊòØ‰ºöÊäõÂá∫ÂºÇÂ∏∏,ÊâÄ‰ª•ÊâÄÊúâÁöÑËµÑÊ∫êÁÆ°ÁêÜÂáΩÊï∞Â¶Ç(try{...}finally{...})ÂíåÊôÆÈÄöÁöÑÊìç‰ΩúÁ±ª‰ºº. ÁªàÊ≠¢flowÊìç‰ΩúÁ¨¶ÁªàÊ≠¢Êìç‰ΩúÁ¨¶ÊòØ‰∏Ä‰∏™ÂêØÂä®Êî∂ÈõÜÊµÅÁöÑÊåÇËµ∑ÂáΩÊï∞.collectÂáΩÊï∞ÊòØÊúÄÈïøÁî®ÁöÑ‰∏Ä‰∏™.ÂÖ∂‰ªñÁöÑÊúâ: ËΩ¨Êç¢‰∏∫‰∏çÂêåÁöÑ collectionsÂ¶Ç: toList,toSet Ëé∑ÂèñÁ¨¨‰∏Ä‰∏™ÂÄºÂπ∂‰∏îÁ°ÆÂÆöÊµÅÂè™ÂèëÈÄÅ‰∫Ü‰∏Ä‰∏™ÂÄº. ‰ΩøÁî® reduceÂíåfoldÊääÊµÅÂéãÁº©‰∏∫‰∏Ä‰∏™ÂÄº.ÊµÅÊòØËøûÁª≠ÁöÑ‰∏Ä‰∏™ÊµÅÁöÑÊØè‰∏™Áã¨Á´ãÊî∂ÈõÜÈÉΩÊòØËøûÁª≠ÁöÑÈô§ÈùûÊüê‰∫õÁâπÊÆäÊìç‰ΩúÂ§ÑÁêÜ‰∫ÜÂ§ö‰∏™ÊµÅ.ÂçèÁ®ãÈáåÁöÑÊµÅÊî∂ÈõÜ‰ºöË∞ÉÁî®‰∏Ä‰∏™ÁªàÊ≠¢Êìç‰ΩúÁ¨¶.ÈªòËÆ§‰∏ç‰ºöÂêØÂä®Êñ∞ÂçèÁ®ã.ÊØè‰∏Ä‰∏™ÂèëÂ∞ÑÁöÑÊï∞ÊçÆÈÉΩ‰ºöË¢´‰ªé‰∏äÊ∏∏Âà∞‰∏ãÊ∏∏ÁöÑ‰∏≠Èó¥Â§ÑÁêÜÊìç‰ΩúÁ¨¶Â§ÑÁêÜ.ÊúÄÂêéË¢´‰º†ÈÄÅÂà∞ÁªàÊ≠¢Êìç‰ΩúÁ¨¶.Flow contextÊµÅÁöÑÊî∂ÈõÜÊìç‰ΩúÊÄªÊòØÂ§Ñ‰∫éÊ≠£Âú®Ë¢´Ë∞ÉÁî®ÁöÑÂçèÁ®ã‰∏≠,ËÄå‰∏çÊòØflowÊâÄÂú®ÁöÑÂçèÁ®ã. ÊµÅÁöÑËøô‰∏™Êìç‰ΩúË¢´Áß∞‰∏∫‰∏ä‰∏ãÊñá‰øùÂ≠ò.ÊâÄ‰ª•ÈªòËÆ§flow{...}ÈáåÁöÑ‰ª£Á†ÅËøêË°åÁöÑ‰∏ä‰∏ãÊñáÊòØÁî±ÊµÅÁöÑÁõ∏Â∫îÊî∂ÈõÜËÄÖÊèê‰æõÁöÑ.ÂØπ‰∫éÂø´ÈÄüËøêË°åÊàñÂºÇÊ≠•‰ª£Á†ÅËÄåË®Ä,ËøôÊòØ‰∏™ÂÆåÁæéÁöÑÈªòËÆ§ËÆæÁΩÆ,ÂÆÉ‰∏çÂÖ≥ÂøÉ‰∏ä‰∏ãÊñáÊâßË°åËÄÖ,‰πü‰∏çÈòªÂ°ûË∞ÉÁî®ËÄÖ. withContext ÂèëÂ∞ÑÈîôËØØÈïøÊó∂Èó¥Ê∂àËÄóCPUÁöÑ‰ª£Á†ÅÈúÄËøêË°åÂú®Dispatchers.Default‰∏ä‰∏ãÊñá,UIÊõ¥Êñ∞‰ª£Á†ÅÈúÄËøêË°åÂú®Dispatchers.Main‰∏ä‰∏ãÊñá‰∏≠.ÈÄöÂ∏∏,Âú®ÂçèÁ®ã‰∏≠‰ΩøÁî® withContextÂàáÊç¢‰∏ä‰∏ãÊñá,‰ΩÜÊòØflow{...}‰∏≠ÁöÑ‰ª£Á†ÅÊúâ‰∏ä‰∏ãÊñá‰øùÁïôÁâπÊÄß,‰∏çÂÖÅËÆ∏Âú®ÂÖ∂‰ªñ‰∏ä‰∏ãÊñáÂèëÂ∞ÑÊï∞ÊçÆ. flowOn Êìç‰ΩúÁ¨¶ÊåáÂêë flowOn ÂáΩÊï∞ÁöÑÂºÇÂ∏∏ÂèØ‰ª•Áî®Êù•Êõ¥Êîπ flow ÂèëÂ∞ÑÁöÑ‰∏ä‰∏ãÊñá.ÊîπÂèòflow‰∏ä‰∏ãÊñáÁöÑÊ≠£Á°ÆÊìç‰ΩúÂ¶Ç‰∏ã: 123456789101112fun foo():Flow&lt;Int&gt; = flow &#123; for (i in 1..3) &#123; delay(100) emit(i) &#125;&#125;.flowOn(Dispatchers.Default)fun main() = runBlocking&lt;Unit&gt; &#123; foo().collect&#123; value -&gt; log("llll") &#125;&#125; flowOnÊìç‰ΩúÁ¨¶ÊîπÂèò‰∫ÜÊµÅÁöÑÈªòËÆ§È°∫Â∫è.Áé∞Âú®Êî∂ÈõÜËÄÖÂú®‰∏Ä‰∏™ÂçèÁ®ã,ËÄåÂèëÂ∞ÑÂç¥Âπ∂ÂèëÁöÑËøêË°åÂú®Âú®Âè¶‰∏Ä‰∏™Á∫øÁ®ãÁöÑ‰∏Ä‰∏™ÂçèÁ®ã‰∏≠.ÂΩìÂú®ÂÆÉÁöÑ‰∏ä‰∏ãÊñá‰∏≠ÊîπÂèòCoroutineDispatcherÊó∂flowOnÊìç‰ΩúÁ¨¶‰∏∫‰∏äÊ∏∏ÂàõÂª∫‰∫ÜÂè¶‰∏Ä‰∏™ÂçèÁ®ã. BufferingÂú®Ê∂âÂèäÈïøÊó∂Èó¥ËøêË°åÁöÑÂºÇÊ≠•Êìç‰ΩúÊó∂,Âú®‰∏çÂêåÂçèÁ®ãËøêË°åÊµÅÁöÑ‰∏çÂêåÈÉ®ÂàÜÂØπÊµÅÊî∂ÈõÜÁöÑÊÄªÊó∂Èó¥ÂæàÊúâÂ∏ÆÂä©.‰ΩøÁî®bufferÊìç‰ΩúÁ¨¶Êìç‰ΩúÊìç‰ΩúÊ≠£Âú®ÂèëÂ∞ÑÊï∞ÊçÆÁöÑÊµÅ,Âπ∂ÂèëÁöÑÊî∂ÈõÜËÄå‰∏çÊòØÈ°∫Â∫èÊî∂ÈõÜ. 123456789val time = measureTimeMillis &#123; foo() .buffer() .collect &#123; value -&gt; delay(300) println(value) &#125;&#125;println(&quot;Collected in $time ms&quot;) ÂΩìÊîπÂèò CoroutineDispatcherÊó∂flowOnÊìç‰ΩúÁ¨¶‰ΩøÁî®Áõ∏‰ººÁöÑÊú∫Âà∂,‰ΩÜÊòØÊ≠§Â§Ñ‰∏çÈúÄË¶ÅÊîπÂèòÊâßË°å‰∏ä‰∏ãÊñá. ÂºÇÊ≠•ÂêàÂπ∂ÂΩìÊµÅË°®Á§∫‰∫ÜÈÉ®ÂàÜÊìç‰ΩúÁªìÊûúÊàñÂèÇÊï∞Êõ¥Êñ∞Áä∂ÊÄÅ,Â§ÑÁêÜÊØè‰∏™ÂÄºÂèØËÉΩÊ≤°ÂøÖË¶Å,‰ΩÜÊòØÈúÄË¶ÅÂ§ÑÁêÜÊúÄËøëÁöÑ‰∏Ä‰∏™.ÂΩìÊî∂ÈõÜËÄÖÂ§ÑÁêÜÂ§™ÊÖ¢Êó∂conflateÊìç‰ΩúÁ¨¶ÂèØ‰ª•Ë∑≥ËøáÊüê‰∫õ‰∏≠Èó¥ÂÄº. Â§ÑÁêÜÊúÄÂêé‰∏Ä‰∏™ÂÄºÂΩìÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÂ§ÑÁêÜÈÉΩÂæàÊÖ¢Êó∂,conflate ÊòØ‰∏ÄÁßçÂä†ÈÄüÁöÑÊñπÊ≥ï.ÂÆÉ‰∏¢ÂºÉ‰∫Ü‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆ.Âè¶‰∏ÄÁßçÊñπÂºèÊòØÂèñÊ∂àÊÖ¢Ê∂àË¥πËÄÖ,ÁÑ∂ÂêéÂè™Ë¶ÅÁîü‰∫ßËÄÖÂèëÈÄÅ‰∏Ä‰∏™Êï∞ÊçÆÂ∞±ÈáçÂêØ. 123456foo() .follectLastes &#123;value -&gt; println("collection $value") delay(300) pritln("Done $value") &#125; ÁªÑÂêàÂ§ö‰∏™ÊµÅZipÁ±ª‰ººSequence.zipÊâ©Â±ïÂáΩÊï∞,ÊµÅ‰πüÊúâËá™ÊãçÊìç‰ΩúÁ¨¶ CombineÂΩìÊµÅË°®Á§∫Êüê‰∫õÂèòÈáèÊàñÊìç‰ΩúÊúÄËøëÁöÑÂÄºÊó∂(ËßÅconflation),ÂÆÉÂèØËÉΩÈúÄË¶ÅÊ†πÊçÆÁõ∏Â∫îÊµÅÁöÑÊúÄÊñ∞ÂÄºÂíå‰∏äÊ∏∏ÂèëÂ∞ÑÁöÑÊñ∞Êï∞ÊçÆËÆ°ÁÆó,combineÂèØ‰ª•ÂÆûÁé∞.‰ΩøÁî®zipÁöÑËØùÂ∞±ÂæóÁ≠âÊó∂Èó¥ÊúÄÈïøÁöÑÂì™‰∏™ÊµÅÊî∂Âà∞ÂÄºÊâçËÉΩËÆ°ÁÆó. Â±ïÂºÄÊµÅÂõ†‰∏∫ÊµÅË°®Á§∫ÂºÇÊ≠•Êé•ÂèóÂà∞ÁöÑÊï∞ÊçÆÊµÅ,ÊâÄ‰ª•ÊØè‰∏™ÂÄºÂèØ‰ª•ËΩ¨‰∏∫Âè¶‰∏Ä‰∏™Â∫èÂàóÁöÑÊµÅ.Â¶ÇFlow&lt;Flow&lt;String&gt;&gt; flatMapConcatflatMapConcatÂíåflattenConcatÊìç‰ΩúÁ¨¶ÂÆûÁé∞‰∫ÜÊãºÊé•Ê®°Âºè.ËøôÊòØÊúÄÊé•Ëøë sequenceÁöÑÊìç‰ΩúÁ¨¶. 12345678910111213141516171819import kotlinx.coroutines.*import kotlinx.coroutines.flow.*fun requestFlow(i: Int): Flow&lt;String&gt; = flow &#123; emit(&quot;$i: First&quot;) delay(500) // wait 500 ms emit(&quot;$i: Second&quot;)&#125;fun main() = runBlocking&lt;Unit&gt; &#123;//sampleStart val startTime = currentTimeMillis() // remember the start time (1..3).asFlow().onEach &#123; delay(100) &#125; // a number every 100 ms .flatMapConcat &#123; requestFlow(it) &#125; .collect &#123; value -&gt; // collect and print println(&quot;$value at $&#123;System.currentTimeMillis() - startTime&#125; ms from start&quot;) &#125;//sampleEnd&#125; flatMapMergeÂè¶‰∏ÄÁßçÂ±ïÂºÄÊ®°ÂºèÊòØÂπ∂ÂèëÁöÑÊî∂ÈõÜÊâÄÊúâËøõÊù•ÁöÑÊµÅ,ÁÑ∂ÂêéÊää‰ªñ‰ª¨ÂêàÂπ∂‰∏∫‰∏Ä‰∏™Âçï‰∏ÄÊµÅ,ËøôÊ†∑ÂÄºÂ∞±ÂèØ‰ª•Â∞ΩÂø´Ë¢´ÂèëÂá∫Âéª.flatMapMerge,flattenMerge.ÂÆÉ‰ª¨ÈÉΩÊé•Âèó‰∏Ä‰∏™concurrencyÂèÇÊï∞ÈôêÂà∂Âπ∂ÂèëÊµÅÁöÑÊï∞Èáè. flatmapLatest12345678910111213141516171819import kotlinx.coroutines.*import kotlinx.coroutines.flow.*fun requestFlow(i: Int): Flow&lt;String&gt; = flow &#123; emit(&quot;$i: First&quot;) delay(500) // wait 500 ms emit(&quot;$i: Second&quot;)&#125;fun main() = runBlocking&lt;Unit&gt; &#123;//sampleStart val startTime = currentTimeMillis() // remember the start time (1..3).asFlow().onEach &#123; delay(100) &#125; // a number every 100 ms .flatMapLatest &#123; requestFlow(it) &#125; .collect &#123; value -&gt; // collect and print println(&quot;$value at $&#123;System.currentTimeMillis() - startTime&#125; ms from start&quot;) &#125;//sampleEnd&#125;]]></content>
      <tags>
        <tag>ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Âπ∂ÂèëÂíåÂ§öÁ∫øÁ®ãÊåáÂçó]]></title>
    <url>%2F2019%2F08%2F26%2FJava-%E5%B9%B6%E5%8F%91%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%8C%87%E5%8D%97%2F</url>
    <content type="text"></content>
      <tags>
        <tag>java</tag>
        <tag>Â§öÁ∫øÁ®ã</tag>
        <tag>Âπ∂Âèë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Groovy template]]></title>
    <url>%2F2019%2F08%2F16%2FGroovy-template%2F</url>
    <content type="text"><![CDATA[Groovy MarkupTemplateEngine ‰∏ªË¶ÅÈù¢ÂêëÁîüÊàêÁ±ª XML(XML,XHTML,HTML5‚Ä¶)ÁöÑÊ†áËÆ∞ËØ≠Ë®Ä,‰ΩÜÊòØ‰πüÊîØÊåÅÂÖ∂‰ªñÂü∫‰∫éÂÜÖÂÆπÁöÑÊñáÊú¨.Âíå‰º†ÁªüÁöÑÊ®°ÁâàÂºïÊìéÁõ∏ÊØî,Ê≠§ÂºïÊìéÊîØÊåÅÂü∫‰∫é DSL ÁöÑ builder ËØ≠Ê≥ï. 123456xmlDeclaration()cars &#123; carsh.each &#123; car(make:it.make,model:it.model) &#125;&#125; ÂºïÁî®MarkupTemplateEngineÊîØÊåÅÂºïÁî®Êù•Ëá™Âè¶‰∏Ä‰∏™Êñá‰ª∂ÁöÑÂÜÖÂÆπ. Âè¶‰∏Ä‰ªΩÊ®°Áâà ÂéüÁîüÂÜÖÂÆπ ÈúÄË¶ÅËΩ¨‰πâÁöÑÂÜÖÂÆπ]]></content>
      <tags>
        <tag>ËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Podman]]></title>
    <url>%2F2019%2F08%2F13%2FPodman%2F</url>
    <content type="text"><![CDATA[Podman ÊòØ‰ªÄ‰πà? Podman ÊòØ‰∏Ä‰∏™ÈùûÂÆàÊä§Á∫øÁ®ãÁöÑÂÆπÂô®ÂºïÊìé,ÊîØÊåÅÂú® Linux Á≥ªÁªü‰∏äÂºÄÂèë„ÄÅÁÆ°ÁêÜÂíåËøêË°å OCI ÂÆπÂô®.ÂÆπÂô®ÂêåÊó∂ÊîØÊåÅ root Ë∫´‰ªΩÂíåÈùû root Ë∫´‰ªΩ.Âè™ÈúÄË¶Å‰ΩøÁî® alias docker=podman Â∞±ÂèØ‰ª•Á´ãÂç≥‰ªé docker ÂàáÊç¢Âà∞ podman. ÂÆâË£Ö Arch Linux &amp; Manjaro Linuxsudo pacman -S podman Fedora,CentOSsudo yum -y install podman Fedora-CoreOS,Fedora SilverBlueÂÜÖÁΩÆÊó†ÈúÄÂÆâË£Ö Gentoosudo emerge app-emulation/libpod MacOSbrew cask install podman openSUSEsudo zypper install podman openSUSE KubicÂÜÖÁΩÆÊó†ÈúÄÂÆâË£Ö RHEL7 12sudo subcription-manager repos --enable=rhel-7-server-extras-rpmssudo yum -y install podman RHEL8 Beta 12sudo yum module enable -y contianer-tools:1.0sudo yum module install-y container-tools:1.0 Ubuntu 12345sudo apt-get update -qqsudo apt-get install -qq -y software-properties-common uidmapsudo add-apt-repository -y ppa:projectatomic/ppasudo apt-get update -qqsudo apt-get -qq -y install podman ÂºÄÂßãPodman Áî± libpod Â∫ìÊèê‰æõÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑.ÂèØ‰ª•Áî®Êù•ÂàõÂª∫Áª¥Êä§ÂÆπÂô®.‰∏ãÈù¢ÁöÑÊåáÂçóÂ∞ÜÂ∏¶‰Ω†Â¶Ç‰ΩïËÆæÁΩÆ Podman Âπ∂ÂÆûÁé∞‰∏Ä‰∫õÂü∫Êú¨ÂëΩ‰ª§. ËøêË°åÁ§∫‰æãÂÆπÂô®run -dt -p 8080:8080/tcp -e HTTPD_VAR_RUN123-e HTTPD_MAIN_CONF_PATH=/etc/httpd/conf \-e HTTPD_CONTAINER_SCRIPTS_PATH=/usr/share/container-scripts/httpd/ \registry.fedoraproject.org/f27/httpd /usr/bin/run-httpd ‰∏äÈù¢ÁöÑÂÆπÂô®Â∞ÜÂºÄÂêØ‰∏Ä‰∏™Âü∫Êú¨ÁöÑ http server.Áî±‰∫éÊ≠§ÂÆπÂô®ÊòØ‰ª• detached Ê®°ÂºèËøêË°å,Áî± podman run ÂëΩ‰ª§ -d flag Ë°®Á§∫,ÊâÄ‰ª• Podman Âú®ÂêØÂä®ËøêË°åÂêé‰ªÖËæìÂá∫ÂÆπÂô® ID.ÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ËÆøÈóÆËØ• http server‰∫Ü. ÂàóÂá∫Ê≠£Âú®ËøêË°åÁöÑÂÆπÂô®podman pspodman ps -a ÂàóÂá∫ÊâÄÊúâÁöÑÂÆπÂô®]]></content>
      <tags>
        <tag>container</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Flutter-Text]]></title>
    <url>%2F2019%2F06%2F06%2FFlutter-Text%2F</url>
    <content type="text"><![CDATA[Â≠óÁ¨¶‰∏≤Ê†πÊçÆÂ∏ÉÂ±ÄÁ∫¶ÊùüÂèØËÉΩË∑®Ë∂äÂ§öË°åÊàñËÄÖÂè™ÊòæÁ§∫Âú®‰∏ÄË°å.style ÂèÇÊï∞ÊòØÂèØÈÄâÁöÑ.Â¶ÇÊûúÂøΩÁï•,ÈªòËÆ§‰ΩøÁî®ÊúÄËøëÁöÑÁà∂ÁªÑ‰ª∂ÁöÑ DefaultTextStyle.Â¶ÇÊûúÁªôÂÆöÁöÑÊ†∑Âºè TextStyle.inherit Â±ûÊÄß‰∏∫ true(ÈªòËÆ§),ÂàôÁªôÂÆöÁöÑÊ†∑ÂºèÂ∞ÜÂíåÊúÄËøëÁöÑÁà∂ÁªÑ‰ª∂ÁöÑ DefaultTextStyle ÂêàÂπ∂.Ëøô‰∏™ÂêàÂπ∂Êìç‰ΩúÂæàÊúâÁî®,‰æãÂ¶Ç‰ΩøÁî®ÈªòËÆ§ÁöÑ font family ÂíåÂ§ßÂ∞è‰ΩøÂ≠ó‰Ωì bold. ‰ΩøÁî® Text.rich ÊûÑÈÄ†ÊñπÊ≥ï,Text ÁªÑ‰ª∂ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑ TextSpan Ê†∑ÂºèÊòæÁ§∫‰∏ÄÊÆµÊñáÂ≠ó. ‰∫§‰∫í‰ΩøÁî® GestureDetector ÁªÑ‰ª∂,ËÆæÁΩÆ GestureDetector.onTap Â§ÑÁêÜÂô®ÂèØ‰ª•‰Ωø Text ÂìçÂ∫î touch ‰∫ã‰ª∂. Âú® material design ËÆæËÆ° app ‰∏≠,ÂèØ‰ª•‰ΩøÁî® FlatButton ‰ª£Êõø,Â¶ÇÊûú‰∏çÈÄÇÂêàÁöÑËØù,ÊúÄÂ∞ëÈÉΩÂ∫îËØ•‰ΩøÁî® InkWell ‰ª£Êõø GestureDetector. ‰∏∫‰∫Ü‰ΩøÊñáÊú¨ÂàÜÈÉ®ÂàÜ‰∫§‰∫í,‰ΩøÁî® RichText,Âú®Áõ∏ÂÖ≥ÈÉ®ÂàÜÊñáÊú¨‰∏äÊåáÂÆö TapGestureRecognize ‰Ωú‰∏∫ TextSpan.recognizer. ÁªßÊâø üå≤Object &gt; Diagnosticable &gt; DiiagnosticableTree &gt; Widget &gt; StatelessWidget &gt; Text]]></content>
  </entry>
  <entry>
    <title><![CDATA[Flutter-Image]]></title>
    <url>%2F2019%2F06%2F05%2FFlutter-Image%2F</url>
    <content type="text"><![CDATA[ÊòæÁ§∫ÂõæÁâáÁöÑÁªÑ‰ª∂.Êèê‰æõ‰∫Ü‰ª•‰∏ãÂá†‰∏™‰∏çÂêåÁî®ÈÄîÁöÑÊûÑÈÄ†ÊñπÊ≥ï: new Image: ‰ªé ImageProvider ‰∏≠Ëé∑ÂèñÂõæÁâá. new Image.asset: ‰ΩøÁî® key ‰ªé AssetBundle ‰∏≠Ëé∑ÂèñÂõæÁâá new Image.network: ‰ªé URL ‰∏≠Ëé∑ÂèñÂõæÁâá new Image.file: ‰ªé File ‰∏≠Ëé∑ÂèñÂõæÁâá new Image.memory: ‰ªé Uint8List ‰∏≠Ëé∑ÂèñÂõæÁâá ÊîØÊåÅ‰ª•‰∏ãÂõæÁâáÊ†ºÂºè: JPEG,PNG,GIF,Animated GIF,WebP,Animated WebP,BMP,WBMP. ‰∏∫‰∫ÜËá™Âä®ÂÆûÁé∞ÂÉèÁ¥†ÂØÜÂ∫¶Á∫ßÁöÑËµÑ‰∫ßÁÆ°ÁêÜ, Á°Æ‰øùÂú® MaterialApp,WidgetsApp,MediaQueryÁªÑ‰ª∂Ê†ë‰∏≠‰ΩøÁî® AssetImage ÊåáÂÆöÁöÑ Image ÁªÑ‰ª∂. ÂõæÁâáÊòØÁî® paintImage ÁîªÂá∫Êù•ÁöÑ,ÂÆÉÂåÖÂê´‰∫Ü Image ‰∏≠ÁöÑ‰∏çÂêåÂ±ûÊÄßËØ¶ÊÉÖÊèèËø∞. Á±ª‰ººÁªÑ‰ª∂ Icon new Ink.Image: Âú® material app ‰∏≠Êé®Ëçê‰ΩøÁî®(ÁâπÂà´ÊòØÂõæÁâáÂú® Material ‰∏≠,ËÄå‰∏î‰∏äÈù¢Êúâ InkWell) Image: dart:ui Êèê‰æõ ÁªßÊâø üå≤Object &gt; Diagnosticable &gt; DiagnosticableTree &gt; Widget &gt; StatefulWidget &gt; Image Â±ûÊÄß alignment -&gt; AlignmentGeometry centerSlice -&gt; Rect: .9 Âõæ color -&gt; Color colorBlendMode -&gt; BlendMode: Ê∑∑ÂêàÈ¢úËâ≤ excludeFromSemantics -&gt; bool filterQuality -&gt; FilterQuality fit -&gt; BoxFit gaplessPlayback -&gt; bool: ÂΩì image provider ÊîπÂèòÊó∂ÊòØÂê¶ÊòæÁ§∫ÊóßÁöÑÂõæÁâá. heihgt -&gt; double image -&gt; ImageProvider matchTextDirection -&gt; bool repeat -&gt; ImageRepeat semanticLabel -&gt; String width -&gt; double]]></content>
  </entry>
  <entry>
    <title><![CDATA[Flutter-Column]]></title>
    <url>%2F2019%2F06%2F04%2FFlutter-Column%2F</url>
    <content type="text"><![CDATA[‰ª•ÂûÇÁõ¥Êï∞ÁªÑÊñπÂºèÊòæÁ§∫Â≠êÁªÑ‰ª∂ÁöÑÁªÑ‰ª∂.ÊÉ≥Ë¶ÅÊüê‰∏™Â≠êÁªÑ‰ª∂Êâ©Â±ïÂ°´ÂÖÖÂûÇÁõ¥Á©∫Èó¥,‰ΩøÁî® Expanded ÁªÑ‰ª∂ÂåÖË£ÖÂç≥ÂèØ. Column ÁªÑ‰ª∂‰∏ç‰ºöÊªëÂä®(ÈÄöÂ∏∏Â¶ÇÊûú Column ‰∏≠ÁöÑÂ§ö‰∏™Â≠êÁªÑ‰ª∂Ë∂ÖÂá∫‰∫ÜÂèØÁî®Á©∫Èó¥,Âàô‰ºöÊä•Èîô).Â¶ÇÊûúÊúâ‰∏ÄÊéíÁªÑ‰ª∂,ËÄå‰∏îÊÉ≥Ë¶ÅÂú®Á©∫Èó¥‰∏çË∂≥Êó∂ËÉΩÊªëÂä®,ËÄÉËôë‰ΩøÁî® ListView. Ê®™ÂêëÊéíÂàóËÄÉËôë‰ΩøÁî® Row. Â¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™Â≠êÁªÑ‰ª∂,ËÄÉËôë‰ΩøÁî® Align Êàñ Center ÂÆö‰ΩçÁªÑ‰ª∂. Â¶ÇÊûú‰º†ÂÖ•ÁöÑÂûÇÁõ¥Á∫¶ÊùüÊòØÊó†ËæπÁïåÁöÑÂ¶ÇÊûú‰∏Ä‰∏™ Column ÁªÑ‰ª∂Êúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ Expanded Êàñ Flexible ÁªÑ‰ª∂,Âπ∂‰∏îË¢´ÊîæÂú®Âè¶‰∏Ä‰∏™ Column Êàñ ListView ÊàñÂÖ∂‰ªñ‰∏çÊèê‰æõÊúÄÂ§ßÈ´òÂ∫¶Á∫¶Êùü‰∏ä‰∏ãÊñáÁöÑÁªÑ‰ª∂‰∏≠,ÈÇ£‰πàÂ∞Ü‰ºöÊî∂Âà∞‰∏Ä‰∏™ËøêË°åÊó∂ÂºÇÂ∏∏,Ë°®ÊòéÊúâÈùû 0 flex ÁöÑÂ≠êÁªÑ‰ª∂,‰ΩÜÊòØÂÖ∂ÂûÇÁõ¥Á∫¶ÊùüÊòØÊó†ËæπÁïåÁöÑ. Ê≠£Â¶ÇÂºÇÂ∏∏Ë°®Áé∞Âá∫Êù•ÁöÑÈóÆÈ¢ò,‰ΩøÁî® Flexible Êàñ Expanded ÊÑèÂë≥ÁùÄÊé•‰∏ãÊù•Â∏ÉÂ±ÄÂÖ∂‰ªñÁöÑÂ≠êÁªÑ‰ª∂Êó∂ÂøÖÈ°ªÊääÂâ©‰ΩôÁöÑÁ©∫Èó¥Âπ≥ÂùáÂàÜÈÖç,ËÄåÂ¶ÇÊûú‰º†ÂÖ•ÁöÑÂûÇÁõ¥Á∫¶ÊùüÊòØÊó†ËæπÁïåÁöÑËØù,Ââ©‰ΩôÁöÑÁ©∫Èó¥Â∞±ÂèòÊàêÊó†ÈôêÁöÑ. Ëß£ÂÜ≥ËØ•ÈóÆÈ¢òÁöÑÂÖ≥ÈîÆÂú®‰∫é‰∏∫‰ªÄ‰πà Column ‰ºöÊé•Êî∂Âà∞Êó†ËæπÁïåÁöÑÂûÇÁõ¥Á∫¶Êùü. ‰∏Ä‰∏™ÂèØËÉΩÁöÑÂéüÂõ†ÊòØ Column Ë¢´ÊîæÂú®‰∫ÜÂè¶‰∏Ä‰∏™ Column (ÂÜÖÈÉ®ÁöÑ Column Ê≤°Êúâ‰ΩøÁî® Expanded Êàñ Flexible ÂåÖË£Ö)‰∏≠.ÂΩì‰∏Ä‰∏™ Column Â∏ÉÂ±ÄÂÆÉÁöÑÈùû flex Â≠êÁªÑ‰ª∂(Ê≤°Êúâ‰ΩøÁî® Expanded Êàñ Flexible ÂåÖË£Ö)Êó∂,ËØ• Column Â∞±Áªô‰∫ÜÂÖ∂Â≠êÁªÑ‰ª∂Êó†ËæπÁïåÁöÑÁ∫¶Êùü,ËøôÊ†∑Â≠êÁªÑ‰ª∂ÂèØ‰ª•Ëá™Â∑±ÂÜ≥ÂÆö‰ªñ‰ª¨ÁöÑÁª¥Â∫¶(‰º†ÈÄíÊó†ËæπÁïåÁöÑÁ∫¶ÊùüÊÑèÂë≥ÁùÄËØ•Â≠êÁªÑ‰ª∂ÂèØËÉΩÈúÄË¶ÅÊî∂Áº©‰ª•ÂåÖË£ÖÂÖ∂ÂÜÖÂÆπ).ÂØπÂ∫îÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØ‰ΩøÁî® Expanded ÂåÖË£ÖÂÜÖÈÉ®ÁöÑ Column,Ë°®ÊòéÂÜÖÈÉ®ÁöÑ Column Â∫îËØ•Â°´ÂÖÖÂ§ñÈÉ® Column ÁöÑÂâ©‰ΩôÁ©∫Èó¥,ËÄå‰∏çÊòØÂéªËé∑ÂèñÂÆÉÊÉ≥Ë¶ÅÁöÑÁ©∫Èó¥Â§ßÂ∞è. Âè¶‰∏Ä‰∏™ÂèØËÉΩÁöÑÂéüÂõ†ÊòØ‰∏Ä‰∏™ Column ÂèØËÉΩÂµåÂ•óÂú® ListView ÊàñÂÖ∂‰ªñÂèØÊªëÂä®ÁöÑÂûÇÁõ¥Â∏ÉÂ±ÄÁªÑ‰ª∂‰∏≠.Âú®ËøôÁßçÂú∫ÊôØ‰∏ã,Á°ÆÂÆûÂ≠òÂú®Êó†ÈôêÁöÑÂûÇÁõ¥Á©∫Èó¥(ÂûÇÁõ¥ÊªëÂä®ÂàóË°®ÁöÑÈáçÁÇπÂú®‰∫éÂÖÅËÆ∏Êó†ÈôêÂûÇÁõ¥ÊªëÂä®).ÈÄöÂ∏∏Â∫îËØ•Ê£ÄÊü•‰∏∫‰ªÄ‰πàÂÜÖÈÉ®ÁöÑ Column ‰ºöÊúâ‰∏Ä‰∏™ Expanded Êàñ Flexible Â≠êÁªÑ‰ª∂:ÂÆÉÁöÑÂ§ßÂ∞èÁúüÁöÑÊòØÂÜÖÈÉ®Â≠êÁªÑ‰ª∂ÁöÑÂ§ßÂ∞èÂêó?Ëß£ÂÜ≥ÊñπÊ°àÊòØ‰ªéÂåÖË£ÖÂÜÖÈÉ®Â≠êÁªÑ‰ª∂ÁöÑÁà∂ÁªÑ‰ª∂‰∏≠ÁßªÈô§ Expanded Êàñ Flexible ÁªÑ‰ª∂. Êü•Áúã BoxConstraints Ëé∑ÂèñÊõ¥Â§öÂÖ≥‰∫éÁ∫¶ÊùüÁöÑ‰ø°ÊÅØ. ÈªÑÈªëÁõ∏Èó¥Êù°ÂΩì‰∏Ä‰∏™ Column ÁöÑÂÜÖÂÆπË∂ÖËøá‰∫ÜÂèØÁî®Á©∫Èó¥,Âç≥ Column Ê∫¢Âá∫,ÈÇ£‰πàÂÜÖÂÆπÂ∞ÜË¢´Ë£ÅÂâ™.Âú® debug Ê®°Âºè‰∏ã,Âú®Ê∫¢Âá∫ËæπËßí‰∏ä‰ºöÊòæÁ§∫‰∏Ä‰∏™ÈªÑÈªëÁõ∏Èó¥Êù°ÊåáÂá∫ËØ•ÈóÆÈ¢ò,Âú® Column ‰∏ã‰ºöÊâìÂç∞‰∏Ä‰∏™Ê∫¢Âá∫Â§öÂ∞ëÁöÑ‰ø°ÊÅØ. ÊúÄÊôÆÈÅçÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÂΩìÂûÇÁõ¥Á©∫Èó¥ÂèóÈôêÊó∂Á°Æ‰øùÂÜÖÂÆπÊªëÂä®‰ΩøÁî® ListView ËÄå‰∏çÊòØ Column. Â∏ÉÂ±ÄÁÆóÊ≥ï Êé•‰∏ãÊù•ÊòØ framework Â¶Ç‰ΩïÊ∏≤Êüì Column,Êü•Áúã BoxConstraints Ëé∑ÂèñÁõíÂ∏ÉÂ±ÄÊ®°Âûã‰ø°ÊÅØ. Â∏ÉÂ±Ä Column ÈúÄË¶Å 6 Ê≠•.1„ÄÅ‰ΩøÁî®Êó†ËæπÁïåÁöÑÊ∞¥Âπ≥Á∫¶ÊùüÂíå‰º†ÂÖ•ÁöÑÂûÇÁõ¥Á∫¶ÊùüËÆæÁΩÆÊØè‰∏™Â≠êÁªÑ‰ª∂ flex Âõ†Â≠ê‰∏∫ null Êàñ 0.Â¶ÇÊûú crossAxisAlignment ÂÄº‰∏∫ CrossAxisAlignment.stetch,‰ΩøÁî®Êª°Ë∂≥‰º†ÂÖ•ÁöÑÂûÇÁõ¥Á∫¶ÊùüÁöÑÊúÄÂ§ßÈ´òÂ∫¶ËÄå‰∏çÊòØ‰ΩøÁî®ÂáÜÁ°ÆÁöÑÂûÇÁõ¥Á∫¶Êùü.2„ÄÅÂØπÈùû 0 flex Âõ†Â≠êÁöÑÂ≠êÁªÑ‰ª∂,ÊåâÁÖßÂÖ∂ flex Âõ†Â≠êÂ∞ÜÂâ©‰∏ãÁöÑÊ∞¥Âπ≥Á©∫Èó¥ÂàÜÂâ≤.Â¶Ç‰∏Ä‰∏™ flex Âõ†Â≠ê‰∏∫ 2.0 ÁöÑÂ≠êÁªÑ‰ª∂Âú®Ê∞¥Âπ≥Á©∫Èó¥‰∏äÂ∞ÜÊØî flex Âõ†Â≠êÊòØ 1.0 ÁöÑÂ≠êÁªÑ‰ª∂ÂÆΩ 2 ÂÄç.3„ÄÅ‰ΩøÁî®Áõ∏ÂêåÁöÑÂûÇÁõ¥Á∫¶ÊùüÊåâÁÖßÊ≠•È™§ 1 Â∏ÉÂ±ÄÂâ©‰∏ãÁöÑÂ≠êÁªÑ‰ª∂,‰ΩøÁî®Âü∫‰∫éÊ≠•È™§ 2 Áî≥ËØ∑Âà∞ÁöÑÁ©∫Èó¥‰Ωú‰∏∫Ê∞¥Âπ≥Á∫¶ÊùüËÄå‰∏çÊòØÊó†ËæπÁïåÊ∞¥Âπ≥Á∫¶ÊùüÂ∏ÉÂ±Ä.Flexible.fit Â±ûÊÄßÂÄº‰∏∫ FlexFit.tight ÁöÑÂ≠êÁªÑ‰ª∂ÂèóÂà∞‰∏•Ê†ºÁ∫¶Êùü(Â¶ÇÂº∫Âà∂Â°´ÂÖÖÁî≥ËØ∑Âà∞ÁöÑÁ©∫Èó¥),ËÄå Flexible.fit Â±ûÊÄßÂÄº‰∏∫ FlexFit.tight ÁöÑÂ≠êÁªÑ‰ª∂Á∫¶ÊùüÂÆΩÊùæ(Â¶Ç‰∏çÂº∫Âà∂Â°´ÂÖÖÁî≥ËØ∑Âà∞ÁöÑÁ©∫Èó¥).4„ÄÅRow ÁöÑÈ´òÂ∫¶ÊÄªÊòØÊúÄÂ§ßÂ≠êÁªÑ‰ª∂ÁöÑÈ´òÂ∫¶(‰∏ÄËà¨Êª°Ë∂≥‰º†ÂÖ•ÁöÑÂûÇÁõ¥Á∫¶Êùü).5„ÄÅRow ÁöÑÂÆΩÂ∫¶Áî± mainAxisSize Â±ûÊÄßÂÜ≥ÂÆö.Â¶ÇÊûú mainAxisSize Â±ûÊÄßÂÄº‰∏∫ MainAxisSize.max,ÈÇ£‰πà Row ÁöÑÂÆΩÂ∫¶ÊòØ‰º†ÂÖ•Á∫¶ÊùüÁöÑÊúÄÂ§ßÂÆΩÂ∫¶.Â¶ÇÊûú mainAxisSize ÁöÑÂÄº‰∏∫ MainAxisSize.min,ÈÇ£‰πà Row ÁöÑÂÆΩÂ∫¶ÊòØÊâÄÊúâÂ≠êÁªÑ‰ª∂ÁöÑÂÆΩÂ∫¶‰πãÂíå(Âèó‰º†ÂÖ•Á∫¶Êùü).6„ÄÅÊ†πÊçÆ mainAxisAlignment Âíå crossAxisAlignment Á°ÆÂÆöÊØè‰∏™Â≠êÁªÑ‰ª∂ÁöÑ‰ΩçÁΩÆ.‰æãÂ¶Ç,Â¶ÇÊûú mainAxisAlignmentÊòØ MainAxisAlignment.spaceBetween,Ê≤°ÊúâË¢´ÂàÜÈÖçÁªôÂ≠êÁªÑ‰ª∂ÁöÑÁ©∫Èó¥Â∞Ü‰ºöÂπ≥ÂùáÂàÜÈÖçÂà∞ÂêÑ‰∏™Â≠êÁªÑ‰ª∂‰πãÈó¥. ÁªßÊâø üå≤Object &gt; Diagnosticable &gt; DiagnosticableTree &gt; Widget &gt; RenderObjectWidget &gt; MultiChildRenderObjectWidget &gt; Flex &gt; Column]]></content>
  </entry>
  <entry>
    <title><![CDATA[Flutter-Row]]></title>
    <url>%2F2019%2F06%2F04%2FFlutter-Row%2F</url>
    <content type="text"><![CDATA[‰ª•Ê®™ÂêëÊï∞ÁªÑÁöÑÊñπÂºèÊòæÁ§∫Â≠êÁªÑ‰ª∂ÁöÑÁªÑ‰ª∂.‰∏∫‰∫Ü‰ΩøÂÖ∂‰∏Ä‰∏™ÁªÑ‰ª∂Â°´ÂÖÖÂâ©‰ΩôÂèØÁî®Á©∫Èó¥,ÂèØ‰ª•‰ΩøÁî® ExpandedÂØπÂÖ∂ËøõË°åÂåÖË£Ö. Row ÁªÑ‰ª∂‰∏ç‰ºöÊªëÂä®(ÈÄöÂ∏∏‰∏Ä‰∏™RowÁªÑ‰ª∂‰∏≠ÁöÑÂ≠êÁªÑ‰ª∂ËøáÂ§öÂ∑≤ÁªèË∂ÖÂá∫‰∫ÜÂèØÁî®Á©∫Èó¥,Âàô‰ºöÂØºËá¥ÈîôËØØ).Â¶ÇÊûúÂú®‰∏çË∂≥ÁöÑÁ©∫Èó¥‰∏≠ÊÉ≥Ë¶Å‰∏ÄÊéíÁªÑ‰ª∂ËÉΩÂ§üÊªëÂä®,ÂèØ‰ª•ËÄÉËôë‰ΩøÁî® ListView. Column Á´ñÂêëÊéíÂàó. Â¶ÇÊûú‰ªÖÊúâ‰∏Ä‰∏™Â≠êÁªÑ‰ª∂,ÈÇ£‰πàÂèØ‰ª•ËÄÉËôë‰ΩøÁî® Align Êàñ Center ÂÆö‰ΩçËØ•Â≠êÁªÑ‰ª∂. ‰∏∫‰ªÄ‰πàÊàëÁöÑ row Êúâ‰∏ÄÊù°ÈªÑÈªëÁõ∏Èó¥ÁöÑÊù°Á∫π?Â¶ÇÊûú RowÁöÑÂÜÖÂÆπÊòØ‰∏çÂèØ‰º∏Áº©Êâ©Â±ïÁöÑ(Ê≤°Êúâ‰ΩøÁî® Expanded Êàñ Flexible ÁªÑ‰ª∂ÂåÖË£Ö),ËøûÂú®‰∏ÄËµ∑ÊØî row Êú¨Ë∫´Êõ¥ÂÆΩ,ÈÇ£‰πàÊàë‰ª¨Â∞±Áß∞ row Ê∫¢Âá∫‰∫Ü.Â¶ÇÊûú row Ê∫¢Âá∫‰∫Ü,ÈÇ£‰πà row Â∞±Ê≤°ÊúâÂ§ö‰ΩôÁöÑÁ©∫Èó¥ÂéªÂàÜÈÖçÁªôÂÆÉÁöÑFlexible Âíå Expanded Â≠êÁªÑ‰ª∂. row ‰ºöÂú®Ëæπ‰∏äÊòæÁ§∫‰∏ÄÊù°ÈªÑÈªëÁõ∏Èó¥ÁöÑÊù°Ë°®Á§∫Ê∫¢Âá∫‰∫Ü.Â¶ÇÊûú row Â§ñÊúâÁ©∫Èó¥,ÈÇ£‰πàÊ∫¢Âá∫‰∫ÆÂ∞Ü‰ºö‰ª•Á∫¢Ëâ≤Â≠ó‰ΩìÊâìÂç∞Âá∫Êù•. Â∏ÉÂ±ÄÁÆóÊ≥ï Êé•‰∏ãÊù•‰ªãÁªç framework ÊòØÂ¶Ç‰ΩïÊ∏≤Êüì Row ÁöÑ.Êü•Áúã BoxConstraints ‰∫ÜËß£ÁõíÂ∏ÉÂ±ÄÊ®°Âûã. Row ÁöÑÂ∏ÉÂ±ÄÂàÜ‰ª•‰∏ã 6 Ê≠•:1„ÄÅ‰ΩøÁî®Êó†ËæπÁïåÁöÑÊ∞¥Âπ≥Á∫¶ÊùüÂíå‰º†ÂÖ•ÁöÑÂûÇÁõ¥Á∫¶ÊùüËÆæÁΩÆÊØè‰∏™Â≠êÁªÑ‰ª∂ flex Âõ†Â≠ê‰∏∫ null Êàñ 0.Â¶ÇÊûú crossAxisAlignment ÂÄº‰∏∫ CrossAxisAlignment.stetch,‰ΩøÁî®Êª°Ë∂≥‰º†ÂÖ•ÁöÑÂûÇÁõ¥Á∫¶ÊùüÁöÑÊúÄÂ§ßÈ´òÂ∫¶ËÄå‰∏çÊòØ‰ΩøÁî®ÂáÜÁ°ÆÁöÑÂûÇÁõ¥Á∫¶Êùü.2„ÄÅÂØπÈùû 0 flex Âõ†Â≠êÁöÑÂ≠êÁªÑ‰ª∂,ÊåâÁÖßÂÖ∂ flex Âõ†Â≠êÂ∞ÜÂâ©‰∏ãÁöÑÊ∞¥Âπ≥Á©∫Èó¥ÂàÜÂâ≤.Â¶Ç‰∏Ä‰∏™ flex Âõ†Â≠ê‰∏∫ 2.0 ÁöÑÂ≠êÁªÑ‰ª∂Âú®Ê∞¥Âπ≥Á©∫Èó¥‰∏äÂ∞ÜÊØî flex Âõ†Â≠êÊòØ 1.0 ÁöÑÂ≠êÁªÑ‰ª∂ÂÆΩ 2 ÂÄç.3„ÄÅ‰ΩøÁî®Áõ∏ÂêåÁöÑÂûÇÁõ¥Á∫¶ÊùüÊåâÁÖßÊ≠•È™§ 1 Â∏ÉÂ±ÄÂâ©‰∏ãÁöÑÂ≠êÁªÑ‰ª∂,‰ΩøÁî®Âü∫‰∫éÊ≠•È™§ 2 Áî≥ËØ∑Âà∞ÁöÑÁ©∫Èó¥‰Ωú‰∏∫Ê∞¥Âπ≥Á∫¶ÊùüËÄå‰∏çÊòØÊó†ËæπÁïåÊ∞¥Âπ≥Á∫¶ÊùüÂ∏ÉÂ±Ä.Flexible.fit Â±ûÊÄßÂÄº‰∏∫ FlexFit.tight ÁöÑÂ≠êÁªÑ‰ª∂ÂèóÂà∞‰∏•Ê†ºÁ∫¶Êùü(Â¶ÇÂº∫Âà∂Â°´ÂÖÖÁî≥ËØ∑Âà∞ÁöÑÁ©∫Èó¥),ËÄå Flexible.fit Â±ûÊÄßÂÄº‰∏∫ FlexFit.tight ÁöÑÂ≠êÁªÑ‰ª∂Á∫¶ÊùüÂÆΩÊùæ(Â¶Ç‰∏çÂº∫Âà∂Â°´ÂÖÖÁî≥ËØ∑Âà∞ÁöÑÁ©∫Èó¥).4„ÄÅRow ÁöÑÈ´òÂ∫¶ÊÄªÊòØÊúÄÂ§ßÂ≠êÁªÑ‰ª∂ÁöÑÈ´òÂ∫¶(‰∏ÄËà¨Êª°Ë∂≥‰º†ÂÖ•ÁöÑÂûÇÁõ¥Á∫¶Êùü).5„ÄÅRow ÁöÑÂÆΩÂ∫¶Áî± mainAxisSize Â±ûÊÄßÂÜ≥ÂÆö.Â¶ÇÊûú mainAxisSize Â±ûÊÄßÂÄº‰∏∫ MainAxisSize.max,ÈÇ£‰πà Row ÁöÑÂÆΩÂ∫¶ÊòØ‰º†ÂÖ•Á∫¶ÊùüÁöÑÊúÄÂ§ßÂÆΩÂ∫¶.Â¶ÇÊûú mainAxisSize ÁöÑÂÄº‰∏∫ MainAxisSize.min,ÈÇ£‰πà Row ÁöÑÂÆΩÂ∫¶ÊòØÊâÄÊúâÂ≠êÁªÑ‰ª∂ÁöÑÂÆΩÂ∫¶‰πãÂíå(Âèó‰º†ÂÖ•Á∫¶Êùü).6„ÄÅÊ†πÊçÆ mainAxisAlignment Âíå crossAxisAlignment Á°ÆÂÆöÊØè‰∏™Â≠êÁªÑ‰ª∂ÁöÑ‰ΩçÁΩÆ.‰æãÂ¶Ç,Â¶ÇÊûú mainAxisAlignmentÊòØ MainAxisAlignment.spaceBetween,Ê≤°ÊúâË¢´ÂàÜÈÖçÁªôÂ≠êÁªÑ‰ª∂ÁöÑÁ©∫Èó¥Â∞Ü‰ºöÂπ≥ÂùáÂàÜÈÖçÂà∞ÂêÑ‰∏™Â≠êÁªÑ‰ª∂‰πãÈó¥. ÁªßÊâø üå≤Object &gt; Diagnosticable &gt; DiagnosticableTree &gt; Widget &gt; RenderObjectWidget &gt; MultiChildRenderObjectWidget &gt; Flex &gt; Row]]></content>
  </entry>
  <entry>
    <title><![CDATA[flutter Â≠¶‰π†Á¨îËÆ∞]]></title>
    <url>%2F2019%2F06%2F04%2Fflutter-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[flutter ÁöÑÊ†∏ÂøÉËÆæËÆ°ÊòØÂ∞ÜÊï¥‰∏™Â∫îÁî®ÁöÑÂêÑ‰∏™ÈÉ®ÂàÜÂêÑ‰∏™Â±ÇÁ∫ßÈÉΩÁúã‰Ωú Widget Êù•Ê∏≤Êüì,ÊâÄ‰ª•ÊåâÁÖß Widget ÁöÑÂàÜÁ±ªÊù•Â≠¶‰π†‰ºöÊØîËæÉÂÖ®Èù¢„ÄÇ Âü∫Á°ÄÁªÑ‰ª∂Container Row Column Image Text Icon RaisedButton Scaffold AppBar FlutterLogo Placeholder Material ÁªÑ‰ª∂ÁªìÊûÑÂíåÂØºËà™ Scaffold AppBar BottomNavigationBar TabBar TabBarView MaterialApp WidgetsApp Drawer ÊåâÈíÆ RaisedButton FloatingActionButton FlatButton IconButton PopupMenuButton ButtonBar ËæìÂÖ•Ê°ÜÂíåÈÄâÊã©Ê°Ü TextField Checkbox Radio Switch Slider Date &amp; Time Pickers ÂØπËØùÊ°Ü,Alert Panel SimpleDialog AlertDialog BottomSheet ExpansionPanel SnackBar ‰ø°ÊÅØÂ±ïÁ§∫ Image Icon Chip Tooltip DataTable Card LinearProgressIndicator Â∏ÉÂ±Ä ListTile Stepper Divider Cupertino CupertinoActivityIndicator CupertinoAlertDialog CupertinoButton CupertinoDialog CupertinoDialogAction CupertinoSlider CupertinoSwitch CupertinoPageTransition CupertinoFullScreenDialogTransition CupertinoNavigationBar CupertinoTabBar CupertinoPageScaffold CupertinoTabScaffold CupertinoTabView LayoutÂçï‰∏™ÂÖÉÁ¥† Container Padding Center Align FittedBox AspectRatio ConstrainedBox Baseline FractionallySizedBox IntrinsicHeight IntrinsicWidth LimitedBox Offstage OverflowBox SizedBox SizedOverflowBox Transform CustomSingleChildLayout Â§ö‰∏™ÂÖÉÁ¥† Row Column Stack IndexedStack Flow Table Wrap ListBody ListView CustomMultiChildLayout LayoutBuilderText Text RichText DefaultTextStyle Assets Image Icon RawImage AssetBundle Input Form FormField RawKeyboardListener Animation AnimatedContainer AnimatedCrossFade Hero AnimatedBuilder DecoratedBoxTransition FadeTransition PositionedTransition RotationTransition ScaleTransition SizeTransition SlideTransition AnimatedDefaultTextStyle AnimatedListState AnimatedModalBarrier AnimatedOpacity AnimatedPhysicalModal AnimatedPositioned AnimatedSize AnimatedWidget AnimatedWidgetBaseState ‰∫§‰∫í LongPressDraggable GestureDetector DragTarget Dismissible IgnorePointer AbsorbPointer Navigator Scrollable Ê†∑Âºè Padding Theme MediaQuery Draw Opacity Transform DecoratedBox FractionalTransition RotatedBox ClipOval ClipPath ClipRect CustomPaint BackdropFilter Async FutureBuilder StreamBuilder ÊªöÂä® ListView NestedScrollView GridView SingleChildScrollView Scrollable Scrollbar CustomScrollView NotificationListener ScrollConfiguration RefreshIndicator ËæÖÂä© Semantics MergeSemantics ExcludeSemantics]]></content>
      <tags>
        <tag>flutter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GraphQL-Batching]]></title>
    <url>%2F2019%2F05%2F05%2FGraphQL-Batching%2F</url>
    <content type="text"><![CDATA[ÊâπÂ§ÑÁêÜ‰ΩøÁî® DataloaderÂ¶ÇÊûú‰Ω†Ê≠£Âú®‰ΩøÁî® graphql,ÈÇ£‰πà‰Ω†ÂèØËÉΩÈÅáÂà∞Êï∞ÊçÆÂõæÊü•ËØ¢.ËøôÂèØ‰ª•ÈÄöËøáÊú¨Âú∞Êï∞ÊçÆÂõæÂä†ËΩΩËΩªÊùæÂÆûÁé∞.‰ΩøÁî® java-dataloader Â∞ÜÂ∏ÆÂä©‰Ω†Êõ¥È´òÊïàÁöÑÂ§ÑÁêÜÊï∞ÊçÆÂõæÊù°ÁõÆÁöÑÁºìÂ≠òÂíåÊâπÈáèËØ∑Ê±Ç.Â¶ÇÊûú dataloader Â∑≤ÁªèÂèëÁé∞‰∫Ü‰∏Ä‰∏™‰πãÂâçÁöÑÊï∞ÊçÆÊù°ÁõÆ,ÂÆÉÂ∞Ü‰ºöÁºìÂ≠òÊï∞ÊçÆÂπ∂‰∏îÁõ¥Êé•ËøîÂõû‰∏çÂÜçÂèëËµ∑ËØ∑Ê±Ç.ÂÅáËÆæÊàë‰ª¨ÈúÄË¶ÅÊü•ËØ¢‰∏Ä‰∏™Ëã±ÈõÑÂíå‰ªñ‰ª¨ÊúãÂèãÁöÑÂêçÂ≠óÂèä‰ªñ‰ª¨ÊúãÂèãÁöÑÊúãÂèãÁöÑÂêçÂ≠ó. 12345678910111213&#123; hero &#123; name &#123; friends &#123; name &#123; friends &#123; name &#125; &#125; &#125; &#125; &#125;&#125; Ëøô‰∏™Êü•ËØ¢ÁöÑÁªìÊûúÂ¶Ç‰∏ã. 1234567891011121314151617181920212223242526272829303132333435363738394041&#123; "hero": &#123; "name": "R2-D2", "friends": [ &#123; "name": "Luke Skywalker", "friends": [ &#123; "name": "HanSolo" &#125;, &#123; "name": "Leia Organa" &#125;, &#123; "name": "C-3P0" &#125;, &#123; "name": "R2-D2" &#125; ] &#125;, &#123; "name": "Han Solo", "friends": [ &#123; "name": "Luke Skywalker" &#125;, &#123; "name": "Leia Organa" &#125;, &#123; "name": "R2-D2" &#125; ] &#125;, &#123; "name": "Leia Organa", "friends": [ &#123; "name": "Luke Skywalker" &#125;, &#123; "name": "Han Solo" &#125;, &#123; "name": "C-3PO" &#125;, &#123; "name": "R2-D2" &#125; ] &#125; ] &#125;&#125; ÊúÄÂ∑ÆÁöÑÂäûÊ≥ïÊòØÊØèÊ¨°Ë∞ÉÁî® DataFetcherËé∑Âèñ person ÂØπË±°.Êú¨‰æã‰∏≠Â∞ÜÂèëËµ∑ 15 Ê¨°ÁΩëÁªúËØ∑Ê±Ç.Âç≥‰ΩøÂæàÂ§ö‰∫∫ÊúâÂÖ±ÂêåÁöÑÊúãÂèã.‰ΩøÁî® dataloader‰Ω†ÂèØ‰ª•‰Ωø graphql Êü•ËØ¢ÂèòÂæóÊõ¥È´òÊïà.ÂΩì graphql ÈôçÂ∫èÊü•ËØ¢ÊØè‰∏™Â±ÇÁ∫ßÊó∂(hero -&gt; friends -&gt; friends),dataloader Ë∞ÉÁî® promise ‰º†ÈÄí person ÂØπË±°.Âú®ÊØè‰∏™Â±ÇÁ∫ß‰∏≠Ë∞ÉÁî® dataloader.dispatch() ÊâπÈáèÂèëËµ∑ÈÉ®ÂàÜÊü•ËØ¢ËØ∑Ê±Ç.Âä†‰∏äÁºìÂ≠ò(ÈªòËÆ§‰ΩøÁî®),‰πãÂâçÁöÑ person Â∞ÜË¢´ËøîÂõû.‰∏ä‰æã‰∏≠Âè™Ê∂âÂèäÂà∞ 5 ‰∏™Áã¨Á´ãÁöÑ people,ÂêàÁêÜÁöÑ‰ΩøÁî®ÁºìÂ≠òÂíåÊâπÈáèËØ∑Ê±ÇÂ∞ÜÂè™Êúâ 3 ‰∏™ÊâπÈáèÂä†ËΩΩÂáΩÊï∞Ë¢´Ë∞ÉÁî®,3 ‰∏™ÁΩëÁªúËØ∑Ê±ÇÊàñÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÊÄªÊØî 15 ‰∏™Ë¶ÅÂ•Ω.Â¶ÇÊûú‰Ω†‰ΩøÁî®‰∫Ü java.util.concurrent.CompletableFuture.supplyAsync(),ÈÇ£‰πà‰Ω†ÂèØ‰ª•ÈÄöËøáÂºÇÊ≠•Ë∞ÉÁî®‰ΩøÊü•ËØ¢ÂèòÂæóÊõ¥È´òÊïà. 123456789101112131415161718192021222324252627282930313233343536373839404142// batch loader ÂèØËÉΩË¢´Ë∞ÉÁî®Â§öÊ¨°ÔºåÂõ†‰∏∫ÂÆÉÁöÑÊó†Áä∂ÊÄÅÊÄßÔºåÊâÄ‰ª•ÈÄÇÂêà‰Ωú‰∏∫Âçï‰æã‰ΩøÁî®BatchLoader&lt;String,Object&gt; characterBatchLoader = new BatchLoader&lt;String,Object&gt;() &#123; @Override public CompletableStage&lt;List&lt;Object&gt;&gt; load(List&lt;String&gt; keys) &#123; // ‰ΩøÁî® supplyAsync() ÊúÄÂ§ßÂåñÂπ∂Ë°åÊâßË°å return CompletableFuture.supplyAsync(() -&gt; getCharacterDataViaBatchHTTPApi(keys)); &#125;&#125;;// Ëøô‰∏™ data laoder Ëé∑ÂèñÂÖ≥ËÅîÁöÑ‰∫∫Áâ©ÔºåÊää‰ªñ‰ª¨ÊîæÂÖ• graphql schemaDataFetcher heroDataFetcher = new DataFetcher() &#123; @Override public Object get(DataFetchingEnvironment environment) &#123; DataLoader&lt;String,Object&gt; dataloader = environment.getDataLoader("character"); return dataloader.load("2001"); &#125;&#125;;DataFetcher friendsDataFetcher = new DataFetcher() &#123; @Override public Object get(DataFetchingEnvironment environment) &#123; StarWarsCharacter starWarsCharacter = environment.getSource(); List&lt;String&gt; friendsIds = starWarsCharacter.getFriendIds(); DataLoader&lt;String,Object&gt; dataloader = environment.getDataLoader("character"); return dataloader.loadMany(friendsIds); &#125;&#125;DataLoaderDispatcherInstrumentationOptions options = DataLoaderDispatcherInstrumentationOptions.newOptions().includeStatistics(true);DataLoaderDispatcherInstrumentation dispatcherInstrumentation = new DataLoaderDispatcherInstrumentation(options);GraphQL graphql = GraphQL.newGraphQL(buildSchema()) .instrumentation(dispatcherInstrumentation) .build();// Âõ†‰∏∫ data loader ÊòØÊúâÁä∂ÊÄÅÁöÑ,ÊâÄ‰ª•ÊØèÊ¨°ËØ∑Ê±ÇÈÉΩ‰ºöË¢´ÊâßË°åDataLoader&lt;String,Object&gt; characterDataLoader = DataLoader.newDataLoader(characterBatchLoader);DataLoaderRegistry registry = new DataLoaderRegistry();registry.register("character",characterDataLoader);ExecutionInput executionInput = newExecutionInput() .query(getQuery()) .dataLoaderRegistry(registry) .build();ExecutionResult executionResult = graphql.execute(executionInput); Êú¨‰æã‰∏≠Âõ†‰∏∫Êàë‰ª¨ÈúÄË¶ÅÂæÆË∞É DataLoaderDispatcherInstrumentationÈÄâÈ°π,ÊâÄ‰ª•ÊâãÂä®Ê∑ªÂä†.Â¶ÇÊûú‰∏çË¶ÅÁöÑËØù,ÈªòËÆ§‰ºöËá™Âä®Ê∑ªÂä†ÁöÑ. ‰ªÖÈÄÇÁî®‰∫é AsyncExecutionStrategy ÁöÑ Data LoaderËøôÊòØÂõ†‰∏∫Ê≠§ÊâßË°åÁ≠ñÁï•Áü•ÈÅìÂú®ÊúÄ‰Ω≥Êó∂Êú∫ÂàÜÂèë‰Ω†ÁöÑ load Ë∞ÉÁî®.ÂÆÉÈÄöËøáÊ∑±Â∫¶ËøΩË∏™‰Ω†ÊúâÂ§öÂ∞ë‰∏™Á™ÅÂá∫ÁöÑÂ±ûÊÄßÂèä‰ªñ‰ª¨ÊòØÂê¶ÊòØÂàóË°®ÂÄºÁ≠âÂÆûÁé∞.ÂÖ∂‰ªñÁ≠ñÁï•Â¶Ç ExecutorServiceExecutionStrategyÊó†Ê≥ïÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩ,Âõ†‰∏∫Â¶ÇÊûú data loader ‰ª£Á†ÅÊ£ÄÊµãÂà∞‰Ω†Ê≤°Êúâ‰ΩøÁî® AsyncExecitionStrategy,ÈÇ£‰πàÂΩìÁ¢∞Âà∞ÊØè‰∏™Â±ûÊÄßÊó∂,ÂÆÉÂ∞ÜÁÆÄÂçïÁöÑÂàÜÂèë data loader.‰Ω†ÂèØËÉΩ‰ºöÂæóÂà∞ÂÄºÁöÑ caching,‰ΩÜ‰Ω†ÁªùÂØπÊãø‰∏çÂà∞‰ªñ‰ª¨ÁöÑ batching. Data Loader ÁöÑÊØè‰∏Ä‰∏™ËØ∑Ê±ÇÂ¶ÇÊûú‰Ω†Ê≠£Âú®‰∏∫ web ËØ∑Ê±ÇÊèê‰æõÊúçÂä°,ÈÇ£‰πàÂèØ‰ª•‰∏∫Áî®Êà∑ËØ∑Ê±ÇÊåáÂÆöÊï∞ÊçÆ.Â¶ÇÊûú‰Ω†ÊúâÁî®Êà∑ÊåáÂÆöÁöÑÊï∞ÊçÆ,‰Ω†ÂèØËÉΩ‰∏ç‰ºöÁºìÂ≠òÁî®Êà∑ a ÁöÑÊï∞ÊçÆ,ÁÑ∂ÂêéÂú®ÂêéÁª≠ÁöÑËØ∑Ê±Ç‰∏≠ÊääÂÆÉ‰º†ÈÄíÁªôÁî®Êà∑ b.‰Ω†ÁöÑ DataLoader ÂÆû‰æãÁöÑËåÉÂõ¥ÊòØÂæàÈáçË¶ÅÁöÑ.‰Ω†ÂèØËÉΩÊÉ≥ÊØè‰∏™ web ËØ∑Ê±ÇÂàõÂª∫‰∏Ä‰∏™ dataloader ‰ª•Á°Æ‰øùÊï∞ÊçÆÂè™ÂØπÁâπÂÆöÁöÑ web ËØ∑Ê±ÇÁºìÂ≠ò.ÂêåÊó∂Á°Æ‰øù dispatchË∞ÉÁî®‰∏çÂΩ±ÂìçÂÖ∂‰ªñÁöÑ graphql ÊâßË°å.DataLoader ÈªòËÆ§Ë°å‰∏∫Á±ª‰ººÁºìÂ≠ò.Â¶ÇÊûúÂèëÁé∞‰πãÂâçÂ≠òÂú®Êüê‰∏™ key ÂØπÂ∫îÁöÑÂÄº,ÈÇ£‰πà‰ºöËá™Âä®ËøîÂõûÂÆÉ.Â¶ÇÊûú‰Ω†ÁöÑÊï∞ÊçÆÂèØ‰ª•Ë∑® web ËØ∑Ê±ÇÂàÜ‰∫´,ÈÇ£‰πà‰Ω†ÂèØËÉΩÈúÄË¶ÅÊîπÂèò‰Ω†ÁöÑ data loader ÁºìÂ≠òÂÆûÁé∞,ËøôÊ†∑‰ªñ‰ª¨Â∞±ËÉΩÈÄöËøáÂ¶Ç memcached Êàñ redis ËøôÊ†∑ÁöÑÁºìÂ≠òÂ±ÇËøõË°åÊï∞ÊçÆÂàÜ‰∫´.‰∏ã‰æã‰∏≠‰ªçÁÑ∂ÊØè‰∏™ËØ∑Ê±ÇÂàõÂª∫‰∏Ä‰∏™ data loader,ÁÑ∂ËÄåÁºìÂ≠òÂ±ÇÂÖÅËÆ∏Êï∞ÊçÆÂàÜ‰∫´. 1234567891011121314151617181920212223242526272829303132CacheMap&lt;String,Object&gt; crossRequestCacheMap = new CacheMap&lt;String,Object&gt;() &#123; @Override public boolean containsKey(String key) &#123; return redisIntegration.containsKey(key); &#125; @Override public Object get(String key) &#123; return redisIntegration.getValue(key); &#125; @Override public CacheMap&lt;String,Object&gt; set(String key,Object value) &#123; redisIntegration.setValue(key,value); return this; &#125; @Override public CacheMap&lt;String,Object&gt; delete(String key) &#123; redisIntegration.clearKey(key); return this; &#125; @Override public CacheMap&lt;String,Object&gt; clear() &#123; redisIntegration.clearAll(); return this; &#125;&#125;;DataLoaderOptions options = DataLoaderOptions.newOptions().setCacheMap(crossRequestCacheMap);DataLoader&lt;String,Object&gt; dataloader = DataLoader.newDataLoader(batchLoader,options); Âè™ËÉΩÂºÇÊ≠•Ë∞ÉÁî®ÁöÑÊâπÈáèÂä†ËΩΩÂäüËÉΩÊ≠§ dataloader ‰ª£Á†ÅÊ®°ÂºèÊï¥ÂêàÊâÄÊúâÊòéÊòæÁöÑ data loader Ë∞ÉÁî®Âà∞‰∏Ä‰∏™Êõ¥ÊúâÊïàÁöÑÊâπÈáèÂä†ËΩΩË∞ÉÁî®.graphql-java ËøΩË∏™Â∑≤ÂèëËµ∑ÁöÑÊòéÊòæÁöÑ data loader Ë∞ÉÁî®,ÁÑ∂ÂêéÂú®ÊúÄÂêàÈÄÇÁöÑÊó∂Êú∫(Âç≥ÊâÄÊúâÁöÑ graphql Â±ûÊÄßÂ∑≤ÁªèÊ†°È™åÊàêÂäüÂπ∂ÂàÜÂèë)Âú®ÂêéÂè∞Ë∞ÉÁî®dispatch.ÁÑ∂ËÄåÊúâ‰∫õÊÉÖÂÜµ‰∏ãÂ∞ÜÂØºËá¥‰Ω†ÁöÑ data loader Ë∞ÉÁî®Ê∞∏‰∏ç‰ºöÂÆåÊàê,Ëøô‰∏≠ÊÉÖÂÜµÂøÖÈ°ªÈÅøÂÖç.ËøôÁßçÊÉÖÂÜµÂåÖÊã¨Âú®ÂºÇÊ≠•Á∫øÁ®ãË∞ÉÁî® DataLoader.‰∏ãÈù¢ÁöÑ üå∞ ‰∏ç‰ºöÊàêÂäü(Â∞ÜÊ∞∏ËøúÊó†Ê≥ïÂÆåÊàê). 1234567891011121314151617181920BatchLoader&lt;String,Object&gt; batchLoader = new BatchLoader&lt;String,Object&gt;() &#123; @Override public CompletionStage&lt;List&lt;Object&gt;&gt; load(List&lt;String&gt; keys) &#123; return CompletableFuture.completedFuture(getTheseCharacters(keys)); &#125;&#125;;DataLoader&lt;String,Object&gt; characterDataLoader = DataLoader.newDataLoader(batchLoader);DataFetcher dataFetcherThatCallsTheDataLoader = new DataFetcher() &#123; @Override public Object get(DataFetchingEnvironment environment) &#123; // ÂçÉ‰∏áË¶ÅÈÅøÂÖçËøôÊ†∑ÂÅö return CompletableFuture.supplyAsync(() -&gt; &#123; String argId = environment.getArgument("id"); DataLoader&lt;String,Object&gt; characterLoader = environment.getDataLoader("characterLoader"); return characterLoader.load(argId); &#125;) &#125;&#125; ‰∏äÈù¢ÁöÑ üå∞ ‰∏≠,characterDataLoader.load(argId) ÂèØ‰ª•Âú®Âè¶Â§ñ‰∏Ä‰∏™Á∫øÁ®ãÁöÑÊú™Êù•Êüê‰∏™Êó∂ÂàªË¢´Ë∞ÉÁî®. graphql-java ÂºïÊìé‰∏çÁü•ÈÅì‰ΩïÊó∂ÊòØÊúÄ‰Ω≥Êó∂Êú∫ÂéªÂàÜÂèëÊòéÊòæÁöÑ DataLoader Ë∞ÉÁî®,Âõ†Ê≠§Ëøô‰∏™ data loader ÂèØËÉΩÊ∞∏Ëøú‰∏ç‰ºöÂ¶ÇÊúüÊâßË°å,‰πü‰∏ç‰ºöÊúâÁªìÊûúËøîÂõû.ËØ∑ËÆ∞‰Ωè,data loader Ë∞ÉÁî®‰ªÖ‰ªÖÊòØ‰∏Ä‰∏™‰øùËØÅ,ÂêéÈù¢‰ºöÂ∞ÜÊòéÊòæÁöÑË∞ÉÁî®ÊâπÈáèË∞ÉÁî®Âú®ÂêàÈÄÇÁöÑÊó∂Êú∫Ëé∑ÂèñÁªìÊûú.ÊúÄ‰Ω≥Êó∂Êú∫ÊòØ graphql Â±ûÊÄßÊ†ëÂ∑≤ÁªèÊ†°È™åËøá,‰∏îÊâÄÊúâÁöÑÂ±ûÊÄßÂÄºÂ∑≤ÁªèË¢´ÂàÜÂèë.‰∏ãÈù¢ÁöÑ üå∞ ‰æùÁÑ∂ÊòØÂºÇÊ≠•‰ª£Á†Å,‰ΩÜÊòØÊääÂÆÉÊîæÂú® BatchLoader Èáå. 123456789101112131415161718BatchLoader&lt;String,Object&gt; batchLoader = new BatchLoader&lt;String,Object&gt;() &#123; @Override public CompletionStage&lt;List&lt;Object&gt;&gt; load(List&lt;String&gt; keys) &#123; return CompletableFuture.supplyAsync(() -&gt; getThreseCharacters(keys)); &#125;&#125;;DataLoader&lt;String,Object&gt; characterDataLoader = DataLoader.newDataLoader(batchLoader);DataFetcher dataFetcherThatCallsTheDataLoader = new DataFetcher() &#123; @Override public Object get(DataFetchingEnvironment environment) &#123; // ËøôÊòØÈòî‰ª•Êª¥ String argId = environment.getArgument("id"); DataLoader&lt;String,Object&gt; characterLoader = environment.getDataLoader("characterLoader"); return characterLoader.load(argId); &#125;&#125; ‰∏äÈù¢ÁöÑ üå∞ characterDataLoader.load(argId) ‰ºöÁ´ãÂç≥ËøîÂõû.ËøôÂ∞Ü‰ºöÊää data ËØ∑Ê±ÇÂÖ•ÈòüÂàó,z ÂΩìÊâÄÊúâÁöÑ graphql Â±ûÊÄßÈÉΩÂàÜÂèëÂêéÂÜçÊâßË°å.ÁÑ∂ÂêéÂΩì DataLoader Ë¢´ÂàÜÂèëÂêé,‰ªñÁöÑ BatchLoader ÂáΩÊï∞Ë¢´Ë∞ÉÁî®.Ëøô‰∏™‰ª£Á†ÅÂèØ‰ª•ÂºÇÊ≠•ÊâßË°å,ÊâÄ‰ª•‰Ω†ÂèØ‰ª•ÊúâÂ§ö‰∏™ÊâπÈáèÂä†ËΩΩÂáΩÊï∞,‰ªñ‰ª¨ÂèØ‰ª•ÂêåÊó∂ÊâßË°å.Âú®‰∏ä‰æã‰∏≠ CompletableFuture.supplyAsync(() -&gt; getTheseCharacters(keys)); Â∞ÜÂÜçÂè¶‰∏Ä‰∏™Á∫øÁ®ã‰∏≠ËøîÂõû getTheseCharacters() ÊñπÊ≥ï. Âêë‰Ω†ÁöÑ data loader ‰º†ÈÄí contextdata load Â∫ìÊîØÊåÅ‰º†ÈÄí‰∏§‰∏™Á±ªÂûãÁöÑ context Âà∞ batch loader.Á¨¨‰∏Ä‰∏™ÊòØÊØè‰∏™ dataloader ‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑ context ÂØπË±°,Á¨¨‰∫å‰∏™ÊòØ‰∏Ä‰∏™ loaded key ‰∏Ä‰∏™ context ÂØπË±°ÁöÑ map.ËøôÂÖÅËÆ∏‰Ω†‰º†ÈÄí‰∏ãÊ∏∏ÈúÄË¶ÅÁöÑÈ¢ùÂ§ñ‰ø°ÊÅØ.dataloader key Áî®Âú®ÁºìÂ≠òÁªìÊûú,ËÄå context ÂØπË±°ÂèØ‰ª•Áî®Âú®Ë∞ÉÁî®‰∏≠.Âú®‰∏ãÈù¢ÁöÑ üå∞ ‰∏≠,Êàë‰ª¨Êúâ‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÂÆâÂÖ® context ÂØπË±°,Êèê‰æõ‰∫Ü‰∏Ä‰∏™Ë∞ÉÁî® token,ÂêåÊó∂ÂèØ‰ª•‰º†ÈÄí graphql ÂéüÂØπË±°Âà∞ÊØè‰∏™ dataLoader.load() Ë∞ÉÁî®‰∏≠. 12345678910111213141516171819202122232425262728BatchLoaderWithContext&lt;String,Object&gt; batchLoaderWithCtx = new BatchLoaderWithContext&lt;String,Object&gt;() &#123; @Override public CompletionStage&lt;List&lt;Object&gt;&gt; load(List&lt;String&gt; keys,BatchLoaderEnvironment loaderContext) &#123; // Ëé∑ÂèñÂÖ®Â±Ä context ÂØπË±° SecurityContext sercurityCtx = loaderContext.getContext(); // ÊØè‰∏™ÈîÆÈÉΩÊúâ‰∏Ä‰∏™ context ÂØπË±°ÈõÜ Map&lt;Object,Object&gt; keysToSOurceObjects = loaderContext.getKeyContexts(); return CompletableFuture.supplyAsync(() -&gt; getTheseCharacters(securityCtx.getToken(),keys,keysToSourceObjects)); &#125;&#125;;SecurityContext securityCtx = SecurityContext.newSecurityContext();BatchLoaderContextProvider contextProvider = new BatchLoaderContextProvider() &#123; @Override public Object get√áontext() &#123; return securityCtx; &#125;&#125;;DataLoaderOptions loaderOptions = DataLoaderOptions.newOptions().setBatchLoaderContextProvider(contextProvider);DataLoader&lt;String,Object&gt; characterDataLoader = DataLoader.newDataLoader(batchLoaderWithCtx,loaderOptions);DataFetcher dataFetcherCallsTheDataLoader = new DataFetcher() &#123; @Override public Object get(DataFetchingEnvironment environment) &#123; String argId = environment.getArgument("id"); Object source = environment.getSource(); return characterDataLoader.load(argId,source); &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[GraphQL-Scalars]]></title>
    <url>%2F2019%2F05%2F05%2FGraphQL-Scalars%2F</url>
    <content type="text"><![CDATA[graphql ‰∏≠ÁöÑÂ∏∏Èáèscalarsgraphql Á±ªÂûãÁ≥ªÁªüÁöÑÂè∂Â≠êËäÇÁÇπË¢´Áß∞‰∏∫ scalars.‰∏ÄÊó¶Âà∞Ëææ‰∫Ü scalar Á±ªÂûãÂàôÊó†Ê≥ïÂú®Ê≤øÁùÄÁ±ªÂûãÁªìÊûÑÁªßÁª≠Âêë‰∏ã‰∫Ü.scalar Á±ªÂûãÊòØÊåá‰∏çÂèØÂÜçÂàÜÂâ≤ÁöÑÂÄº.graphql ËßÑËåÉÊòéÁ°ÆË¶ÅÊ±ÇÊâÄÊúâÁöÑËØ≠Ë®ÄÂÆûÁé∞ÂøÖÈ°ªÂÖ∑Êúâ‰ª•‰∏ã scalar Á±ªÂûã. String Âç≥ GraphQLString- ‰∏Ä‰∏™ UTF-8 Â≠óÁ¨¶‰∏≤Â∫èÂàó. Boolean Âç≥ GraphQLBoolean- true or false. Int Âç≥ GraphQLInt- ÊúâÁ¨¶Âè∑ÁöÑ 32 Êï¥ÂûãÊï∞. Float Âç≥ GraphQLFloat- ÊúâÁ¨¶Âè∑ÁöÑÂèåÁ≤æÂ∫¶ÊµÆÁÇπÊï∞. ID Âç≥ GraphQLID- Á±ª‰ºº‰∫é String ÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶.ÂÆö‰πâ‰∏Ä‰∏™ ID Ê†áËØÜÁ¨¶Âç≥Ë°®Á§∫ËØ•Â±ûÊÄß‰∏çÊòØ‰∫∫Á±ªÂèØËØÜÂà´ÁöÑÁî®ÈÄî.graphql-java ‰∏∫ java Á≥ªÁªüÊ∑ªÂä†‰∫Ü‰ª•‰∏ãÊúâÁî®ÁöÑ scalar Á±ªÂûã. Long Âç≥ GraphQLLong- Âü∫‰∫é java.lang.Long ÁöÑ scalar. Short Âç≥ GraphQLShort- Âü∫‰∫é java.lang.Short ÁöÑ scalar. Byte Âç≥ GraphQLByte- Âü∫‰∫é java.lang.Byte ÁöÑ scalar. BigDecimal Âç≥ GraphQLBigDicimal Âü∫‰∫é java.math.BigDecimal ÁöÑ scalar. BigInteger Âç≥ GrapQLBigInteger Âü∫‰∫é java.math.BigInteger ÁöÑ scalar. graphql.ScalarsÁ±ªÂåÖÂê´‰∫ÜÊèê‰æõ scalar Á±ªÂûãÁöÑÂçï‰æãÂÆû‰æã. Ëá™ÂÆö‰πâ scalars‰Ω†ÂèØ‰ª•ÂÆûÁé∞Ëá™ÂÆö‰πâ scalar.Âú®ËøêË°åÊó∂‰Ω†ÈúÄË¶ÅÂÆåÊàêÁ±ªÂûãÂº∫Âà∂ËΩ¨Êç¢,ÂêéÈù¢‰ºöËß£Èáä.ÂÅáËÆæÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™ email ÁöÑ scalar Á±ªÂûã.ÂÆÉÊää email Âú∞ÂùÄ‰Ωú‰∏∫ËæìÂÖ•ËæìÂá∫.Êàë‰ª¨Â∞ÜÂàõÂª∫‰∏Ä‰∏™Â¶Ç‰∏ãÁöÑ graphql.schema.GraphQLScalarType Âçï‰æãÂÆû‰æã. 12345678910111213141516public static final GraphQLScalarType EMAIL = new GraphQLScalarType("email","A cusom scalar that handles emails",new Coercing() &#123; @Override public Object serialize(Object dataFetcehrResult) &#123; return serilizeEmail(dataFetcherResult); &#125; @Override public Object parseValue(Object input) &#123; return parseEmailFromVariable(input); &#125; @Override public Object parseLiteral(Object input) &#123; return parseEmailFromAstLiteral(input); &#125;&#125;); Âº∫Âà∂Á±ªÂûãËΩ¨Êç¢Ëá™ÂÆö‰πâ scalar ÂÆûÁé∞ÁöÑÁúüÊ≠£‰ΩúÁî®ÁÇπÂú® graphql.schema.CoercingÂÆûÁé∞.Êúâ 3 ‰∏™ÂáΩÊï∞ÈúÄË¶ÅÂÆûÁé∞ parseValue- Êé•Êî∂‰∏Ä‰∏™ËæìÂÖ•ÂèòÈáè,ËΩ¨Êç¢‰∏∫ java ËøêË°åÊó∂ÂÆûÁé∞. parseLiteral-Êé•Êî∂‰∏Ä‰∏™ AST Â≠óÁ¨¶ graphql.language.Value ‰Ωú‰∏∫ËæìÂÖ•,ËΩ¨Êç¢‰∏∫ java ËøêË°åÊó∂ÂÆûÁé∞. serialize-Êé•Êî∂‰∏Ä‰∏™ Java ÂØπË±°,ÊúÄÁªàËΩ¨‰∏∫ scalar ËæìÂá∫Á±ªÂûã.ÊâÄ‰ª•‰Ω†Ëá™ÂÆö‰πâÁöÑ scalar ÂÆûÁé∞ÈúÄË¶ÅÂ§ÑÁêÜ 2 ‰∏≠Á±ªÂûãÁöÑËæìÂÖ•(parseValue/parseLiteral)Âíå 1 ‰∏≠ËæìÂá∫(serialize).Â¶Ç‰∏ãÊü•ËØ¢,‰ΩøÁî®‰∫ÜÂèòÈáè,AST Â≠óÁ¨¶ÁÑ∂ÂêéËæìÂá∫Êàë‰ª¨ÈúÄË¶ÅÁöÑ scalar Á±ªÂûã email. 123456789mutation Contact($mainContact: Email!) &#123; makeContact( mainContactEmail: $mainContact backupContactEmial: &quot;backup@company.com&quot; ) &#123; id mainContactEmail &#125;&#125; Êàë‰ª¨ÁöÑËá™ÂÆö‰πâ email scalar Á±ªÂûãÂ∞Ü Ë∞ÉÁî® parseValue Â∞Ü $mainContactÂèòÈáèËΩ¨‰∏∫ËøêË°åÊó∂ÂØπË±°. Ë∞ÉÁî® parseLiteral Â∞Ü AST graphql.language.StringValue ‚Äúbackup@company.com‚Äú ËΩ¨Êç¢‰∏∫ËøêË°åÊó∂ÂØπË±°. Ë∞ÉÁî® serialize Â∞Ü mainContactEmial ËøêË°åÊó∂ÂÆûÁé∞ËΩ¨‰∏∫ËæìÂá∫ÂØπË±°ÂΩ¢Âºè. ËæìÂÖ•ËæìÂá∫Ê†°È™å‰æãÂ¶ÇÊàë‰ª¨ÁöÑ email scalar Â∞Ü‰ºöÊ†°È™åËæìÂÖ•ËæìÂá∫ÊòØÂê¶ÊòØÁúüÊòØÁöÑ email Âú∞ÂùÄ.graphql.schema.Coercing ÂçèËÆÆÂ¶Ç‰∏ã: serialize Âè™ÂÖÅËÆ∏ÊäõÂá∫ graphql.schema.CoercingSerializeException.ËøôË°®ÊòéÂÄºÊó†Ê≥ïË¢´Â∫èÂàóÂåñ‰∏∫ÂêàÈÄÇÁöÑÂΩ¢Âºè.ÂÜ≥‰∏çÂÖÅËÆ∏ÊåáÂÆöÂÖ∂‰ªñËøêË°åÊó∂ÂºÇÂ∏∏‰ª•ÂèñÂæóÊôÆÈÄöÁöÑ graphql Ê†°È™åË°å‰∏∫.ÂøÖÈ°ªËøîÂõû‰∏Ä‰∏™Èùû null ÂÄº. parseValue Âè™ÂÖÅËÆ∏ÊäõÂá∫ graphql.schema.CoercingParseValueException.ËøôË°®ÊòéÂÄºÊó†Ê≥ïË¢´‰Ωú‰∏∫ËæìÂÖ•Ëß£Êûê‰∏∫ÂêàÈÄÇÁöÑÂΩ¢Âºè..ÂÜ≥‰∏çÂÖÅËÆ∏ÊåáÂÆöÂÖ∂‰ªñËøêË°åÊó∂ÂºÇÂ∏∏‰ª•ÂèñÂæóÊôÆÈÄöÁöÑ graphql Ê†°È™åË°å‰∏∫.ÂøÖÈ°ªËøîÂõû‰∏Ä‰∏™Èùû null ÂÄº. parseLiteral Âè™ÂÖÅËÆ∏ÊäõÂá∫ graphql.schema.CoercingParseLiterialException.ËøôË°®Êòé AST ÂÄºÊó†Ê≥ïË¢´‰Ωú‰∏∫ËæìÂÖ•Ëß£Êûê‰∏∫ÂêàÈÄÇÁöÑÂΩ¢Âºè..ÂÜ≥‰∏çÂÖÅËÆ∏ÊåáÂÆöÂÖ∂‰ªñËøêË°åÊó∂ÂºÇÂ∏∏‰ª•ÂèñÂæóÊôÆÈÄöÁöÑ graphql Ê†°È™åË°å‰∏∫.ÊúâÁöÑ‰∫∫Â∞ùËØï‰æùËµñËøêË°åÊó∂ÂºÇÂ∏∏Ê†°È™å‰ª•ÊúüËé∑ÂèñÊôÆÈÄöÁöÑ graphql ÈîôËØØ.ËøôÊòØË°å‰∏çÈÄöÁöÑ.ÂøÖÈ°ªÈÅµÁÖß Coercing ÊñπÊ≥ïÂçèËÆÆ‰Ωø graphql-java ÂºïÊìéÊåâÁÖß grapqhl ÁöÑ scalar Á±ªÂûãËßÑËåÉËøêË°å. Á§∫‰æãÂÆûÁé∞‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ email scalar Á±ªÂûãÂÆûÁé∞,Â±ïÁ§∫‰∫ÜÂ¶Ç‰ΩïÈÄöËøáÁªßÊâø Coercing ÂÆûÁé∞‰∏Ä‰∏™ scalar. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public static class EmailScalar &#123; public static final GraphQLScalarType EMAIL = new GraphQLScalarType("email","A custom scalar that handles emails",new Coercing() &#123; @Override public Object serialize(Object dataFetcherResult) &#123; return serializeEmail(dataFetcherResult); &#125; @Override public Object parseValue(Object input) &#123; return parseEmailFromVariable(input); &#125; @Override public Object parseLiterial(Object input) &#123; return parseEmialFromAstLiterial(input); &#125; &#125;); private static boolean looksLikeAnEmailAddress(String possibleEmailValue) &#123; return Pattern.matches("[A-Za-z0-9]@[.*]",possibleEmailValue); &#125; private static Object serialzeEmail(Object dataFetcherResult) &#123; String possibleEmailValue = String.valueOf(dataFetcherResult); if (looksLikeAnEmailAddress(possibleEmailValue)) &#123; return possibleEmailValue; &#125; else &#123; throw new CoercingSerializeException("Unable to serialize" + possibleEmailValue + " as an email address"); &#125; &#125; private static Object parseEmailFromVariable(Object input) &#123; if (input instanceof String) &#123; String possibleEmailValue = input.toString(); if (looksLikeAnEmailAddress(possibleEmailValue)) &#123; return possibleEmailValue; &#125; &#125; throw new CoercingParseValueException("Unable to parse variable value " + input + " as an email address"); &#125; private static Object parseEmailFromAstLiterial(Object input) &#123; if (input instanceof StringValue) &#123; String possibleEmailValue = ((StringValue)input).getValue(); if (looksLikeAnEmailAddress(possibleEmailValue)) &#123; return possibleEmailValue; &#125; &#125; throw new CoercingParseLiterialException("Unable to parse variable value " + input + " as an email address"); &#125; &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[GraphQL-Data mapping]]></title>
    <url>%2F2019%2F05%2F05%2FGraphQL-Data-mapping%2F</url>
    <content type="text"><![CDATA[Mapping datagraphql ÊòØÂ¶Ç‰ΩïÊääÂØπË±°Êï∞ÊçÆÂåπÈÖçÂà∞Á±ªÂûãÁöÑgraphql ÂÜÖÈÉ®ÂÖ®ÈÉ®ÊòØÂÖ≥‰∫éÂ£∞ÊòéÁ±ªÂûã schema,ÁÑ∂ÂêéÂú®ËøêË°åÂåπÈÖçÂà∞Êï∞ÊçÆ.‰Ωú‰∏∫Á±ªÂûã schema ÁöÑËÆæËÆ°ËÄÖ,‰Ω†Â∫îËØ•Âú®Â§ÑÁêÜËøô‰∫õÂÖÉÁ¥†. 12345678910type Query &#123; products(match: String): [Product] # a list of products&#125;type Product &#123; id: ID name: String description: String cost: Float tax: Float&#125; ÁÑ∂ÂêéÂèØ‰ª•ÊâßË°åÊü•ËØ¢ 12345678query ProductQuery &#123; products(match: &quot;Paper*&quot;) &#123; id name cost tax &#125;&#125; ÂØπ‰∫é Query.productsÂ±ûÊÄßÊúâ‰∏Ä‰∏™ÁªëÂÆöÁöÑ DataFetcherË¥üË¥£Êü•ÊâæÂåπÈÖçËæìÂÖ•ÂèÇÊï∞ÁöÑ product s ÂàóË°®.ÂÅáËÆæÊàë‰ª¨Êúâ 3 ‰∏™‰∏ãÊ∏∏ÊúçÂä°.‰∏Ä‰∏™Ëé∑Âèñ‰∫ßÂìÅ‰ø°ÊÅØ,‰∏Ä‰∏™Ëé∑Âèñ‰∫ßÂìÅ‰ª∑Ê†º‰ø°ÊÅØ,‰∏Ä‰∏™ËÆ°ÁÆóÊü•Êñ∞Á®éÊî∂‰ø°ÊÅØ.graphql-java ‰ΩøÁî®Ëøô‰∫õÂØπË±°ËøêË°å data fetcher,Ëé∑Âèñ‰ø°ÊÅØÁÑ∂ÂêéÂ∞ÜÂÖ∂ÂåπÈÖçÂà∞ schema ÊåáÂÆöÁöÑÁ±ªÂûã‰∏≠.Êàë‰ª¨ÁöÑÁõÆÊ†áÊòØËé∑ÂèñÂà∞Ëøô 3 ‰∏™Ê∫êÁöÑ‰ø°ÊÅØ,ÁÑ∂ÂêéÊääÂÆÉ‰ª¨‰Ωú‰∏∫‰∏Ä‰∏™ unified Á±ªÂûãÂ±ïÁ§∫.Êàë‰ª¨ÂèØ‰ª•ÂØπ cost Âíå tax ÈúÄË¶ÅËÆ°ÁÆóÁöÑÂ±ûÊÄßÊåáÂÆö data fetcher,‰ΩÜËøôÈúÄË¶ÅÊõ¥Â§öÁöÑÁª¥Êä§Á≤æÂäõ,ÂèØËÉΩÂØºËá¥ N+1 ÊÄßËÉΩÈóÆÈ¢ò.Êàë‰ª¨ÊúÄÂ•ΩÂú® Query.products data fetcher ‰∏≠Ëé∑ÂèñÊâÄÊúâÁöÑ‰ø°ÊÅØ,ÂêåÊó∂ÂàõÂª∫‰∏Ä‰∏™ unified Êï∞ÊçÆËßÜÂõæ. 12345678910DataFetcher produtctsDataFetcher = new DataFetcher() &#123; @Override public Object get(DataFetchingEnvironment env) &#123; String matchArg = env.getArgument("match"); List&lt;ProductInfo&gt; productInfos = getMatchingProducts(matchArg); List&lt;ProductCostInfo&gt; productConstInfo = getProdutConsts(productInfo); List&lt;ProductTaxInfo&gt; productTaxInfo = getProductTax(productInfo); return mapDataTogether(productInfo,productCostInfo,productTaxInfo); &#125;&#125; ‰∏äÈù¢Êúâ 3 ‰∏™Á±ªÂûãÁöÑ‰ø°ÊÅØÈúÄË¶ÅË¢´Êï¥Âêà‰∏∫‰∏Ä‰∏™‰ª•‰æø graphql Êü•ËØ¢ÂèØ‰ª•ËÆøÈóÆ id,name,cost,tax Â±ûÊÄß.Êúâ 2 ‰∏≠ÊñπÊ≥ïÂèØ‰ª•ÂàõÂª∫Ëøô‰∏™Êò†Â∞Ñ.‰∏Ä‰∏™ÊòØ‰ΩøÁî®Á±ªÂûã‰∏çÂÆâÂÖ®ÁöÑ List&lt;Map&gt; ÁªìÊûÑ,Âè¶‰∏Ä‰∏™ÊòØ‰ΩøÁî®Á±ªÂûãÂÆâÂÖ®ÁöÑ List&lt;ProductDTO&gt;Â∞ÅË£ÖËøô‰∫õÊï∞ÊçÆ. 123456789101112131415161718private List&lt;Map&gt; mapDataTogetherViaMap(List&lt;ProductInfo&gt; productInfo,List&lt;ProductCostInfo&gt; productCostInfo,List&lt;ProductTaxInfo&gt; productTaxInfo) &#123; List&lt;Map&gt; unifiedView = new ArrayList&lt;&gt;(); for (int i = 0;i &lt; productInfo.size();i++) &#123; ProductInfo info = productInfo.get(i); ProductCostInfo cost = productCostInfo.get(i); ProductTaxInfo tax = productTaxInfo.get(i); Map&lt;String,Object&gt; objectMap = new HashMap&lt;&gt;(); objectMap.put("id",info.getId()); objectMap.put("name",info.getName()); objectMap.put("descriptioin",info.getDescription()); objectMap.put("cost",cost.getCost()); objectMap.put("tax",tax.getTax()); unifiedView.add(objectMap); &#125; return unifiedView;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354class ProductDTO &#123; private final String id; private final String name; private final String description; private final Float cost; private final Float tax; public ProductDTO(String id, String name, String description, Float cost, Float tax) &#123; this.id = id; this.name = name; this.description = description; this.cost = cost; this.tax = tax; &#125; public String getId() &#123; return id; &#125; public String getName() &#123; return name; &#125; public String getDescription() &#123; return description; &#125; public Float getCost() &#123; return cost; &#125; public Float getTax() &#123; return tax; &#125;&#125;private List&lt;ProductDTO&gt; mapDataTogetherViaDTO(List&lt;ProductInfo&gt; productInfo, List&lt;ProductCostInfo&gt; productCostInfo, List&lt;ProductTaxInfo&gt; productTaxInfo) &#123; List&lt;ProductDTO&gt; unifiedView = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; productInfo.size(); i++) &#123; ProductInfo info = productInfo.get(i); ProductCostInfo cost = productCostInfo.get(i); ProductTaxInfo tax = productTaxInfo.get(i); ProductDTO productDTO = new ProductDTO( info.getId(), info.getName(), info.getDescription(), cost.getCost(), tax.getTax() ); unifiedView.add(productDTO); &#125; return unifiedView;&#125; graphql ÂºïÊìéÁé∞Âú®ÂèØ‰ª•‰ΩøÁî® object ÂàóË°®ÁÑ∂ÂêéËøêË°åÊü•ËØ¢Ëé∑Âèñ id,name,cost,tax Â±ûÊÄß.graphql-java ÈªòËÆ§ÁöÑ data fetcher graphql.schema.PropertyDataFetcher ÂêåÊó∂ÊîØÊåÅ map Âíå POJO.ÂØπ‰∫éÂàóË°®ÁöÑÊØè‰∏Ä‰∏™ÂØπË±°ÈÉΩ‰ºöÈÄöËøá id Â±ûÊÄß,Êàñ‰ΩøÁî® name Âú® map ÈáåÊü•Êâæ,ÊàñÈÄöËøá getId() ÊñπÊ≥ïËé∑Âèñ,ÁÑ∂ÂêéËøîÂõûÁªô graphql response.ÂØπ‰∫éÊü•ËØ¢‰∏≠ÁöÑÊØè‰∏™Á±ªÂûãÈÉΩ‰ºöÊâßË°åËøôÊ†∑ÁöÑÊìç‰Ωú.ÈÄöËøáÂú®È´òÁ∫ß data fetcher ‰∏≠ÂàõÂª∫‰∏Ä‰∏™ unified view,‰Ω†Â∞±ÂèØ‰ª•Âú®ËøêË°åÊó∂Êï∞ÊçÆÂíå graphql schema ‰πãÈó¥Âª∫Á´ã‰∏Ä‰∏™Êò†Â∞Ñ.]]></content>
  </entry>
  <entry>
    <title><![CDATA[GraphQL-Execution]]></title>
    <url>%2F2019%2F05%2F04%2FGraphQL-Execution%2F</url>
    <content type="text"><![CDATA[ExecutionQueriesÂØπ schema ÊâßË°å query,‰ΩøÁî®ÂêàÈÄÇÁöÑÂèÇÊï∞ÊûÑÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ GraphQL ÂØπË±°,ÁÑ∂ÂêéË∞ÉÁî®execute().query ÁöÑÁªìÊûúÊòØÂåÖÂê´Êü•ËØ¢Êï∞ÊçÆÊàñËÄÖÔºàÂπ∂‰∏îÔºâ‰∏ÄÁ≥ªÂàóÈîôËØØÁöÑExecutionResult ÂØπË±°. 123456GraphQLSchema schema = GraphQLSchema.newSchema().query(queryType).build();GraphQL graphQl = GraphQL.newGraphQL(schema).build();ExecutionInput executionInput = ExecutionInput.newExecutionInput().query("query &#123; hero &#123; name &#125;&#125;");ExectionResult executionResult = graphQl.execute(executionInput);Object data = executionResult.getData();List&lt;GraphQLError&gt; errors = executionResult.getErrors(); Êõ¥Â§öÂ§çÊùÇÁöÑÊü•ËØ¢Á§∫‰æãËØ∑ÂèÇËÄÉStarWars query tests; Data FetchersÊØè‰∏™ graphql Â±ûÊÄßÁ±ªÂûãÈÉΩÊúâ‰∏Ä‰∏™ graphql.schema.DataFetcher ‰∏é‰πãÂÖ≥ËÅî.ÂÖ∂‰ªñ graphql ÂÆûÁé∞ÈÄöÂ∏∏ÊääËøô‰∏™Á±ªÂûãÊàê‰∏∫ resolvers.ÈÄöÂ∏∏ÂèØ‰ª•‰ΩøÁî®graphql.schema.PropertyDataFetcherÊù•Ê£ÄÊü• Êèê‰æõÂ±ûÊÄßÂÄºÁöÑ Java POJO ÂØπË±°.Â¶ÇÊûúÊüê‰∏™Â±ûÊÄßÊú™ÊåáÂÆö data fetcher,ÈªòËÆ§‰ºö‰ΩøÁî®Ëøô‰∏™.ÁÑ∂ËÄå‰Ω†ÂèØËÉΩÈúÄË¶Å‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑ data fetcehr Ëé∑Âèñ‰Ω†ÁöÑÈ°∂Á∫ßÂüüÂØπË±°.ÂèØËÉΩÊ∂âÂèäÂà∞Êï∞ÊçÆÂ∫ìË∞ÉÁî®ÊàñÈÄöËøá HTTP ËØ∑Ê±ÇÂÖ∂‰ªñÁ≥ªÁªü.graphql-java‰∏çÂÖ≥ÂøÉ‰Ω†ÊòØÂ¶Ç‰ΩïËé∑Âèñ‰Ω†ÁöÑÂüüÂØπË±°,ËøôÊòØ‰Ω†ÈúÄË¶ÅÂÖ≥ÂøÉÁöÑÂú∞Êñπ.ÂêåÊó∂‰πü‰∏çÂÖ≥ÂøÉÁî®Êà∑ËÆøÈóÆÊï∞ÊçÆÊéàÊùÉ.Ëøô‰∫õÈÉΩÂ∫îËØ•ÊîæÂà∞‰Ω†Ëá™Â∑±ÁöÑÈÄªËæëÂ§ÑÁêÜÂ±Ç.data fetcher Á§∫‰æãÂ¶Ç‰∏ã: 123456DataFetcher userDataFetcher = new DataFetcher() &#123; @Override public Object get(DataFetchingEnvironment environment) &#123; return fetchUserFromDatabase(environment.getArgument("userId")); &#125;&#125;; ÊØè‰∏™ DataFetcherÈÉΩ‰ºö‰º†ÈÄí‰∏Ä‰∏™ graphql.schema.DataFetchingEnvironment ÂØπË±°(ÂåÖÂê´‰∫ÜÂ∞ÜË¶ÅËé∑ÂèñÁöÑÂ±ûÊÄß,Ëé∑ÂèñËØ•Â±ûÊÄßÊâÄÈúÄÊèê‰æõÁöÑÂèÇÊï∞ÂíåÂÖ∂‰ªñ‰ø°ÊÅØÂ¶ÇÂ±ûÊÄßÁöÑÁà∂ÂØπË±°,query Ê†πÂØπË±°Êàñ query ‰∏ä‰∏ãÊñáÂØπË±°).‰∏ä‰æã‰∏≠,executionÂ∞Ü‰ºöÂú® data fetcher ËøîÂõûÁªìÊûúÂêéÊâçÁªßÁª≠ÊâßË°å.ÂèØ‰ª•ÈÄöËøáËøîÂõûCompletionStage ÂØπË±°‰Ωø DataFetcher ÂºÇÊ≠•ÊâßË°å,ËØ¶ÊÉÖËØ∑ÁªßÁª≠ÈòÖËØª. ÂΩìËé∑ÂèñÊï∞ÊçÆÊó∂ÂèëÁîüÂºÇÂ∏∏Â¶ÇÊûúÂú® data fetcher Ë∞ÉÁî®‰∏≠ÂèëÁîüÂºÇÂ∏∏,ÈÇ£‰πàÈªòËÆ§ÊâßË°åÁ≠ñÁï•Â∞ÜÁîüÊàêgraphql.ExceptionWhileDataFetching ÈîôËØØ,ÁÑ∂ÂêéÊ∑ªÂä†Âà∞ÁªìÊûú‰∏≠ÁöÑÈîôËØØÈõÜ‰∏≠.ÂàáËÆ∞ graphql ÂÖÅËÆ∏Â∏¶ÈîôËØØÁöÑÈÉ®ÂàÜÁªìÊûú.‰∏ãÈù¢ÊòØÊ†áÂáÜÁöÑË°å‰∏∫. 1234567891011121314public class SimpleDataFetcherExceptionHandler implements DataFetcherExceptionhandler &#123; private static final Logger log = LoggerFactory.getLogger(SimpleDataFetcherExceptionHandler.class); @Override public void accept(DataFetcherExceptionHandlerParameters handlerParameters) &#123; Throwable exception = handlerParameters.getException(); SourceLocation sourceLocation = handlerParameters.getField().getSourceLocation(); ExecutionPath path = handlerParameters.getPath(); ExceptionWhileDataFetching error = new ExceptionWhileDataFetching(path,exception,sourceLocation); handlerParameters.getExecutionContext().addError(error); log.warn(error.getMessage(),exception); &#125;&#125; Â¶ÇÊûú‰Ω†ÊäõÂá∫ÁöÑÊòØGraphqlError,ÈÇ£‰πàÂÆÉ‰ºö‰ªé exception ‰∏≠ËΩ¨Êç¢ message ÂíåËá™ÂÆö‰πâÊâ©Â±ïÂ±ûÊÄßÂà∞ ExceptionWhileDataFetchingÂØπË±°.Ê≠§Â§ÑÂÖÅËÆ∏‰Ω†ÂêëË∞ÉÁî®ËÄÖËøîÂõûËá™ÂÆö‰πâÁöÑÂ±ûÊÄßÂà∞ graphql error.‰æãÂ¶ÇÊÉ≥Ë±°‰Ω†ÁöÑ data fetcher Â∞ÜÊäõÂá∫Ëøô‰∏™ÂºÇÂ∏∏.foo Âíå fizz Â±ûÊÄßÂ∞ÜË¢´Ê∑ªÂä†Âà∞ËøîÂõûÁöÑ graphql error ‰∏≠. 12345678910111213141516171819class CustomRuntimeException extends RuntimeException implements GrapQLError &#123; @Override public Map&lt;String,Object&gt; getExtension() &#123; Map&lt;String,Object&gt; customAttributes = new LinkedHashMap&lt;&gt;(); customAttributes.put("foo","bar"); cutomAttributes.put("fizz","whizz"); return customAttributes; &#125; @Override public List&lt;SourceLocation&gt; getLocation() &#123; return null; &#125; @Override public ErrorType getErrorType() &#123; return ErrorType.DataFetchingException; &#125;&#125; ‰Ω†ÂèØ‰ª•ÈÄöËøáÂàõÂª∫Ëá™Â∑±ÁöÑ graphql.execution.DataFetcherExceptionHandlerÂºÇÂ∏∏Â§ÑÁêÜ‰ª£Á†ÅÊîπÂèòÊ≠§ÈªòËÆ§Ë°å‰∏∫,ÁªôÂá∫‰Ω†Ëá™Â∑±ÁöÑÊâßË°åÁ≠ñÁï•.‰æãÂ¶Ç‰∏äÈù¢ÁöÑ‰ª£Á†ÅËÆ∞ÂΩï‰∫ÜÂü∫Á°ÄÂºÇÂ∏∏ÂíåÂ†ÜÊ†àË∑üË∏™.ÊúâÁöÑ‰∫∫ÂèØËÉΩ‰∏çÂñúÊ¨¢Âú®ËæìÂá∫ÈîôËØØÂàóË°®‰∏≠ÁúãÂà∞Ëøô‰∫õ.ÊâÄ‰ª•‰Ω†ÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™Êú∫Âà∂ÊîπÂèòËøô‰∏™Ë°å‰∏∫. 1234567DataFetcherExceptionHandler handler = new DataFetcherExceptionHandler() &#123; @Override public void accept(DataFetcherExceptionHandlerParameters handlerParameters) &#123; &#125;&#125;;ExecutionStrategy executionStrategy = new AsyncExecutionStrategy(handler); ËøîÂõûÂÄºÂíåÈîôËØØÂú®DataFetcherÂÆûÁé∞‰∏≠ÈÄöËøáÁõ¥Êé•ÊàñËÄÖ‰ΩøÁî® CompletableFuture ÂÆû‰æãÂåÖË£ÖÂºÇÊ≠•ÊâßË°åËøîÂõû graphql.execution.DataFetcherResult Êù•ÂÆûÁé∞ÂêåÊó∂ËøîÂõûÊï∞ÊçÆÂíåÂ§ö‰∏™ÈîôËØØ.ÂΩì‰Ω†ÁöÑDataFetcher ÈúÄË¶Å‰ªéÂ§ö‰∏™Êï∞ÊçÆÊ∫êÊàñÂÖ∂‰ªñ GraphQL ËµÑÊ∫êËé∑ÂèñÊï∞ÊçÆÊó∂ÁâπÂà´ÊúâÁî®.Âú®Ëøô‰∏™ üå∞ ‰∏≠,DataFetcher ‰ªéÂè¶‰∏Ä‰∏™ GraphQL ËµÑÊ∫ê‰∏≠Ëé∑Âèñ user ÂêåÊó∂ËøîÂõûÊï∞ÊçÆÂíåÈîôËØØ. 1234567891011DataFetcher userDataFetcher = new DataFetcher() &#123; @Override public Object get(DataFetchingEnvironment environment) &#123; Map response = fetchUserFromRemoteGraphQLResource(environment.getArgument("userID")); List&lt;GralhQLError&gt; errors = response.get("errors) .stream() .map(MyMapGraphQLError::new) .collect(Collections.toList()); return new DataFetcherResult(response.get("data"),errors); &#125;&#125; Â∞ÜÁªìÊûúÂ∫èÂàóÂåñ‰∏∫ JSONË∞ÉÁî® graphql ÊúÄÂ∏∏ËßÅÁöÑÊñπÊ≥ïÊòØÈÄöËøá HTTP,ËøîÂõû JSON ÂìçÂ∫î.ÊâÄ‰ª•‰Ω†ÈúÄË¶ÅÂ∞Ü graphql.ExecutionResult ËΩ¨‰∏∫ JSON.ÊúÄÂ∏∏Áî®ÁöÑÂÆûÁé∞ÊòØ‰ΩøÁî® Jackson Êàñ GSON ËøôÊ†∑ÁöÑ JSON Â∫èÂàóÂåñÂ∫ì.ÁÑ∂ËÄåÂÆÉ‰ª¨Ëß£ÊûêÊï∞ÊçÆÁöÑÊñπÂºèÊúâÂÆÉ‰ª¨Ëá™Â∑±ÁöÑ‰∏ÄÂ•óÊñπÂºè.‰æãÂ¶Ç nullsÂØπ graphql ÁªìÊûúÊòØÂæàÈáçË¶ÅÁöÑ,ÊâÄ‰ª•‰Ω†ÂøÖÈ°ªÂú®ËÆæÁΩÆ json mapper Êó∂ÂåÖÂê´ÂÆÉ.‰∏∫‰∫Ü‰øùËØÅ‰Ω†Ëé∑ÂèñÁöÑ JSON ÁªìÊûú 100% Á¨¶Âêà graphql ÁöÑÈúÄÊ±Ç,‰Ω†Â∫îËØ•ÂØπÁªìÊûúË∞ÉÁî®toSpecification,ÁÑ∂ÂêéÂ∞ÜÂÖ∂‰Ωú‰∏∫ JSON ËøîÂõû.ËøôÂ∞Ü‰ºöÁ°Æ‰øùËøîÂõûÁöÑÁªìÊûúÁ¨¶ÂêàËßÑËåÉ. 123ExecutionResult executionResult = graphQL.execute(executinInput);Map&lt;String,Object&gt; toSpecificationResult = executionResult.toSpecification();sendAsJson(toSpecificationResult); MutationsÂú®ËøôÂÑøÂ≠¶‰π† mutations.Êú¨Ë¥®‰∏ä‰Ω†ÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™Êé•Êî∂ÂèÇÊï∞‰Ωú‰∏∫ËæìÂÖ•ÁöÑ GraphQLObjectType .Ëøô‰∫õÂèÇÊï∞‰Ω†ÂèØ‰ª•ÈÄöËøá data fetcher Ë∞ÉÁî®‰øÆÊîπ‰Ω†ÁöÑÊï∞ÊçÆÂ≠òÂÇ®. 123456mutation CreateReviewForEpisode($ep: Episode!, $review: ReviewInput!) &#123; createReview(episode: $ep, review: $review) &#123; stars commentary &#125;&#125; Âú®ÊâßË°å mutation Êìç‰Ωú‰∏≠ÈúÄË¶Å‰º†ÈÄíÂèÇÊï∞,Êú¨‰æã‰∏≠ÊòØ $ep Âíå $review ÂèÇÊï∞.‰Ω†ÂèØ‰ª•ÂÉèËøôÊ†∑ÂàõÂª∫Á±ªÂûãÂ§ÑÁêÜ mutation Êìç‰Ωú. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455GraphQLInputObjectType episodeType = newInputObject() .name("Episode") .field(newInputObjectField() .name("episodeNumber") .type(Scalars.GraphQLInt)) .build();GraphQLInputObjectType reviewInputType = newInputObject() .name("ReviewInput") .field(newInputObjectField() .name("stars") .type(Scalars.GraphQLString) .name("commentary") .type(Scalars.GraphQLString)) .build();GraphQLObjectType reviewType = newObject() .name("Review") .field(newFieldDefinition() .name("stars") .type(GraphQLString)) .field(newFieldDefinition() .name("commentary") .type(GraphQLString)) .build();GraphQLObjectType createReviewForEpisodeMutation = newObject() .name("CreateReviewForEpisodeMutation") .field(newFieldDefinition() .name("createReview") .type(reviewType) .argument(newArgument() .name("episode") .type(episodeType) ) .argument(newArgument() .name("review") .type(reviewInputType) ) ) .build();GraphQLCodeRegistry codeRegistry = newCodeRegistry() .dataFetcher( coordinates("CreateReviewForEpisodeMutation", "createReview"), mutationDataFetcher() ) .build();GraphQLSchema schema = GraphQLSchema.newSchema() .query(queryType) .mutation(createReviewForEpisodeMutation) .codeRegistry(codeRegistry) .build(); ËØ∑Ê≥®ÊÑèËæìÂÖ•ÂèÇÊï∞Á±ªÂûãÊòØ GraphQLInputObjectType.ËøôÊòØÂæàÈáçË¶ÅÁöÑ.ËæìÂÖ•Á±ªÂûãÂè™ËÉΩÊòØËøôÁßçÁ±ªÂûã,Áªù‰∏çËÉΩ‰ΩøÁî®ËæìÂá∫Á±ªÂûãÂ¶Ç GraphQLObjectType.Ê†áÈáèÁ±ªÂûãÊó¢ÂèØ‰ª•ÊòØËæìÂÖ•Á±ªÂûã‰πüÂèØ‰ª•ÊòØËæìÂá∫Á±ªÂûã.Ëøô‰∏™ data fetcher ÊâßË°å mutation,ËøîÂõû‰∏Ä‰∫õÊúâÊÑè‰πâÁöÑËæìÂá∫ÂÄº. 1234567891011121314private DataFetcher mutationDataFetcher() &#123; return new DataFetcher() &#123; @Override public Review get(DataFetchingEnvironment environment) &#123; Map&lt;String,Object&gt; episodeInputMap = environemnt.getArugment("episode"); Map&lt;String,Object&gt; reviewInputMap = environment.getArugment("review"); EpisodeInput episodeInput = EpisodeInput.fromMap(episodeInputMap); ReviewInput reviewInput = ReviewInput.fromMap(reviewInputMap); Review updatedReview = reviewStore().update(episodeInput, reviewInput); return updatedReview; &#125; &#125;&#125; ÂºÇÊ≠•ÊâßË°ågraphql-java ÊâßË°åÊü•ËØ¢Êó∂ÂèØ‰ª•ÂÆåÂÖ®ÊîØÊåÅÂºÇÊ≠•ÊâßË°å.‰Ω†ÂèØ‰ª•ÈÄöËøáË∞ÉÁî® executeAsync() Ëé∑Âèñ CompletableFutureÁöÑÁªìÊûú. 1234567GraphQL graphql = buildSchema();ExecutionInput executionInput = ExecutionInput.newExecutionInput().query("query &#123; hero &#123; name &#125;&#125;").build();CompletableFuture&lt;ExecutionResult&gt; promise = graphql.executeAsync(executionInput);promise.thenAccept(executinoResult -&gt; &#123; encodeResultToJsonAndSendResponse(executionResult);&#125;);promise.join(); ‰ΩøÁî® CompletableFuture ÂèØ‰ª•Âú®ÊâßË°åÂÆåÊàêÊó∂ÁªÑÂêà action Âíå function.ÊúÄÁªàË∞ÉÁî® join() Á≠âÂæÖÊâßË°åÂÆåÊàê.graphql-java ‰ΩøÁî®ÂºÇÊ≠•ÊâßË°åÁöÑÂéüÁêÜÊòØÈÄöËøá join Ë∞ÉÁî®ÈÄöËøáÊñπÊ≥ïexecute().ÊâÄ‰ª•‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑ. 123ExecutionResult executionResult = graphql.execute(executionInput);CompletableFuture&lt;ExecutionResult&gt; promise = graphql.executeAsync(executionInput);ExecutionResult executionResult = promise.join(); Â¶ÇÊûú graphql.schema.DataFetcher ËøîÂõûÁöÑÊòØ CompletableFuture&lt;T&gt; ÂØπË±°,ÈÇ£‰πàËøô‰∏™ÁªìÊûúÂ∞ÜË¢´ÁªÑÂêàËøõÊï¥‰∏™ÂºÇÊ≠•Êü•ËØ¢ÊâßË°å‰∏≠.ËøôÊÑèÂë≥ÁùÄ‰Ω†ÂèØ‰ª•Âπ∂Ë°åÂèëËµ∑Â§ö‰∏™Â±ûÊÄßÊü•ËØ¢ËØ∑Ê±Ç.‰Ω†‰ΩøÁî®ÁöÑÁ∫øÁ®ãÊ±†Á≠ñÁï•ÂèñÂÜ≥‰∫é‰Ω†ÁöÑ data fetcher ‰ª£Á†Å.‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÈááÁî®‰∫ÜÊ†áÂáÜÁöÑ java.util.concurrent.ForkJoinPool.commonPool() Á∫øÁ®ãÊâßË°åÂô®Âú®Âè¶Â§ñ‰∏Ä‰∏™Á∫øÁ®ãÊèê‰æõÊï∞ÊçÆ. 123456789DataFetcher userDataFetcher = new DataFetcher() &#123; @Override public Object get(DataFetchingEnvironment environment) &#123; CompletableFuture&lt;User&gt; userPromise = CompletableFuture.supplyAsync(() -&gt; &#123; return fetchUserViaHttp(environment.getArgument("userId")); &#125;); return userPromise; &#125;&#125; ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÁî® Java8 Lambdas ÂèØ‰ª•ÁÆÄÁï•‰∏∫: 1DataFetcher userDataFetcher = environment -&gt; CompletableFuture.supplyAsync(() -&gt; fetchUserViaHttp(environment.getArgument("userId")); graphql-java ÂºïÊìéÁ°Æ‰øùÊâÄÊúâÁöÑ CompletableFuture ÂØπË±°ÈÅµÁÖß graphql ËßÑËåÉÁªÑÂêàÂú®‰∏ÄËµ∑Êèê‰æõÊâßË°åÁªìÊûú.ËøôÊòØ graphql-java ÂàõÂª∫ÂºÇÊ≠• data fetcher ÁöÑÂø´Êç∑ÊñπÂºè.‰ΩøÁî® graphql.schema.AsyncDataFetcher.async(DataFetcher&lt;T&gt;) ÂåÖË£Ö‰∏Ä‰∏™ DataFetcher.ÂèØ‰ª•‰ΩøÁî®ÈùôÊÄÅÂØºÂÖ•ÂàõÂª∫Êõ¥ÊòìËØªÁöÑ‰ª£Á†Å. 1DataFetcher userDataFetcher = async(environment -&gt; fetchUserViaHttp(environment.getArgument("userId"))); ÊâßË°åÁ≠ñÁï•ÁªßÊâø graphql.execution.ExecutionStrategy ÁöÑÁ±ªÂèØ‰ª•Áî®‰∫éËøêË°å‰∏Ä‰∏™Êü•ËØ¢Êàñ‰øÆÊîπ. graphql-java Êèê‰æõ‰∫ÜÂ§ßÈáè‰∏çÂêåÁöÑÁ≠ñÁï•,Â¶ÇÊûú‰Ω†ÈùûÂ∏∏Ëø´Âàá,‰πüÂèØ‰ª•‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑ.ÂΩì‰Ω†ÂàõÂª∫ Graphql ÂØπË±°Êó∂ÂèØ‰ª•Á°ÆÂÆöÊâßË°åÁ≠ñÁï•. 1234GraphQL.newGraphQL(schema) .queryExecutionStrategy(new AsyncExecutionStrategy()) .mutationExecutionStrategy(new AsyncSerialExecutionStrategy()) .build(); ÂÆûÈôÖ‰∏ä‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂíåÈªòËÆ§ËÆæÁΩÆ‰∏ÄËá¥,Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÊòØ‰∏Ä‰∏™ÊòéÊô∫ÁöÑÁ≠ñÁï•ÈÄâÊã©. ÂºÇÊ≠•ÊâßË°åÁ≠ñÁï•ÈªòËÆ§ÁöÑÊü•ËØ¢ÊâßË°åÁ≠ñÁï•ÊòØ graphql.execution.AsyncExecutionStrategy,‰ºöÊääÊØè‰∏Ä‰∏™Â±ûÊÄß‰Ωú‰∏∫ CompletableFuture ÂØπË±°ÂàÜÂèë,Âπ∂‰∏î‰∏çÂÖ≥ÂøÉÂì™‰∏™ÊúÄÂÖàÂÆåÊàê.Ê≠§Á≠ñÁï•ÊòØÊÄßËÉΩÊúÄ‰Ω≥ÁöÑÊâßË°åÁ≠ñÁï•.data fetchers Êú¨Ë∫´‰ºöËøîÂõû CompletionStage ÂÄº,ËøôÂ∞ÜÂØºËá¥ÂÆåÂÖ®ÂºÇÊ≠•ÁöÑË°å‰∏∫. 12345678910query &#123; hero &#123; enemies &#123; name &#125; friends &#123; name &#125; &#125;&#125; AsyncExecutionStrategy Ëá™Áî±ÂàÜÂèë enemies Â±ûÊÄßÂíå friendsÂ±ûÊÄß.enemies Â±ûÊÄß‰∏çÂøÖÁ≠âÂæÖ friendsÂ±ûÊÄßËøîÂõû.ËøôÊòØÈùûÂ∏∏‰ΩéÊïàÁöÑ.Êó†ËÆ∫Â¶Ç‰Ωï,ÊúÄÁªà‰ºöÂ∞ÜÁªìÊûúÊåâÈ°∫Â∫èÊéíÂàó.Êü•ËØ¢ÁªìÊûúÂ∞ÜÈÅµÁÖß graphql ËßÑËåÉ,ËøîÂõûÁªìÊûúÂØπÂ∫î query Â±ûÊÄßÈ°∫Â∫è.Âè™Êúâ data fetcher ÁöÑÊâßË°åÊòØÈöèÊú∫È°∫Â∫è. ÂºÇÊ≠•Â∫èÂàóÂåñÊâßË°åÁ≠ñgraphql ËßÑËåÉË¶ÅÊ±Ç mutation ÂøÖÈ°ªÊåâÁÖß query Â±ûÊÄßÁöÑÈ°∫Â∫èÂ∫èÂàóÂåñÊâßË°å.ÊâÄ‰ª• mutation ÈªòËÆ§‰ΩøÁî® graphql.execution.AsyncSerialExecutionStrategy Á≠ñÁï•.ÂÆÉ‰ºö‰øùËØÅÂú®ÊâßË°å‰∏ã‰∏Ä‰∏™ÂíåÂêéÈù¢ÂâçÂΩìÂâçÁöÑÊØè‰∏™Â±ûÊÄßÊâßË°åÂÆåÊØï.‰πüÂèØ‰ª•Âú® mutation data fetcher ‰∏≠ËøîÂõû CompletionStage ÂØπË±°,Âπ∂‰∏î‰ºöÊåâÈ°∫Â∫èÂú®‰∏ã‰∏Ä‰∏™ mutation Â±ûÊÄß data fetcher Ë¢´ÂàÜÂèë‰πãÂâçÊâßË°åÂÆåÊØï. ËÆ¢ÈòÖÊâßË°åÁ≠ñÁï•graphql ÂÖÅËÆ∏ÂØπ graphql data ÂàõÂª∫ÊúâÁä∂ÊÄÅÁöÑËÆ¢ÈòÖ.ÂèØ‰ª•‰ΩøÁî® SubscriptionExecutionStrategyÂÆûÁé∞,ÂêåÊó∂ÊîØÊåÅ reactive-stream API.Êü•Áúã‰∫ÜËß£Êõ¥Â§öÂü∫‰∫é graphql ÊúçÂä°ÁöÑËÆ¢ÈòÖÊîØÊåÅ. Êü•ËØ¢ÁºìÂ≠òÂú® graphql-java ÂºïÊìéÊâßË°åÊü•ËØ¢‰πãÂâçÂøÖÈ°ªË¢´Ëß£ÊûêÂíåÊ£ÄÈ™å,Âπ∂‰∏îËøô‰∏™Â§ÑÁêÜËøáÁ®ãÂèØËÉΩÊúâ‰∫õËÄóÊó∂.‰∏∫‰∫ÜÈÅøÂÖçÈáçÂ§çËß£Êûê/Ê†°È™åGraphQL.BuilderÂÖÅËÆ∏PreparsedDocumentProviderÂÆû‰æãÂ§çÁî®DocumentÂÆû‰æã.Ê≥®ÊÑè ‚ö†Ô∏è,ËøôÂè™ÁºìÂ≠òËß£ÊûêÁöÑ Document,‰∏çÁºìÂ≠òÊü•ËØ¢ÁªìÊûú 1234Cache&lt;String,PreparsedDocumentEntry&gt; cache = Caffeine.newBuilder().maximumSize(10_000).build();GraphQL graphql = GraphQL.newGraphQL(StarWarsSchema.starWarsSchema) .preparsedDocumentProvider(cache::get) .build(); Ëøô‰∏™ÁºìÂ≠òÂÆû‰æãÂ∫îËØ•ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÂÖ±‰∫´ÁöÑ. PreparsedDocumentProvider ÊòØ‰∏Ä‰∏™Âè™Êúâ‰∏Ä‰∏™ get ÊñπÊ≥ïÁöÑÂáΩÊï∞Êé•Âè£,Êàë‰ª¨ÂèØ‰ª•‰º†ÈÄí‰∏Ä‰∏™ÊñπÊ≥ïÂºïÁî®Âà∞ÈáåÈù¢‰ª•ÂåπÈÖç builder ÁöÑÁ≠æÂêç. ‰∏∫‰∫ÜÂÆûÁé∞È´òÁºìÂ≠òË¶ÜÁõñÁéá,Êé®ËçêÂ±ûÊÄßÂèÇÊï∞ÈÄöËøáÂèòÈáè‰º†ÈÄíËÄå‰∏çÊòØÁõ¥Êé•Âú® query ‰∏≠ÂÆö‰πâ.‰∏ãÈù¢ÁöÑÊü•ËØ¢: 12345query HelloTo &#123; sayHello(to: &quot;ME&quot;) &#123; greeting &#125;&#125; Â∫îËØ•ËøôÊ†∑ÂÜô: 12345query HelloTo($to: String!) &#123; sayHello(to: $to) &#123; greeting &#125;&#125; ÂíåÂèòÈáè 123&#123; &quot;to&quot;: &quot;Me&quot;&#125; Áé∞Âú®Â∞±ÂèØ‰ª•‰∏çÁÆ°Êèê‰æõÁöÑÂèòÈáèÊòØ‰ªÄ‰πàËÄåÈáçÁî®Êü•ËØ¢.]]></content>
  </entry>
  <entry>
    <title><![CDATA[GraphQL-DataFetcher]]></title>
    <url>%2F2019%2F04%2F27%2FGraphQL-DataFetcher%2F</url>
    <content type="text"><![CDATA[Ëé∑ÂèñÊï∞ÊçÆgraphql Â¶Ç‰ΩïËé∑ÂèñÊï∞ÊçÆgraphql ‰∏≠ÁöÑÊØè‰∏™Â±ûÊÄßÈÉΩÂÖ≥ËÅî‰∫Ü‰∏Ä‰∏™ graphql.schema.DataFetcher.‰∏Ä‰∫õÂ±ûÊÄß‰ºö‰ΩøÁî®‰∏ìÁî®ÁöÑ data fetcher ‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñËØ•Â±ûÊÄßÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ.ËÄåÂ§ßÂ§öÊï∞ÁÆÄÂçïÁöÑ‰ΩøÁî®Â±ûÊÄßÂêçÂíå Plain Old Java Object(POJO)Ê®°Âºè ‰ªéÂÜÖÂ≠ò‰∏≠Ëé∑ÂèñÊï∞ÊçÆ.Âú®ÂÖ∂‰ªñ graphql ÂÆûÁé∞‰∏≠ÔºåData fetcher Ë¢´Áß∞‰∏∫ resolverÁé∞Âú®Â£∞Êòé‰∏Ä‰∏™Á±ªÂûãÂÆö‰πâ: 123456789101112type Query &#123; products(match: String): [Product] # a list of products&#125;type Product &#123; id: ID name: String description: String cost: Float tax: Float launchDate(dateFormat: String = &quot;dd,MM,yyyy&quot;): String&#125;]]></content>
      <tags>
        <tag>DataFetcher</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁßªÂä®‰ºòÂÖàÁöÑÂìçÂ∫îÂºèÁΩëÈ°µËÆæËÆ°]]></title>
    <url>%2F2019%2F04%2F12%2F%E7%A7%BB%E5%8A%A8%E4%BC%98%E5%85%88%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BD%91%E9%A1%B5%E8%AE%BE%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[ÂéüÊñáÁÆÄ‰ªãÊú¨ÊñáÂ∞ÜÊé¢Á¥¢Â¶Ç‰ΩïÂàõÂª∫ÁßªÂä®‰ºòÂÖàÁöÑÁΩëÈ°µËÆæËÆ°‰ΩìÈ™å„ÄÇ ‰∏∫‰ªÄ‰πàÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫ÁßªÂä®‰ºòÂÖàÔºåÂìçÂ∫îÂºèÔºåÈÄÇÂ∫îÂºèÁΩëÈ°µËÆæËÆ°‰ΩìÈ™å? Â¶Ç‰ΩïÈíàÂØπÈÄÇÂ∫îÂºèÁ´ôÁÇπÁªÑÁªá HTML ÁªìÊûÑ‰ª•‰æø‰ºòÂåñÊÄßËÉΩÔºå‰ºòÂÖàËÄÉËôëÁÅµÊ¥ªÊÄß? Â¶Ç‰Ωï‰π¶ÂÜô‰ºòÂÖàÂÆö‰πâÂÖ±‰∫´Ê†∑Âºè„ÄÅÈíàÂØπÂ§ßÂ±èÂíåÂ™í‰ΩìÊü•ËØ¢ÊûÑÂª∫„ÄÅ‰ΩøÁî®Áõ∏ÂØπÂçï‰ΩçÁöÑ CSS? Â¶Ç‰ΩïÁºñÂÜô‰∏çÂºï‰∫∫Ê≥®ÁõÆÁöÑ Javascript Êù•ÊúâÊù°‰ª∂Âú∞Âä†ËΩΩÂÜÖÂÆπÁâáÊÆµÔºåÂà©Áî®Ëß¶Êë∏‰∫ã‰ª∂ÂíåÂú∞ÁêÜÂÆö‰Ωç Êàë‰ª¨ÂèØ‰ª•ÂÅö‰∫õ‰ªÄ‰πàÊù•Ëøõ‰∏ÄÊ≠•Â¢ûÂº∫Êàë‰ª¨ÁöÑÈÄÇÂ∫îÊÄß‰ΩìÈ™å ÈÄÇÂ∫îÊÄßÁöÑÂøÖË¶ÅÊÄßÈöèÁùÄÁΩëÁªúÁéØÂ¢ÉË∂äÊù•Ë∂äÂ§çÊùÇÔºå‰∏∫Ë∂äÊù•Ë∂äÂ§öÁöÑÁéØÂ¢ÉÊèê‰æõÂèØÈù†ÁöÑÁΩëÁªú‰ΩìÈ™åÂèòÂæóÊûÅ‰∏∫ÈáçË¶Å.Âπ∏ËøêÁöÑÊòØÔºåÂìçÂ∫îÂºè web ËÆæËÆ°Áªô web ÂºÄÂèëËÄÖÊèê‰æõ‰∫Ü‰∏Ä‰∫õÂèØ‰ª•ÂåπÈÖç‰ªªÊÑèÂ§ßÂ∞èÂ±èÂπïÁöÑÂ∑•ÂÖ∑Êù•ÁªÑÁªáÂ∏ÉÂ±Ä.]]></content>
      <tags>
        <tag>ÁøªËØë</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â∏∏Áî®ÂëΩ‰ª§ËÆ∞ÂΩï]]></title>
    <url>%2F2019%2F03%2F28%2F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[Homebrewgradle-completion1234567891011121314brew install gradle-completionecho $fpath | grep "/usr/local/share/zsh/site-functions"# ÊâßË°åÁªìÊûúAdd the following line to your ~/.bash_profile: [[ -r "/usr/local/etc/profile.d/bash_completion.sh" ]] &amp;&amp; . "/usr/local/etc/profile.d/bash_completion.sh"Bash completion has been installed to: /usr/local/etc/bash_completion.d==&gt; gradle-completionBash completion has been installed to: /usr/local/etc/bash_completion.dzsh completions have been installed to: /usr/local/share/zsh/site-functions]]></content>
  </entry>
  <entry>
    <title><![CDATA[gradle]]></title>
    <url>%2F2019%2F03%2F28%2Fgradle%2F</url>
    <content type="text"><![CDATA[Gradle ÂçáÁ∫ßÊó•Âøó5.0 ÂåÖÂê´‰∫Ü Kotlin DSL Áîü‰∫ßÁ∫ßÊîØÊåÅ,‰æùËµñÁâàÊú¨ÂØπÈΩê(Á±ª‰ºº Maven BOM),‰ªªÂä°Ë∂ÖÊó∂,Java 11 ÊîØÊåÅ Kotlin DSL 1.0 ‰æùËµñÁâàÊú¨ÂØπÈΩê: Âêå‰∏ÄÈÄªËæëÁªÑ(platform)‰∏ãÁöÑ‰∏çÂêåÊ®°ÂùóÂú®‰æùËµñÊ†ë‰∏≠ÂèØ‰ª•ÊúâÁõ∏ÂêåÁöÑÁâàÊú¨.‰πüÂèØ‰ª•ÂØºÂÖ• Maven BOMs ÂÆö‰πâ platform. 123456789dependencies &#123; // ÂØºÂÖ• BOM.Ê≠§Êñá‰ª∂‰∏≠ÁâàÊú¨Â∞ÜË¶ÜÁõñ‰æùËµñÊ†ë‰∏≠ÁöÑÂÖ∂‰ªñÁâàÊú¨ implementation(enforcedPlatform("org.springframework.boot:spring-boot-dependencies:1.5.8.RELEASE")) // ‰ΩøÁî®‰∏äÈù¢ÂÆö‰πâÁöÑÁâàÊú¨ implementation("com.google.code.gson:gson") implementation("dom4j:dom4j") // Ë¶ÜÁõñ‰∏äÈù¢ÁöÑÁâàÊú¨ implementation("org.codehaus.groovy:groovy:1.8.6")&#125; Gradle build ÂàùÂßãÂåñÁâπÊÄß ÂèØÊêúÁ¥¢ÊñáÊ°£ ‰ªªÂä°Ë∂ÖÊó∂ Ëß£Êûê‰æùËµñÊó∂ HTTP ÈáçËØï ÊÄßËÉΩÁâπÊÄß Gradle ÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™‰Ωé‰ºòÂÖàÁ∫ßÁöÑËøõÁ®ãÂêØÂä®: ‚Äìpriority low ÊàñËÄÖ org.gradle.priority=low.ÂèØ‰ª•‰øùËØÅ IDE/Browser ‰∏çÂç°,Âç≥‰ΩøÊòØ‰∏Ä‰∏™ÂæàÊ∂àËÄóËµÑÊ∫êÁöÑ gradle ‰ªªÂä°. Â§ö‰ªªÂä°ËæìÂá∫Â±ûÊÄß‰∏çÂÜçÁ¶ÅÁî®ÁºìÂ≠ò.ÂΩì‰ΩøÁî® @OutputFiles Êàñ OutputDirectories Ê†áËÆ∞‰∏Ä‰∏™IterableÁ±ªÂûã,Gradle ÈÄöÂ∏∏‰ºöÂØπËØ•‰ªªÂä°Á¶ÅÁî®ÁºìÂ≠ò‰∏îËæìÂá∫Â¶Ç‰∏ã‰ø°ÊÅØ: 1Declares multiple output files for the single output property 'outputFiles' via @OutputFiles,@OutputDirectories or TaskOutputs.files() Áé∞Âú®‰∏ç‰ºöÂÜçÈòªÊ≠¢ÁºìÂ≠ò‰∫Ü.ÂØπËØ•‰ªªÂä°Á¶ÅÁî®ÁºìÂ≠òÁöÑÂîØ‰∏ÄÁêÜÁî±ÂèØËÉΩÊòØÂ¶ÇÊûúËæìÂá∫ÂåÖÂê´Êñá‰ª∂Ê†ë. Java 11 ËøêË°åÊó∂ÊîØÊåÅ Êèí‰ª∂ÊéàÊùÉÁâπÊÄß Provider ËøΩË∏™‰∫ßÂìÅ‰ªªÂä°ÔºöProvider API ÂÆû‰æãÊèê‰æõ‰∫ÜËøΩË∏™ÊüêÂÄºÂíå‰ªªÂä°ÊàñÁîüÊàêËØ•ÂÄºÁöÑ‰ªªÂä°„ÄÇ Gradle Native ÁâπÊÄß Êé®ÂπøÁâπÊÄß Gradle ÁºñËØëËØ≠Ë®ÄÊåáÂçógradle ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑËØ≠Ë®ÄÊàñ DSL Êù•ÊâßË°åÁºñËØë‰ªªÂä°Âü∫Êú¨Ê¶ÇÂøµÁêÜËß£‰ª•‰∏ãÊ¶ÇÂøµÂèØ‰ª•Â∏ÆÂä©‰π¶ÂÜô gradle ËÑöÊú¨.È¶ñÂÖàÔºågradle ËÑöÊú¨ÊòØ‰∏ÄÁßçÂèØÈÖçÁΩÆËÑöÊú¨.ÂΩìËÑöÊú¨ÊâßË°åÊó∂Ôºå‰ºöÁîüÊàê‰∏Ä‰∏™ÁâπÂÆöÁ±ªÂûãÁöÑÈÖçÁΩÆÂØπË±°.‰æãÂ¶Ç build script ÊâßË°åÊó∂Ôºå‰ºöÁîüÊàê‰∏Ä‰∏™Á±ªÂûã‰∏∫ Project ÁöÑÈÖçÁΩÆÂØπË±°.Ëøô‰∏™ÂØπË±°‰Ωú‰∏∫ËÑöÊú¨ÁöÑ‰ª£ÁêÜÂØπË±°Ë¢´‰ΩøÁî®.‰∏ãÈù¢ÊòæÁ§∫‰∫Ü gradle ËÑöÊú¨ÂØπÂ∫îÁöÑ‰ª£ÁêÜÂØπË±°. ËÑöÊú¨Á±ªÂûã ‰ª£ÁêÜÂØπË±° build script Project init script Gradle settings script settings Âú®ËÑöÊú¨ÂÜÖÂèØ‰ª•‰ΩøÁî®Ëøô‰∫õ‰ª£ÁêÜÂØπË±°ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï. build script ÁªìÊûÑ‰∏ÄÊÆµÁºñËØëËÑöÊú¨Áî± 0 ‰∏™ÊàñÂ§ö‰∏™ËØ≠Âè•ÂíåËÑöÊú¨ÂùóÁªÑÊàê„ÄÇËØ≠Âè•ÂèØ‰ª•ÂåÖÂê´ÊñπÊ≥ïË∞ÉÁî®ÔºåÂ±ûÊÄßËµãÂÄºÔºåÂÆö‰πâÂ±ÄÈÉ®ÂèòÈáè„ÄÇ‰∏Ä‰∏™ËÑöÊú¨ÂùóÊòØ‰∏Ä‰∏™Êé•Âèó closure ‰Ωú‰∏∫ÂèÇÊï∞ÁöÑÊñπÊ≥ïË∞ÉÁî®.Ëøô‰∏™ closure ÂèØ‰ª•Áúã‰ΩúÊòØ‰∏Ä‰∏™ÂΩìÂÖ∂ÊâßË°åÊó∂ÈÖçÁΩÆ‰∫Ü‰∏Ä‰∫õ‰ª£ÁêÜÂØπË±°ÁöÑÂèØÈÖçÁΩÆ closure. ÊúÄÈ°∂Â±ÇÁöÑËÑöÊú¨ÂùóÂ¶Ç‰∏ã ËÑöÊú¨Âùó ÊèèËø∞ allprojects{} ÈÖçÁΩÆÊ≠§È°πÁõÆÂèäÂÖ∂ÊâÄÊúâÂ≠êÈ°πÁõÆ artifacts{} ÈÖçÁΩÆÊ≠§È°πÁõÆÁöÑÂèëÂ∏É‰∫ßÁâ© buildscript{} ÈÖçÁΩÆÊ≠§È°πÁõÆÁöÑ build script classpath configurations{} ÈÖçÁΩÆÊ≠§È°πÁõÆÁöÑ‰æùËµñÈÖçÁΩÆÈ°π dependencies{} ÈÖçÁΩÆÊ≠§È°πÁõÆÁöÑ‰æùËµñ repositories{} ÈÖçÁΩÆÊ≠§È°πÁõÆÁöÑ‰ªìÂ∫ì sourceSets{} ÈÖçÁΩÆÊ≠§È°πÁõÆÁöÑ source set subprojects{} ÈÖçÁΩÆÊ≠§È°πÁõÆÁöÑÂ≠êÈ°πÁõÆ publishing{} ÈÖçÁΩÆÁî± publishing plugin Ê∑ªÂä†ÁöÑ publishingExtension ‰∏ÄÊÆµÁºñËØëËÑöÊú¨ÂêåÊó∂‰πüÊòØ‰∏Ä‰∏™ groovy ËÑöÊú¨,ÊâÄ‰ª•ÂèØ‰ª•ÂåÖÂê´ËÉΩÂá∫Áé∞Âú® groovy ËÑöÊú¨‰∏≠ÁöÑÂÖÉÁ¥†,Â¶Ç ÊñπÊ≥ïÂÆö‰πâÔºåÁ±ªÂÆö‰πâ Ê†∏ÂøÉÁ±ªÂûã‰ª•‰∏ãÊòØÂú® gradle ËÑöÊú¨‰∏≠Â∏∏Áî®ÁöÑÊ†∏ÂøÉÁ±ªÂûã Á±ªÂûã ÊèèËø∞ Project Ê≠§Êé•Âè£ÊòØ‰Ω†Âú®‰Ω†ÁöÑÁºñËØëËÑöÊú¨‰∏≠ÊúÄÂ∏∏‰ΩøÁî®ÁöÑ API„ÄÇÈÄöËøá Project,‰Ω†ÂèØ‰ª•‰ΩøÁî® gradle ÁöÑÊâÄÊúâÁâπÊÄß Task ‰∏Ä‰∏™ task ‰ª£Ë°®‰∏Ä‰∏™ÁºñËØëËøáÁ®ã‰∏≠ÁöÑ‰∏Ä‰∏™Âçï‰∏ÄÂéüÂ≠ê‰ªªÂä°ÔºåÂ¶ÇÁºñËØë class,ÁîüÊàê javadoc Gradle Ë°®Á§∫ gradle ÁöÑË∞ÉÁî® Settings Â£∞ÊòéÂÆû‰æãÂåñÂíåÈÖçÁΩÆË¶ÅÂèÇ‰∏éÊûÑÂª∫ÁöÑ Project ÂÆû‰æãÁöÑÂ±ÇÊ¨°ÁªìÊûÑÊâÄÈúÄÁöÑÈÖçÁΩÆ Script Ê≠§Êé•Âè£Áî±ÊâÄÊúâÁöÑ gradle ËÑöÊú¨ÂÆûÁé∞Âπ∂Ê∑ªÂä†‰∏Ä‰∫õ gradle ÁâπÂÆöÁöÑÊñπÊ≥ï„ÄÇÂΩì‰Ω†ÁºñËØëËÑöÊú¨Á±ªÊó∂Â∞Ü‰ºöÂÆûÁé∞Ê≠§Êé•Âè£Ôºå‰Ω†ÂèØ‰ª•Âú®ËÑöÊú¨‰∏≠‰ΩøÁî®Ê≠§Êé•Âè£Â£∞ÊòéÁöÑÊñπÊ≥ïÂíåÂ±ûÊÄß JavaToolChain ‰∏ÄÁªÑÁî®‰∫éÁºñËØë Java Ê∫êÊñá‰ª∂ÁöÑÂ∑•ÂÖ∑ SourceSet Ë°®Á§∫ Java Ê∫êÊñá‰ª∂ÂíåËµÑÊ∫êÊñá‰ª∂ÁöÑÈÄªËæëÁªÑ SourceSetOutput ÊâÄÊúâËæìÂá∫ÁõÆÂΩïÁöÑÈõÜÂêà(ÁºñËØëÁöÑÁ±ªÔºåÂ§ÑÁêÜËøáÁöÑËµÑÊ∫êÁ≠â),SourceSetOutput ÁªßÊâøËá™ FileCollection SourceDirectorySet Ë°®Á§∫‰∏ÄÁªÑÁî±‰∏ÄÁ≥ªÂàóÊ∫êÊñá‰ª∂ÁõÆÂΩïÁªÑÊàêÁöÑÊ∫êÊñá‰ª∂„ÄÇ‰ª•ÂèäÁõ∏ÂÖ≥ÁöÑ include Âíå exclude pattern IncrementalTaskInputs Êèê‰æõÈÄöËøáÂ¢ûÈáè‰ªªÂä°ËÆøÈóÆ‰ªªÊÑèÈúÄË¶ÅË¢´Â§ÑÁêÜÊñá‰ª∂ÁöÑÈÄîÂæÑ Configuration Ë°®Á§∫‰∏ÄÁªÑ‰∫ßÁâ©ÂèäÂÖ∂‰æùËµñ„ÄÇ‰ªé ConfigurationContainer ‰∏≠ÂèØ‰ª•Ëé∑ÂèñÊõ¥Â§öÂÖ≥‰∫éÂØπ configuration Â£∞Êòé‰æùËµñÊàñËÄÖÁÆ°ÁêÜ configuration ÁöÑ‰ø°ÊÅØ ResolutingStrategy ÂÆö‰πâ‰æùËµñËß£ÊûêÁöÑÁ≠ñÁï•.‰æãÂ¶ÇÂº∫Âà∂Âõ∫ÂÆö‰æùËµñÁâàÊú¨Âè∑ÔºåÊõø‰ª£ÔºåÂÜ≤Á™ÅËß£ÂÜ≥ÊñπÊ°àÊàñÂø´ÁÖß ArtifactResolutingQuery ÂèëËµ∑ÂèØ‰ª•Ëß£ÊûêÁâπÂÆöÁªÑ‰ª∂ÁöÑÊåáÂÆöËΩØ‰ª∂‰∫ßÁâ©ÁöÑÊü•ËØ¢ÁöÑÁîüÊàêÂô® ComponentSelection Ë°®Á§∫‰∏Ä‰∏™Ê®°ÂùóÁöÑÁªÑ‰ª∂ÈÄâÊã©Âô®ÂíåÊüê‰∏™ÁªÑ‰ª∂ÈÄâ‰∏≠ËßÑÂàô‰∏≠ËØÑ‰º∞ÁöÑÂÄôÈÄâÁâàÊú¨ÁöÑÂÖÉÁªÑ ComponentSelectionRules Ë°®Á§∫ÁªÑ‰ª∂ÈÄâ‰∏≠ËßÑÂàôÁöÑÂÆπÂô®.ËßÑÂàôÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™ configuration ÁöÑËß£ÊûêËßÑÂàô‰∏ÄÈÉ®ÂàÜË¢´‰ΩøÁî®ÔºåËÄå‰∏îÁã¨Á´ãÁöÑÁªÑ‰ª∂ÂèØ‰ª•ÊòéÁ°ÆÊé•ÂèóÊàñÊãíÁªùËØ•ËßÑÂàô„ÄÇÊó¢‰∏çÊé•Âèó‰πü‰∏çÊãíÁªùÁöÑÁªÑ‰ª∂Â∞ÜË¢´ÊåáÂÆöÂà∞ÈªòËÆ§ÁöÑÁâàÊú¨ÂåπÈÖçËßÑÂàô ExtensionAware Âú®ËøêË°åÊó∂ÂèØ‰ª•ÂíåÂÖ∂‰ªñÂØπË±°‰∏ÄËµ∑Ë¢´Êâ©Â±ïÁöÑÂØπË±° ExtraPropertiesExtension Gradle ÂüüÂØπË±°ÁöÑÈôÑÂä† ad-hoc Â±ûÊÄß PluginDependenciesSpec Âú®ËÑöÊú¨‰∏≠‰ΩøÁî®ÁöÑÂ£∞ÊòéÊèí‰ª∂ÁöÑ DSL PluginDependencySpec Êèí‰ª∂‰æùËµñÁöÑÂèØÂèòËßÑËåÉ PluginManagementSpec ÈÖçÁΩÆÊèí‰ª∂Â¶Ç‰ΩïË¢´Ëß£Êûê ResourceHandler Êèê‰æõËÆøÈóÆÁâπÂÆöËµÑÊ∫êÁöÑÂ∑•ÂÖ∑ÊñπÊ≥ïÁöÑÈÄîÂæÑ,‰æãÂ¶ÇÂàõÂª∫ÂêÑÁßçËµÑÊ∫êÁöÑÂ∑•ÂéÇÊñπÊ≥ï TextResourceFactory ÂàõÂª∫Áî±Â≠óÁ¨¶‰∏≤„ÄÅÊñá‰ª∂„ÄÅÂ≠òÊ°£ÂÆû‰ΩìÁ≠âËµÑÊ∫êÊèê‰æõÁöÑ TextResources type-safe model accessorsÊâßË°åÊó∂Êú∫Ôºöplugins{} ÂùóÂêéÔºåscript ËÑöÊú¨‰πãÂâç. 123456789101112131415161718192021222324252627282930313233// build.gradle.ktsplugins &#123; `java-library`&#125;dependencies &#123; api(&quot;junit:junit;4.12&quot;) implementation(&quot;junit:junit:4.12&quot;) testImplementation(&quot;junit:junit:4.12&quot;)&#125;configurations &#123; implementation &#123; resolutinStrategy.failOnVersionConflict() &#125;&#125;sourceSets &#123; main &#123; java.srcDir(&quot;src/core/java&quot;) &#125;&#125;java &#123; sourceCompatibility = JavaVersion.VERSION_11 targetCompatibility = JavaVersion.VERSION_11&#125;tasks &#123; test &#123; testLogging.showExceptions = true &#125;&#125; ‰∫ÜËß£ type-safe accessors ‰∏çÂèØÁî®Êó∂Ë¶ÅÊâßË°åÁöÑÊìç‰Ωú‰∏ãÈù¢ÁöÑËÑöÊú¨ÊòéÁ°Æ‰ΩøÁî®‰∫Ü apply() ÊñπÊ≥ïÂ∫îÁî®Êèí‰ª∂.ÁºñËØëËÑöÊú¨Êó†Ê≥ï‰ΩøÁî® type-safe accessors,Âõ†‰∏∫ apply() ÊñπÊ≥ïÊòØÂú®Ëøô‰∏™ÁºñËØëËÑöÊú¨ÂÜÖË∞ÉÁî®ÁöÑ„ÄÇ‰Ω†ÂèØ‰ª•ÈááÁî®ÂÖ∂‰ªñÊäÄÂ∑ßÔºåÂ¶Ç‰∏ã 12345678910111213141516171819202122232425262728293031// build.gradle.ktsapply(plugin = &quot;java-library&quot;)dependencies &#123; &quot;api&quot;(&quot;junit:junit:4.12&quot;) &quot;implementation&quot;(&quot;junit:junit:&quot;4.12&quot;) &quot;testImplementation&quot;(&quot;junit:junit:4.12&quot;)&#125;configurations &#123; &quot;implementation&quot; &#123; resolutinStrategy.failOnVersionConflict() &#125;&#125;configure&lt;SourceSetContainer&gt; &#123; named(&quot;main&quot;) &#123; java.srcDir(&quot;src/core/java&quot;) &#125;&#125;configure&lt;JavaPluginConvention&gt; &#123; sourceCompatibility = JavaVersion.VERSION_11 targetCompatibility = JavaVersion.VERSION_11&#125;tasks &#123; named&lt;Test&gt;(&quot;test&quot;) &#123; testLogging.showException = true &#125;&#125; ‰∏ãÂàóÊÉÖÂÜµ‰∏ãÔºåtype-safe accessor ‰∏çÂèØÁî® ‰ΩøÁî® apply(plugin = id) Â∫îÁî®Êèí‰ª∂ È°πÁõÆ build script ÈÄöËøá apply(from = ‚Äúscript-plugin.gradle.kts‚Äù) Â∫îÁî®ÁöÑËÑöÊú¨Êèí‰ª∂ Ë∑®È°πÁõÆÈÖçÁΩÆÁöÑÊèí‰ª∂ ‰∫ßÁâ©ÈÖçÁΩÆ1234567891011121314// build.gradle.jtsapply(plugin = &quot;java-library&quot;)&apos;dependencies &#123; &quot;api&quot;(&quot;junit:junit:4.12&quot;) &quot;implementation&quot;(&quot;junit:junit:4.12&quot;) &quot;testImplementation&quot;(&quot;junit:junit:4.12&quot;)&#125;configurations &#123; &quot;implementation&quot; &#123; resolutinStrategy.failOnVersionConflict() &#125;&#125; 123456789101112131415// settings.gradle.ktspluginManagement &#123; repositories &#123; google() gradlePluginPortal() &#125; resolutionStrategy &#123; eachPlugin &#123; if (requested.id.namespace == &apos;com.android&apos;) &#123; useModule(&apos;com.android.tools.build:gradle:$&#123;requested.version&#125;&apos;) &#125; &#125; &#125;&#125; 1234567891011121314151617181920212223// build.gradle.ktsval check by tasks.existingval myTask1 by tasks.registeringval compileJava by tasks.existing(JavaCompile::class)val myCopy1 by tasks.registering(Copy::class)va; assemble by tasks.existing &#123; dependsOn(myTask1)&#125;val myTask2 by tasks.registering &#123; description = &quot;some meaningful words&quot;&#125;val test by tasks.existing(Test::class) &#123; testLogging.showStackTrace = true&#125;val myCopy2 by tasks.registering(Copy::class) &#123; from(&quot;source&quot;) into(&quot;destination&quot;)&#125; ÂçáÁ∫ß Gradle WrapperÂ¶ÇÊûúÂ∑≤ÁªèÊúâÂü∫‰∫égradlew wrapperÁöÑÈ°πÁõÆ,ÂèØ‰ª•ÈÄöËøáËøêË°åwrapper‰ªªÂä°Êù•ÊåáÂÆöÈúÄË¶ÅÁöÑgradleÁâàÊú¨. 1./gradlew wrapper --gradle-version=5.3 --distribution-type=bin ÂΩìÁÑ∂Ê≤°ÂøÖË¶Å‰ΩøÁî®gradle wrapperÊù•ÂÆâË£Ögradle.Ë∞ÉÁî®gradlewÊàñgradlew.batÂ∞Ü‰ºö‰∏ãËΩΩÂπ∂ÁºìÂ≠òÊåáÂÆöÁâàÊú¨ÁöÑ Gradle. 1./gradlew taska CLI Ëá™Âä®Ë°•ÂÖ®12brew install gradle-completionecho $fpath | grep "/usr/local/share/zsh/site-functions" ËÆæËÆ° gradle Êèí‰ª∂ÂØπ gradle Êñ∞ÊâãÊù•ËØ¥ÔºåÂÆûÁé∞ gradle Êèí‰ª∂ÂèØËÉΩÊòØ‰∏Ä‰∏™Âùë:ÁªÑÁªáÁÆ°ÁêÜÊèí‰ª∂ÈÄªËæëÔºåÊµãËØï„ÄÅË∞ÉËØïÊèí‰ª∂‰ª£Á†ÅÁ≠â.ÂèØ‰ª•Âú®Ê≠§Ëé∑ÂèñÂà∞Êõ¥Â§öÁöÑ‰ø°ÊÅØ. ### ÈÄöËøáÊåáÂÆö subproject ÁöÑË∑ØÂæÑÔºåÂèØ‰ª•Â∞ÜÊú¨Âú∞‰ªª‰ΩïË∑ØÂæÑ‰∏ãÁöÑ‰ª£Á†ÅÂØºÂÖ•Â∑•Á®ã‰∏≠Ôºå‰æõÊú¨Âú∞ÂºÄÂèëË∞ÉËØï„ÄÇ 12include ':lib'project(':lib').projectDir = new File('xxx/xxx/lib') com.android.application Êèí‰ª∂ applicationVariants 12345678910111213141516// AppExtension ÁªßÊâøËá™ BaseExtension ÂîØ‰∏ÄÊâ©Â±ïÁöÑÊàêÂëòÂèòÈáèÔºåÂÆÉÁöÑÂèÇÊï∞Á±ªÂûãÊòØ DefaultDomainObjectSet,ËøôÊòØ‰∏çÂêå buildType Âèä Flavor ÁöÑÈõÜÂêà,applicationVariants ÊúÄÈïøÁöÑÊòØÂÆÉÁöÑ all ÊñπÊ≥ïÔºåÂ¶Ç‰øÆÊîπ apk ÂêçÂ≠ódef buildTime() &#123; return new Date().format("yyyy-MM-dd",TimeZone.getTimeZone("UTC"))&#125;android &#123; applicationVariants.all &#123; variant -&gt; variant.outputs.each &#123; output -&gt; def outputFile = output.outputFile if (outputFile != null &amp;&amp; outputFile.name.endsWith('.apk')) &#123; def fileName = "$&#123;variant.buildType.name&#125;-$&#123;variant.versionName&#125;-$&#123;buildTime()&#125;.apk" output.outputFile = new File(output.outputFile.parent,fileName) &#125; &#125; &#125;&#125; defaultConfig 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758defaultConfig &#123; applicationId '**.**.**' applicationIdSuffix '.two' //applicationIdÁöÑÂêéÁºÄÔºåÂèØ‰ª•Áî®Âú®ÊÉ≥ÂêåÊó∂ÂÆâË£ÖËøêË°å‰∏§‰∏™FlavorÂåÖÁöÑÊó∂ÂÄôÔºåÊØîÂ¶ÇÂêåÊó∂ÂÆâË£ÖdebugÂåÖÂíåReleaseÂåÖÂÅö‰∏Ä‰∫õÂØπÊØî„ÄÇ minSdkVersion 14 minSdkVersion 14 targetSdkVersion 28 versionCode 1 versionName '1.0' versionNameSuffix '.0' // versionNameÂêéÁºÄ consumerProguardFiles 'proguard-rules.pro' //Áî®‰∫éLibrary‰∏≠ÔºåÂèØ‰ª•Â∞ÜÊ∑∑Ê∑ÜÊñá‰ª∂ËæìÂá∫Âà∞aar‰∏≠Ôºå‰æõApplicationÊ∑∑Ê∑ÜÊó∂‰ΩøÁî®„ÄÇ dimension 'api' //ÁªôÊ∏†ÈÅì‰∏Ä‰∏™ÂàÜÁªÑÂä†Áª¥Â∫¶ÁöÑÊ¶ÇÂøµÔºåÊØîÂ¶Ç‰Ω†Áé∞Âú®Êúâ‰∏â‰∏™Ê∏†ÈÅìÂåÖÔºåÂàÜÊàêÂÖçË¥πÂíåÊî∂Ë¥π‰∏§ÁßçÁ±ªÂûãÔºå //ÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™dimension, ÊâìÊ∏†ÈÅìÂåÖÁöÑÊó∂ÂÄô‰ºöËá™Âä®ÊâìÂá∫6‰∏™ÂåÖÔºåËÄå‰∏çÈúÄË¶ÅÊ∑ªÂä†6‰∏™Ê∏†ÈÅìÔºå // ËØ¶ÁªÜÁöÑËØ¥ÊòéÂèØËßÅ https://developer.android.com/studio/build/build-variants.html#flavor-dimensions„ÄÇ externalNativeBuild &#123; //ndkÁöÑÈÖçÁΩÆÔºåAS2.2‰πãÂêéÊé®ËçêÂàáÊç¢Âà∞cmakeÁöÑÊñπÂºèËøõË°åÁºñËØë„ÄÇ cnamke &#123; cppFlags '-frtti --fexceptions' arguments '-DANDROID_ARM_NEON=TRUE' buildStagingDirectory './outputs/cmake' path 'CMakeLists.txt' version '3.7.1' &#125; ndkBuild &#123; path 'Android.mk' buildStagingDirectory './outputs/ndk-build' &#125; &#125; javaCompileOptions &#123; annotationProcessorOptions &#123; // Ê≥®Ëß£ÁöÑÈÖçÁΩÆ includeCompileClasspath true // ‰ΩøÁî®Ê≥®Ëß£ÂäüËÉΩ arguments = [ eventBusIndex : 'org.greenrobot.eventbusperf.MyEventBusIndex' ] // AbstractProcessor ‰∏≠ÂèØ‰ª•ËØªÂèñÂà∞ËØ•ÂèÇÊï∞ classNames &#125; &#125; manifestPlaceholders = [key: 'value'] // manifest Âç†‰ΩçÁ¨¶ÔºåÂÆö‰πâÂèÇÊï∞Áªô manifest Ë∞ÉÁî®ÔºåÂ¶Ç‰∏çÂêåÁöÑÊ∏†ÈÅìid multiDexEnabled true // ÂêØÁî® multiDex multiDexKeepFile file('multiDexKeep.txt') // ÊâãÂä®ÊãÜÂåÖÔºåÂ∞ÜÂÖ∑‰ΩìÁöÑÁ±ªÊîæÂú®‰∏ª dex mutliDexKeepProguard file('multiDexKeep.pro') // ÊîØÊåÅ proguard ËØ≠Ê≥ïÔºåËøõË°å‰∏Ä‰∫õÊ®°Á≥äÂåπÈÖç. ndk &#123; abiFilterss 'x86','x86_64','armeabi' // Âè™‰øùÁïôÁâπÂÆöÁöÑ abi ËæìÂá∫Âà∞ apk &#125; proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' // Ê∑∑Ê∑ÜÊñá‰ª∂ÁöÑÂàóË°®ÔºåÂ¶ÇÈªòËÆ§ÁöÑ android Ê∑∑Ê∑ÜÊñá‰ª∂ÂèäÊú¨Âú∞ÁöÑ proguard Êñá‰ª∂ÔºåÂàáËÆ∞‰∏çË¶ÅÈÅóÊºè android Ê∑∑Ê∑ÜÊñá‰ª∂ÔºåÂê¶ÂàôÂØºËá¥‰∏Ä‰∫õÈªòËÆ§ÂÆâÂçìÁªÑ‰ª∂Êó†Ê≥ïÊâæÂà∞ signingConfig &#123; storeFile file('debug.keystore') // Á≠æÂêçÊñá‰ª∂Ë∑ØÂæÑ storePassword 'android' // Á≠æÂêçÊñá‰ª∂ÂØÜÁ†Å keyAlias 'androiddebugkey' // Âà´Âêç keyPassword 'android' &#125; buildConfigField('boolean','IS_RELEASE','false') // Âú®‰ª£Á†Å‰∏≠ÂèØ‰ª•ÈÄöËøá BuildConfig.IS_RELEASE Ë∞ÉÁî®„ÄÇÈªòËÆ§ false resValue('string','appname','demo') // Âú® res/value ‰∏≠Ê∑ªÂä† &lt;string name="appname" translatable="false"&gt;demo&lt;/string&gt; resConfigs 'cn','hdpi' // ÊåáÂÆöÁâπÂÆöËµÑÊ∫êÔºåÂèØ‰ª•ÁªìÂêà productFlavors ÂÆûÁé∞‰∏çÂêåÊ∏†ÈÅìÁöÑÊúÄÂ∞èÁöÑ apk ÂåÖ.&#125; productFlavors: Ê∏†ÈÅìÂåÖÁöÑÂàóË°®ÔºåÂèØË¶ÜÁõñ defaultConfig ÁöÑÂèÇÊï∞ÈÖçÁΩÆ,ÂΩ¢ÊàêËá™Â∑±ÁöÑÈ£éÂë≥ flavorDimensionList: Ê∑ªÂä†Á∫¨Â∫¶ÁöÑÂÆö‰πâ resourcePrefix: Âú®Ê®°ÂùóÂåñÂºÄÂèë‰∏≠ÁªôÊØè‰∏™Ê®°ÂùóÊåáÂÆö‰∏Ä‰∏™ÁâπÂÆöÁöÑËµÑÊ∫êÂâçÁºÄÔºåÈÅøÂÖçÂ§öÊ®°Âùó‰ΩøÁî®Áõ∏ÂêåÁöÑÊñá‰ª∂ÂêçÂêéÂêàÂπ∂ÂÜ≤Á™ÅÔºåÂú® build.gradle ÊåáÂÆöÊ≠§ÈÖçÁΩÆÂêéÔºåAS ‰ºöÊ£ÄÊü•‰∏çÂêàÊ≥ïÁöÑËµÑÊ∫êÂëΩÂêçÂπ∂Êä•Èîô buildTypes: ÈªòËÆ§Êúâ debug Âíå release„ÄÇ 123456789101112debug &#123; applicationIdSuffix '.debug' versionNameSuffix '.1' debugable true // ÁîüÊàêÁöÑ apk ÊòØÂê¶ÂèØË∞ÉËØïÔºådebug -&gt; true,release -&gt; false jniDebuggable true // ÊòØÂê¶ÂèØ‰ª•Ë∞ÉËØï NDK ‰ª£Á†ÅÔºå‰ΩøÁî® lldb ËøõË°å c/c++ ‰ª£Á†ÅË∞ÉËØï crunchPngs true // ÊòØÂê¶ÂºÄÂêØ png ‰ºòÂåñÔºå‰ºöÂØπ png ÂõæÁâáÂÅö‰∏ÄÊ¨°ÊúÄ‰ºòÂéãÁº©ÔºåÂΩ±ÂìçÁºñËØëÈÄüÂ∫¶, debug -&gt; false,release -&gt; true embedMicroApp true // Android Wear ÊîØÊåÅ minifyEnabled true // ÊòØÂê¶ÂºÄÂêØÊ∑∑Ê∑Ü renderscriptDebuggable false // ÊòØÂê¶ÂºÄÂêØÊ∏≤ÊüìËÑöÊú¨ renderscriptOptimLevel 5 // Ê∏≤ÊüìËÑöÊú¨Á≠âÁ∫ß ÈªòËÆ§ 5 zipAlignEnabled true // ÊòØÂê¶ zip ÂØπÈΩê‰ºòÂåñÔºåÈªòËÆ§ true&#125; ndkDirectory: ‰πüÂèØÂú® local.properties ‰∏≠ÈÖçÁΩÆ ndk.dir=/Users/shuttle/Library/Android/sdk sdkDirectory: .. aaptOptions: ËµÑÊ∫êÊâìÂåÖÂ∑•ÂÖ∑ 123456aaptOptions &#123; additionalParameters '--rename-manifest-package','cct.cn.gradle.lsn13','-S','src/main/res2','--auto-add-overlay' // appt ÊâßË°åÊó∂ÁöÑÈ¢ùÂ§ñÂèÇÊï∞ cruncherEnabled true // ÂØπ png ËøõË°å‰ºòÂåñÊ£ÄÊü• ignoreAssets '*.jpg' // ÂØπ res ÁõÆÂΩï‰∏ãÁöÑËµÑÊ∫êÊñá‰ª∂ËøõË°åÊéíÈô§ÔºåÊää res Êñá‰ª∂‰∏ãÁöÑÊâÄÊúâ .jpg Êñá‰ª∂ÊâìÂåÖÂà∞ apk ‰∏≠ noCompress '.jpg' // ÂØπÊâÄÊúâ jpg Êñá‰ª∂‰∏çÂéãÁº©&#125; adbExecutable: adb Ë∑ØÂæÑ adbOptions 1234adbOptions &#123; installOptions '-r','-d' // Ë∞ÉÁî® adb install ÂëΩ‰ª§Êó∂ÈªòËÆ§‰º†ÈÄíÁöÑÂèÇÊï∞ timeOutInMs 1000 // ÊâßË°å adb ÂëΩ‰ª§ÁöÑË∂ÖÊó∂Êó∂Èó¥&#125; compileOptions 123456compileOptions &#123; encoding 'UTF-8' // java Ê∫êÊñá‰ª∂ÁöÑÁºñÁ†ÅÊ†ºÂºèÔºåÈªòËÆ§ utf8 incrmental true // javaÁºñËØëÊòØÂê¶‰ΩøÁî® gradle Â¢ûÈáèÁºñËØë sourceCompatibility JavaVersion.VERSION_1_7 // java Ê∫êÊñá‰ª∂ÁºñËØëÁöÑ jdk ÁâàÊú¨ targetCompatibility JavaVersion.VERSION_1_7 // ÁºñËØëÂá∫ÁöÑ class ÁâàÊú¨&#125; dataBinding 12345dataBinding &#123; enabled = true version = "1.0" addDefaultAdapters = true&#125; defaultPublishConfig: ÊåáÂÆöÂèëÂ∏ÉÁöÑÊ∏†ÈÅìÂèä BuildType Á±ªÂûã„ÄÇÂú® Library ‰∏≠‰ΩøÁî®,ÈªòËÆ§ Release. signingConfigs: Á≠æÂêçÈÖçÁΩÆÂàóË°®Ôºå‰æõ‰∏çÂêåÊ∏†ÈÅìÂíå buildType ‰ΩøÁî®. lintOptions 12345678910111213141516171819202122232425lintOptions &#123; quiet true // true -&gt; ‰∏çÊä•ÂëäÂàÜÊûêÁöÑËøõÂ∫¶ abortOnError false // true -&gt; ÂèëÁé∞ÈîôËØØÊó∂ÁªàÊ≠¢ gradle ignoreWarnings true // true -&gt; Âè™Êä•ÂëäÈîôËØØ absolutePaths true // true -&gt; ÂΩìÊúâÈîôËØØÊó∂ÊòæÁ§∫Êñá‰ª∂ÁöÑÂÖ®Ë∑ØÂæÑÊàñÁªùÂØπË∑ØÂæÑ checkAllWarnings true // true -&gt; Ê£ÄÊü•ÊâÄÊúâÈóÆÈ¢òÔºåÂåÖÊã¨ÈªòËÆ§‰∏çÊ£ÄÊü•ÈóÆÈ¢ò warningsAsErrors true // true -&gt; Â∞ÜÊâÄÊúâË≠¶ÂëäËßÜ‰∏∫ÈîôËØØ disable 'TypeographyFractions','TypographyQUotes' // ‰∏çÊ£ÄÊü•ÁªôÂÆöÈóÆÈ¢ò id enable 'RtlHardCoded','RtlCompat','RtlEnabled' // Ê£ÄÊü•ÁªôÂÆöÈóÆÈ¢ò id check 'NewApi','InlinedApi' // ‰ªÖ Ê£ÄÊü•ÁªôÂÆöÈóÆÈ¢ò id noLines true // Â¶ÇÊûú‰∏∫ true,ÂàôÂú®ÈîôËØØÊä•ÂëäÁöÑËæìÂá∫‰∏≠‰∏çÂåÖÂê´Ê∫ê‰ª£Á†ÅË°å showAll true // true -&gt; ÂØπ‰∏Ä‰∏™ÈîôËØØÁöÑÈóÆÈ¢òÊòæÁ§∫ÂÆÉÊâÄÂú®ÁöÑÊâÄÊúâÂú∞ÊñπÔºåËÄå‰∏ç‰ºöÊà™Áü≠ÂàóË°®Á≠âÁ≠â„ÄÇ lintConfig file('default-lint.xml') // ÈáçÁΩÆ lint ÈÖçÁΩÆ(‰ΩøÁî®ÈªòËÆ§ÁöÑ‰∏•ÈáçÊÄßÁ≠âËÆæÁΩÆ) textReport true // true -&gt; ÁîüÊàê‰∏Ä‰∏™ÈóÆÈ¢òÁöÑÁ∫ØÊñáÊú¨Êä•Âëä(default -&gt; false) textOuput 'stdout' // ÈªòËÆ§ÂÜôÂÖ•ËæìÂá∫ÁªìÊûúÁöÑ‰ΩçÁΩÆÔºåÂèØËÉΩÊòØ‰∏Ä‰∏™Êñá‰ª∂Êàñ stdout xmlReport false // true -&gt; ÁîüÊàê xml Êä•ÂëäÔºåjenkins ÂèØ‰ª•‰ΩøÁî® xmlOutput file("lint-report.xml") // ÂÜôÂÖ•Êä•ÂëäÁöÑÊñá‰ª∂ÔºåÈªòËÆ§ line-results.xml htmlReport true // html Êä•Âëä htmlOutput file('lint-report.html') // ÂÜôÂÖ•Êä•ÂëäÁöÑË∑ØÂæÑÔºåÂèØÈÄâ(ÈªòËÆ§‰∏∫ÊûÑÂª∫ÁõÆÂΩï‰∏ãÁöÑ lint-results.html) checkReleaseBuilds true // true -&gt; Â∞Ü‰ΩøÊâÄÊúâ release ÊûÑÂª∫ÈÉΩ‰ª• issus ÁöÑ‰∏•ÈáçÊÄßÁ∫ßÂà´‰∏∫ fatal (serverity=false)ÁöÑËÆæÁΩÆÊù•ËøêË°å lint,‰∏îÂ¶ÇÊûúÂèëÁé∞‰∫ÜËá¥ÂëΩ(fatal)ÁöÑÈóÆÈ¢ò,Â∞Ü‰ºö‰∏≠Ê≠¢ÊûÑÂª∫(Áî±‰∏äÈù¢ÊèêÂà∞ÁöÑ abortOnError ÊéßÂà∂) fatal 'NewApi','InlineApi' // ËÆæÁΩÆÁªôÂÆöÈóÆÈ¢òÁöÑ‰∏•ÈáçÁ∫ßÂà´(serverity)‰∏∫ fatalÔºàÂç≥Â∞Ü‰ºöÂú® release ÊûÑÂª∫ÊúüÈó¥Ê£ÄÊü•,Âç≥‰Ωø lint Ë¶ÅÊ£ÄÊü•ÁöÑÈóÆÈ¢òÊ≤°ÊúâÂåÖÂê´Âú®‰ª£Á†Å‰∏≠Ôºâ error 'Wakelock','TextViewEdits' // ËÆæÁΩÆÁªôÂÆöÈóÆÈ¢òÁöÑ‰∏•ÈáçÁ∫ßÂà´‰∏∫ error warning 'ResourceAsColor' // ËÆæÁΩÆÁªôÂÆöÈóÆÈ¢òÁöÑ‰∏•ÈáçÁ∫ßÂà´‰∏∫ warning ignore 'TypographyQUotes' // ËÆæÁΩÆÁªôÂÆöÈóÆÈ¢òÁöÑ‰∏•ÈáçÁ∫ßÂà´(serverity)‰∏∫ ignore (Âíå‰∏çÊ£ÄÊü•ËØ•ÈóÆÈ¢ò‰∏ÄÊ†∑)&#125; dexOptions: ÁÉ≠‰øÆÂ§çÂ∑ÆÂàÜÂåÖ 123456789dexOptions &#123; additionalParameters '--minimal-main-dex','--set-max-idx-number=10000' // dx ÂëΩ‰ª§ÈôÑÂä†ÂèÇÊï∞ javaMaxHeapSize '2048m' // ÊâßË°å dx Êó∂ Java ËôöÊãüÊú∫ÂèØÁî®ÁöÑÊúÄÂ§ßÂÜÖÂ≠òÂ§ßÂ∞è jumboMode true // ÂºÄÂêØÂ§ßÊ®°ÂºèÔºåÊâÄÊúâÁöÑ class ÊâìÂà∞‰∏Ä‰∏™ dex ‰∏≠,ÂèØ‰ª•ÂøΩÁï• 65535 ÊñπÊ≥ïÊï∞ÁöÑÈôêÂà∂, Â§ß‰∫é14ÁâàÊú¨ÂèØÁî® keepRuntimeAnnotatedClasses true // Âú® dex ‰∏≠ÊòØÂê¶‰øùÁïô Runtime Ê≥®Ëß£,ÈªòËÆ§ true maxProcessCount 4 // dex ‰∏≠ÁöÑËøõÁ®ãÊï∞,ÈªòËÆ§ 4 threadCount 4 // ÈªòËÆ§Á∫øÁ®ãÊï∞ preDexLibraries true // ÂØπ library È¢ÑÁºñËØëÔºåÊèêÈ´òÁºñËØëÊïàÁéáÔºå‰ΩÜ clean Êó∂ËæÉÊÖ¢ÔºåÈªòËÆ§ true&#125; packagingOptions 12345packagingOptions &#123; pickFirsts = ['META-INF/LICENSE'] // ÂΩìÊúâÈáçÂ§çÊñá‰ª∂Êó∂ÔºåÊâìÂåÖ‰ºöÊä•Èîô„ÄÇÊ≠§ÈÖçÁΩÆ‰ºö‰ΩøÁî®Á¨¨‰∏Ä‰∏™ÂåπÈÖçÁöÑÊñá‰ª∂ÊâìÂåÖËøõÂÖ• apk merge 'META-INF/LICENSE' // ÈáçÂ§çÊñá‰ª∂‰ºöÂêàÂπ∂ÊâìÂåÖ exclue 'META-INF/LICENSE' // ÊâìÂåÖÊó∂ÊéíÈô§ÂåπÈÖçÊñá‰ª∂&#125; sourceSets 1234567891011121314151617sourceSets &#123; main &#123; res.srcDirs 'src/main/res' jniLibs.srcDirs = ['libs'] aidl.srcDirs 'src/main/aidl' assets.srcDirs 'src/main/assets' java.srcDirs 'src/main/java' jni.srcDirs 'src/main/jni' renderscript.srcDirs 'src/main/renderscript' resources.srcDirs 'src/main/resources' manifest.srcFile 'src/main/AndroidManifest.xml' &#125; // Èô§‰∫Ü main,‰πüÂèØÁªô‰∏çÂêåÁöÑÊ∏†ÈÅìÊåáÂÆö‰∏çÂêåÁöÑÈÖçÁΩÆ free &#123; &#125;&#125; splits: google play Êåâ CPU/Â±èÂπïÂÉèÁ¥†ÂØÜÂ∫¶ÊâìÂåÖ 123456789101112131415161718192021splits &#123; abi &#123; enable true // ÂºÄÂêØ abi ÂàÜÂåÖ universalApk true // ÊòØÂê¶ÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´ÊâÄÊúâÊúâÊïàÂä®ÊÄÅÂ∫ìÁöÑ apk reset() // Ê∏ÖÁ©∫ defaultConfig ÈÖçÁΩÆ include 'x86','armeabi' // Âíå defaultConfig ÂÅöÂíåÈõÜ eclude 'mips' &#125; density &#123; enable true // ÂºÄÂêØ density ÂàÜÂåÖ reset() // Ê∏ÖÁ©∫ÈªòËÆ§ include 'xhdpi','xxhdpi' // ÂíåÈõÜ exclude 'mdpi' &#125; language &#123; enable true include 'en','cn' &#125;&#125; variantFilter: ËøáÊª§ÈÄöËøá flavor Âíå buildType ÊûÑÂª∫ÁöÑ apk 123456789variantFilter &#123; variant -&gt; def buildTypeName = variant.buildType.name def flavorName = variant.flavors.name if (flavorName.contains("360") &amp;&amp; buildTypeName.contains("debug")) &#123; // ‰∏çÁîüÊàêÂåπÈÖçÁöÑ apk setIgnore(true) &#125;&#125; com.android.library 1234android.libraryVariants.all &#123; variant -&gt; def mergedFlavor = variant.getMergedFlavor() mergedFlavor.manifestPlaceholers = [hostName:'www.example.com']&#125;]]></content>
      <tags>
        <tag>kotlin</tag>
        <tag>gradle</tag>
        <tag>ÊûÑÂª∫</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[git Á¨îËÆ∞]]></title>
    <url>%2F2019%2F03%2F17%2Fgit-%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[config 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192# ‰øÆÊîπÈÖçÁΩÆgit config --local # ÂØπÊüê‰∏™‰ªìÂ∫ìÊúâÊïàgit config --global # ÂØπÂΩìÂâçÁî®Êà∑ÊâÄÊúâ‰ªìÂ∫ìÊúâÊïàgit config --system # ÂØπÁ≥ªÁªüÊâÄÊúâÁôªÂΩïÁî®Êà∑ÊúâÊïà# Êü•ÁúãÈÖçÁΩÆgit config --list --localgit config --list --globalgit config --list --system# ÊâìÂºÄÁºñËæëÂô®‰øÆÊîπconfiggit config -e # ‰ªÖÂØπÂΩìÂâç‰ªìÂ∫ìÊúâÊïà# ÂèòÊõ¥Êñá‰ª∂Âêçgit mv readme readme.md # ÈÅøÂÖç mv x y -&gt; git add -&gt; git rmgit log [ÂàÜÊîØ] --oneline # ‰∏ÄË°åÊòæÁ§∫ -n4 # ÊåáÂÆöÊúÄÊñ∞ÁöÑÂá†Ê¨°Êèê‰∫§ --all # ÊâÄÊúâÂàÜÊîØÁöÑÊèê‰∫§ --graph # ÂõæÂΩ¢ÂåñÊòæÁ§∫# ÊâìÂºÄÂÜÖÁΩÆÂ∏ÆÂä©ÁΩëÈ°µ.git help --web [log]# guigitk --allgit branch -av# Âú® ./git/refs/heads/xxx ‰∏≠Êü•Áúã‰ø°ÊÅØgit cat-file -t master # ËøîÂõû git object model Á±ªÂûã: blog, tree, commit, tag -p # ÊòæÁ§∫ÊâÄÊúâÂÜÖÂÆπ# Âà†Èô§ÂàÜÊîØgit branch -D [fixup]# ÂèòÂü∫git rebase -i# ÊöÇÂ≠òÂå∫ÂíåÊúÄËøë‰∏ÄÊ¨°Êèê‰∫§ÁöÑÂå∫Âà´git diff --cached# Â∞ÜÊöÇÂ≠òÂå∫ÁöÑÂÜÖÂÆπ‰∏¢ÂºÉgit reset HEAD -- &lt;file&gt;# Â∞ÜÊöÇÂ≠òÂå∫ÁöÑÂÜÖÂÆπÊÅ¢Â§çÂà∞Êú¨Âú∞git checkout -- &lt;file&gt;# ËÆæÁΩÆÂà´Âêçgit config --global alias.co checkoutgit config --global alias.br branchgit config --global alias.ci commitgit config --global alias.st statusgit config --global alias.last 'log -1 HEAD'git config --global alias.unstage 'reset HEAD --'; git unstage fileA === git reset HEAD -- fileAgit config --global alias.visual '!gitk'# Êü•ÁúãÂêÑ‰∏™ÂàÜÊîØÊâÄÊåáÁöÑÂØπË±° --decorategit log --oneline --decorategit log --oneline --decorate --graph --all# Ë∑üË∏™ËøúÁ®ãÂàÜÊîØgit checkout --track origin/serverfixgit checkout -b sf origin/serverfix; sf ÂàÜÊîØËøΩË∏™ origin/serverfix ÂàÜÊîØ.# Ê∑ªÂä†‰øÆÊîπÊ≠£Âú®ËøΩË∏™ÁöÑ‰∏äÊ∏∏ÂàÜÊîØ; -u / --set-upstream-togit branch -u origin/serverfix# ÂΩìËÆæÁΩÆÂ•ΩË∑üË∏™ÂàÜÊîØÂêéÔºåÂèØÈÄöËøá @&#123;upstream&#125; Êàñ @&#123;u&#125; Âø´Êç∑ÊñπÂºèÊù•ÂºïÁî®.ÊâÄÊúâÂ¶ÇÊûú master Ë∑üË∏™ origin/master„ÄÇÈÇ£‰πà git merge @&#123;u&#125; ÂèØ‰ª•Âèñ‰ª£ git merage origin/master.# Êü•ÁúãÊâÄÊúâË∑üË∏™ÂàÜÊîØgit branch -vv# Âà†Èô§ÊúçÂä°Á´ØÁöÑÂàÜÊîØgit push origin --delete serverfix#git init --bare --shared ; # shared ‰ºöËá™Âä®‰øÆÊîπËØ•‰ªìÂ∫ìÁõÆÂΩïÁöÑÁªÑÊùÉÈôê‰∏∫ÂèØÂÜô.# ‰∏∫ÊúçÂä°Á´ØÈÖçÁΩÆ SSH ËÆøÈóÆsudo adduser gitsu gitcdmkdir .ssh &amp;&amp; chmod 700 .sshtouch .ssh/authorized_keys &amp;&amp; chmod 600 .ssh/authorized_keyscat /tmp/id_rsa.john.pub &gt;&gt; ~/.ssh/authorized_keyscat /tmp/id_rsa.josie.pub &gt;&gt; ~/.ssh/authorized_keys# ÈôêÂà∂ git Áî®Êà∑Âè™ËÉΩËÆøÈóÆÈ°πÁõÆÔºåÊó†Ê≥ïÁôªÂΩïËøúÁ®ã‰∏ªÊú∫.cat /etc/shellswhich git-shellsudo vim /etc/shellsÔºõ # Â∞Ü git-shell Ê∑ªÂä†sudo chsh git /usr/bin/git-shell; # ÈôêÂà∂ git Áî®Êà∑Âè™ËÉΩÂà©Áî® SSH ËøûÊé•ÂØπ Git ‰ªìÂ∫ìËøõË°åÊé®ÈÄÅÂíåÊãâÂéªÊìç‰ΩúÔºåËÄå‰∏çËÉΩÁôªÂΩïÊú∫Âô®Âπ∂ÂèñÂæóÊôÆÈÄö shell.# ‰ª•ÂÆàÊä§ËøõÁ®ãÁöÑÊñπÂºèËÆæÁΩÆ git ÂçèËÆÆ,‰∏çÈúÄË¶ÅÈÖçÁΩÆ SSH ÂÖ¨Èí•.git daemon --reuseaddr --base-path=/opt/git/ /opt/git/;# --reuseaddr ÂÖÅËÆ∏ÊúçÂä°Âô®Âú®Êó†ÈúÄÁ≠âÂæÖÊóßËøûÊé•Ë∂ÖÊó∂ÁöÑÊÉÖÂÜµ‰∏ãÈáçÂêØ# --base-path ÂÖÅËÆ∏Áî®Êà∑Âú®Êú™ÂÆåÂÖ®ÊåáÂÆöË∑ØÂæÑÁöÑÊù°‰ª∂‰∏ãÂÖãÈöÜÈ°πÁõÆ,ÁªìÂ∞æÁöÑË∑ØÂæÑÂ∞ÜÂëäËØâ git ÂÆàÊä§ËøõÁ®ã‰ªé‰ΩïÂ§ÑÂØªÊâæ‰ªìÂ∫ìÊù•ÂØºÂá∫.Â¶ÇÊûúÊúâÈò≤ÁÅ´Â¢ôËøêË°åÔºåËØ∑ÂºÄÊîæ 9418 Á´ØÂè£.# Á©∫ÁôΩÈîôËØØ(Êç¢Ë°å\tab\„ÄÇ„ÄÇ„ÄÇ)git diff --check# ÈÉ®ÂàÜÊöÇÂ≠ògit add --patch#git merge --squash featureB# --squash Êé•ÂèóË¢´ÂêàÂπ∂ÂàÜÊîØ‰∏äÁöÑÊâÄÊúâÂ∑•‰ΩúÔºåÂπ∂Â∞ÜÂÖ∂ÂéãÁº©Ëá≥‰∏Ä‰∏™ÂèòÊõ¥ÂèäÔºå‰Ωø‰ªìÂ∫ìÊàê‰∏∫ÁúüÊ≠£ÂêàÂπ∂ÂèëÁîüÁöÑÁä∂ÊÄÅÔºåËÄå‰∏çÊòØÁîüÊàê‰∏Ä‰∏™ÂêàÂπ∂Êèê‰∫§.# ÊâìÂåÖ archivegit archive master --prefix='project/' | gzip &gt; `git describe master`.tar.gzgit archive master --prefix='project/' --format=zip &gt; `git describe master`.zips#git diff --ours # --theirs # --base -b]]></content>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JGit]]></title>
    <url>%2F2019%2F03%2F16%2FJGit%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄJGit ÊòØ‰∏Ä‰∏™Âü∫‰∫é EDL(BSD ÂçèËÆÆÁöÑÂèòÁßç)ÊéàÊùÉÁöÑËΩªÈáèÁ∫ß„ÄÅÂÆûÁé∞ Git ÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÂäüËÉΩ(Â∏∏ËßÑ‰ªìÂ∫ìËÆøÈóÆ,ÁΩëÁªúÂçèËÆÆ,ÁâàÊú¨ÊéßÂà∂Ê†∏ÂøÉÁÆóÊ≥ï)ÁöÑÁ∫Ø Java Â∫ì. ÂÖ•Èó®Ëé∑ÂèñÂú®‰ªìÂ∫ìÊêúÁ¥¢ÂºïÊìé‰∏≠ÊêúÁ¥¢ jgit Âç≥ÂèØËé∑ÂèñÂêÑÁßçÊ∑ªÂä†‰æùËµñÁöÑÊñπÂºè.ÊàëÁé∞Âú®Âü∫Êú¨‰ΩøÁî®ÁöÑÊòØ gradle ‰æùËµñ 12implementation("org.eclipse.jgit:org.eclipse.jgit:5.3.0.201903130848-r")implementation("org.eclipse.jgit:org.eclipse.jgit.http.server:5.3.0.201903130848-r") JGit ‰πüÂÖ∑Êúâ CLI(ÂäüËÉΩÊØî git CLI Â∞ë),ÂèØ‰ª•ËØï‰∏Ä‰∏ã JGit ÁöÑÂäüËÉΩ. ÊâãÂä®ÁºñËØë JGit CLIÂÅáËÆæÂ∑≤Áªè clone EGit ‰ªìÂ∫ì. git clone https://git.eclipse.org/r/jgit/jgit.git ÂÖ∑‰ΩìÊü•Áúã 12345678~/src/jgit$ mvn clean install# ËøõÂÖ• jgit ÂèØÊâßË°åÊñá‰ª∂ÊâÄÂú®Êñá‰ª∂Â§πorg.eclipse.jgit.pgm/target/jgit# Êü•Áúã version ÂëΩ‰ª§prompt$ ./jgit versionjgit version xxxxx# Â¶ÇÊûúÁªèÂ∏∏‰ΩøÁî® jgit ÂëΩ‰ª§,ÂèØ‰ª•Ê∑ªÂä†ÊâßË°åÈìæÊé•(ÈÄöÂ∏∏Âú® /usr/local/bin)sudo ln -s /path/to/jgit /usr/local/bin/jgit Âú® JGit CLI ËøêË°åÂëΩ‰ª§1234567891011121314151617181920prompt$ ./git# ‰ºöÂàóÂá∫ÊúÄÂ∏∏Áî®ÁöÑÂëΩ‰ª§jgit --git-dir GIT_DIR --help (-h) --show-stack-trace command [ARG ...]The most commonly used commands are: branch List, create, or delete branches clone Clone a repository into a new directory commit Record changes to the repository daemon Export repositories over git:// diff Show diffs fetch Update remote refs from another repository init Create an empty git repository log View commit history push Update remote repository from local refs rm Stop tracking a file tag Create a tag version Display the version of jgit # Â∏∏Áî®ÁöÑ debug test ÂëΩ‰ª§ prompt$ ./jgit debug-show-commands Êü•Áúã‰ªìÂ∫ìÂú®Êü•ÁúãÊúÄÂ∏∏Áî®ÁöÑÂëΩ‰ª§‰πãÂâçÔºå‰Ω†ÂèØËÉΩÊÉ≥Áü•ÈÅìËØ•‰ªìÂ∫ìÂåÖÂê´‰∫ÜÂ§öÂ∞ëÂàÜÊîØÔºåÂΩìÂâçÂàÜÊîØÊòØÈÇ£‰∏™.‰ΩøÁî® branch -v ÂèØ‰ª•Ëé∑ÂèñÊâÄÊúâÂàÜÊîØÁöÑÁÆÄÁï•‰ø°ÊÅØÔºåÁâàÊú¨Âè∑ÔºåÁâàÊú¨Âè∑Êèê‰∫§‰ø°ÊÅØÁöÑÁ¨¨‰∏ÄË°å. 12345678910111213prompt$ ./jgit branch -v# master 4d4adfb Git Project import: don't hide but gray out existing projects# * traceHistory 6b9fe04 [historyView] Add trace instrumentation# Âíå git-log ‰∏ÄÊ†∑ log ÂëΩ‰ª§ÊòæÁ§∫Êèê‰∫§‰ø°ÊÅØjgit log --author Math --grep tycho master# ÊòæÁ§∫ master ÂàÜÈíü‰∏≠Ôºå‰ΩúËÄÖÂêçÂåÖÂê´ Math,Êèê‰∫§‰ø°ÊÅØÂåÖÂê´ tycho ÁöÑÊêúÊúâÊèê‰∫§‰ø°ÊÅØ.# commit xxxx# Author: Math xxxx# Date: xxx# Update build to use tycho x.xx.x# ...# Â§ßÂ§öÊï∞ÁöÑÊêúÁ¥¢ÈÉΩ‰ºöÁ≤æÁ°ÆËøáÊª§Êèê‰∫§Êó•ÂøóÔºåÂ¶ÇÊèê‰∫§ËÄÖÂßìÂêçÁ≠â ÂéÜÂè≤ÂõæÂΩ¢Âåñjgit glog Ê†∏ÂøÉÊ¶ÇÂøµAPI‰ªìÂ∫ìRepository ÁÆ°ÁêÜÊâÄÊúâÁöÑÈ°πÁõÆÂíåÂºïÁî®ÔºåÁÆ°ÁêÜ‰ª£Á†Å 12345val repository = FileRepositoryBuilder() .setGitDir(File("/my/git/directory")) .readEnvironment() // Êâ´Êèè GIT_* ÁéØÂ¢ÉÂèòÈáè .findGitDir() // Êâ´ÊèèÊñá‰ª∂Á≥ªÁªü .build() Git ÂØπË±°Âú® Git object model ÊâÄÊúâÁöÑÂØπË±°ÈÉΩÊòØÁî± SHA-1 id Ë°®Á§∫.Âú® JGit ‰∏≠ÊòØÁî± AnyObjectId Âíå ObjectIdÁ±ªË°®Á§∫.Âú® Git object model ‰∏≠ÂÆö‰πâ‰∫ÜÂõõÁßçÂØπË±°Á±ªÂûã: blob: Áî®‰∫éÂ≠òÂÇ®Êñá‰ª∂ÂØπË±° tree: ÂèØ‰ª•Áúã‰Ωú‰∏Ä‰∏™Êñá‰ª∂Â§πÔºåÊåáÂêëÂÖ∂‰ªñÁöÑ tree Êàñ blob commit: ÊåáÂêë‰∏Ä‰∏™ tree ÁöÑÊèê‰∫§‰ø°ÊÅØ tag: Á™ÅÂá∫Êèê‰∫§‰ø°ÊÅØ,ÈÄöÂ∏∏Áî®Êù•Ê†áËÆ∞ÁâπÊÆäÁöÑ release ÁâàÊú¨. ‰∏∫‰∫Ü‰ªé‰∏Ä‰∏™‰ªìÂ∫ì‰∏≠ËØÜÂà´‰∏Ä‰∏™ÂØπË±°ÔºåÂè™Ë¶Å‰º†ÂÖ•‰∏Ä‰∏™Ê≠£Á°ÆÁöÑ revision Â≠óÁ¨¶‰∏≤Âç≥ÂèØ 1val head = repository.resolve("HEAD") Refref ÊòØ‰∏Ä‰∏™ÂåÖÂê´Âçï‰∏™ÂØπË±°Ê†áËØÜÁ¨¶ÁöÑÂèòÈáè.ÂØπË±°Ê†áËØÜÁ¨¶ÂèØ‰ª•ÊòØ‰ªª‰Ωï Git ÂêàÊ≥ïÂØπË±°(blob,tree,commit,tag)‰æãÂ¶Ç,Ëé∑Âèñ head ÁöÑÂºïÁî®. 1val HEAD = repository.findRef("refs/heads/master") RevWalkRevWalk ÈÅçÂéÜ commit graphÔºåÂπ∂ÊåâÈ°∫Â∫èÁîüÊàêÂåπÈÖçÁöÑ commit 1val revWalk = RevWalk(repository) RevCommitRevCommit Ë°®Á§∫ Git object model ‰∏≠ÁöÑ‰∏Ä‰∏™ commit 1val commit = walk.parseCommit(objectIdOfCommit); RevTagRevCommit Ë°®Á§∫ Git object model ‰∏≠ÁöÑ‰∏Ä‰∏™ Tag 1val tag = walk.parseCommit(objectIdOfTag); RevTreeRevCommit Ë°®Á§∫ Git object model ‰∏≠ÁöÑ‰∏Ä‰∏™ tree 1val tree = walk.parseCommit(objectIdOfTree); ÂèÇËÄÉËôΩÁÑ∂ JGit ÂåÖÂê´‰∫ÜËÆ∏Â§öÂíå Git ‰ªìÂ∫ì‰∫§‰∫íÁöÑ‰ΩéÁ∫ß‰ª£Á†ÅÔºåÂêåÊó∂ËøòÊúâ‰∏Ä‰∫õÂèÇËÄÉorg.eclipse.jgit.apitÂåÖ‰∏≠ Git porcelain ÂëΩ‰ª§ÁöÑÈ´òÁ∫ß API. Ê∑ªÂä†ÂëΩ‰ª§(git-add)add ÂëΩ‰ª§ÂèØ‰ª•ÂêëÁ¥¢Âºï‰∏≠Ê∑ªÂä†Êñá‰ª∂ÔºåÂêåÊó∂ÂèØ‰ª•ÈÄöËøá setter ÊñπÊ≥ïÈÖçÁΩÆ addFilepattern() 1234val git = Git(repository)git.add() .addFilepattern("/dir") .call() Êèê‰∫§ÂëΩ‰ª§(git-commit) setAuthor() setCommitter() setAll() 1234git.commit() .setAuthor("author","email") .setMessage("message") .call() tag ÂëΩ‰ª§(git-tag) setName() setMessage() setTagger() setObjectId() setForceUpdate() setSigned(): ÊöÇ‰∏çÊîØÊåÅÔºå‰ºöÊäõÂºÇÂ∏∏ 123git.tag() .setName("tag") .call() log ÂëΩ‰ª§(git-log) add(AnyObjectId start) addRange(AnyObjectId since,AnyObjectId until) 123git.log() .add(head) .call() merge ÂëΩ‰ª§(git-merge)TODO Ant ‰ªªÂä°JGit Âú® org.eclipse.jgit.ant ÂåÖ‰∏≠Êèê‰æõ‰∫Ü Ant ‰ªªÂä°ÂäüËÉΩ.Ê∑ªÂä†‰æùËµñ 1234567&lt;taskdef resource="org/eclipse/jgti/ant/ant-tasks.properties"&gt; &lt;classpath&gt; &lt;pathelement location="path/to/org.eclipse.jgit.ant-VERSION.jar"/&gt; &lt;pathelement location="path/to/org.eclipse.jgit-VERSION.jar"/&gt; &lt;pathelement location="path/to/jsch-0.1.44-1.jar"/&gt; &lt;/classpath&gt;&lt;/taskdef&gt; Êèê‰æõ‰∫Ü git-clone„ÄÅgit-init„ÄÅgit-checkout‰ªªÂä°. git-clone1&lt;git-clone uri="http://egit.eclipse.org/jgit.git"/&gt; uri(ÂøÖÈ°ª) dest(ÂèØÈÄâ): ÂÖãÈöÜÁöÑÁõÆÊ†áÊñá‰ª∂Âú∞ÂùÄ.ÈªòËÆ§‰ΩøÁî®Âü∫‰∫é uri Ë∑ØÂæÑÊúÄÂêé‰∏Ä‰∏™ÁªÑ‰ª∂‰Ωú‰∏∫ÂèØËØÜÂà´ÁöÑÂêçÁß∞ÁöÑÊñá‰ª∂Â§π. bare(ÂèØÈÄâ): true/false/yes/no Ë°®Á§∫ÊòØÂê¶ÂÖãÈöÜ bare ‰ªìÂ∫ì. ÈªòËÆ§ false branch(ÂèØÈÄâ): ÈªòËÆ§ HEAD git-init1&lt;git-init/&gt; dest(ÂèØÈÄâ): ÈªòËÆ§ $GIT_DIR ÊàñÂΩìÂâçÊñá‰ª∂Â§π bare(ÂèØÈÄâ) git-checkout1&lt;git-checkout src="path/to/repo" branch="origin/experimental"/&gt; src(ÂøÖÈ°ª) branch(ÂøÖÈ°ª) createbranch(ÂèØÈÄâ): true/false/yes/no ÊòØÂê¶‰ºöÂàõÂª∫Êñ∞ branch„ÄÇÈªòËÆ§ false. force(ÂèØÈÄâ): true/false/yes/no Â¶ÇÊûú true/yes,ÂëΩÂêçÁöÑ branch Â∑≤Â≠òÂú®ÔºåÂ∑≤Â≠òÂú® branch ÁöÑËµ∑ÁÇπÂ∞Ü‰ºöË¢´ËÆæÁΩÆÂà∞Êñ∞ÁöÑËµ∑ÁÇπ„ÄÇÂ¶ÇÊûú false,Â≠òÂú®ÁöÑ branch ‰∏ç‰ºöË¢´ÊîπÂèò.ÈªòËÆ§ false. git-addTODO ‰ª£Á†ÅÁâáÊÆµËé∑ÂèñÊüê‰∏ÄÊèê‰∫§ËÆ∞ÂΩïÁöÑÂ≠êËÆ∞ÂΩï12345678PlotWalk revWalk = new PlotWalk(repo());ObjectId rootId = (branch == null) ? repo().resolve(HEAD) : branch.getObjectId();RevComment root = revWalk.parseCommit(rootId);revWalk.markStart(root);PlotCommitList&lt;PlotLane&gt; plotCommitList = new PlotCommitList&lt;PlotLane&gt;();plotCOmmitList.source(revWalk);plotCommitList.fillTo(Integer.MAX_VALUE);return revWalk; È´òÁ∫ß‰∏ªÈ¢ò‰ΩøÁî® RevWalk ÂáèÂ∞ëÂÜÖÂ≠ò‰ΩøÁî®revision walk Êé•Âè£Âíå RevWalkÔºåRevCommit Á±ªËΩªÈáèÁ∫ßËÆæËÆ°„ÄÇÁÑ∂ËÄåÂΩìÈù¢ÂØπÁõ∏ÂΩìÂ§ßÁöÑ‰ªìÂ∫ìÊó∂ÂÆÉ‰ª¨ÂèØËÉΩ‰ªçÁÑ∂ÈúÄË¶ÅÂæàÂ§öÂÜÖÂ≠ò„ÄÇÊé•‰∏ãÊù•Êèê‰æõ‰∫Ü‰∏Ä‰∫õÊñπÊ≥ïÂú®ÈÅçÂéÜ‰øÆËÆ¢Âõæ(walking the revision graph)Êó∂ÂáèÂ∞ëÂÜÖÂ≠ò„ÄÇ ÈôêÂà∂ÈÅçÂéÜ‰øÆËÆ¢Âõæ(Restrict the walked revision graph)‰ªÖÈÅçÂéÜÈÇ£‰∫õÂøÖË¶ÅÁöÑÂõæ.Âç≥Â¶ÇÊûúÊü•Êâæ refs/heads/master ËÄå‰∏çÊòØ refs/remotes/origin/master ÁöÑÊèê‰∫§ËÆ∞ÂΩï,Á°Æ‰øùÂØπ refs/heads/master Ë∞ÉÁî® markStart(),ÂØπ refs/remotes/origin/master Ë∞ÉÁî® markUninteresting(). RevWalk traversal ËÆ≤Âè™Ëß£ÊûêÂØπ‰Ω†ÊúâÁî®ÁöÑÊèê‰∫§ËÆ∞ÂΩï,ËÄå‰∏î‰ºöÈÅøÂÖçÂú®ÂéÜÂè≤ËÆ∞ÂΩï‰∏≠Êü•ËØ¢.ËøôËÆ≤ÂáèÂ∞ëÂÜÖÈÉ® object map ÁöÑÂ§ßÂ∞è,Âõ†Ê≠§ÂáèÂ∞ëÊï¥‰ΩìÂÜÖÂ≠òÂç†Áî®. 123456RevWalk walk = new RevWalk(repository);ObjectId from = repository.resolve("refs/heads/master");ObjectId to = repository.resolve("refs/remotes/origin/master");walk.markStart(walk.parseCommit(from));walk.markUnInteresting(walk.parseCommit(to)); ‰∏¢ÂºÉÊèê‰∫§ËÆ∞ÂΩïÂÜÖÂÆπsetRetainBody(false) ÂèØ‰ª•Áî®Êù•‰∏¢ÂºÉÊèê‰∫§ËÆ∞ÂΩïÂÜÖÂÆπÔºåÂ¶ÇÊûú‰Ω†‰∏çÈúÄË¶Å‰ΩúËÄÖÔºåÊèê‰∫§ËÄÖÔºåÊàñ‰ø°ÊÅØÁ≠â.‰∏çÈúÄË¶ÅËØ•Êï∞ÊçÆÁöÑ‰æãÂ≠êÂ¶ÇÂè™‰ΩøÁî® RevWalk ÂÆåÊàê branch merge Êàñ‰ΩøÁî® git rev-list ÂÆåÊàêÁõ∏ÂÖ≥ÂäüËÉΩ. 12RevWalk walk = new RevWalk(repository);walk.setRetainBody(false); Â¶ÇÊûúÁ°ÆÂÆûÈúÄË¶ÅËøô‰∫õ‰ø°ÊÅØÔºåÂèØ‰ª•ËÄÉËôëÊãÜÂàÜ‰Ω†ÈúÄË¶ÅÁöÑÊï∞ÊçÆÁÑ∂ÂêéÂØπ RevCommit Ë∞ÉÁî® dispose().Â¶ÇÊûúÈúÄË¶ÅÈïøÊó∂Èó¥‰ΩøÁî®Ëøô‰∫õ‰ø°ÊÅØ,‰Ω†‰ºöÂèëÁé∞ JGit ÂÜÖÈÉ®‰ΩøÁî®ÁöÑÂÜÖÂ≠òÊØî‰Ω†Ëá™Â∑±Â§ÑÁêÜÂç†Áî®ÁöÑÂÜÖÂ≠òË¶ÅÂ∞ëÔºåÁâπÂà´ÊòØÈúÄË¶ÅÂÖ®ÈÉ®ÁöÑ‰ø°ÊÅØÊó∂„ÄÇËøôÊòØÂõ†‰∏∫ JGit ÂÜÖÈÉ®‰ΩøÁî® byte Êï∞ÁªÑ‰øùÂ≠ò UTF-8 ÁºñÁ†ÅÁöÑ‰ø°ÊÅØ.Â¶ÇÊûú‰ΩøÁî® UTF-16 ÁºñÁ†ÅÁöÑ Java String Âç†ÂÜÖÂ≠òÂ∞Ü‰ºöÂèòÂ§ßÔºåÂÅáËÆæÂ§ßÈÉ®ÂàÜÁöÑÊ∂àÊÅØÊòØ US-ASCII ÁºñÁ†ÅÁöÑ. 123456RevWalk walk = new RevWalk(repository);Set&lt;String&gt; authorEmails = new HashSet&lt;String&gt;();for (RevCommit commit : walk) &#123; authorEmails.add(commit.getAuthorIdent().getEmailAddress()); commit.dispose();&#125; RevWalk Âíå RevCommit ÁöÑÂ≠êÁ±ªÂ¶ÇÊûúÈúÄË¶ÅËé∑ÂèñÊüê‰∏™Êèê‰∫§ËÆ∞ÂΩïÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî® RevWalk RevCommit ÁöÑÂ≠êÁ±ª, RevWalk.createCommit() ÊûÑÂª∫ RevCommit Â≠êÁ±ªÁöÑÂÆû‰æã„ÄÇÁÑ∂ÂêéÂ∞ÜÊõ¥Â§öÁöÑ‰ø°ÊÅØÂ≠òÂÖ• RevCommit Â≠êÁ±ª,ËøôÊ†∑Â∞±‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÁöÑ HashMap Â∞Ü RevCommit Êàñ ObjectId ËΩ¨Êç¢‰∏∫ Ëá™ÂÆö‰πâÁöÑÊï∞ÊçÆÂ±ûÊÄß. 12345678910111213141516171819202122232425262728293031public class ReviewedRevision extends RevCommit &#123; private final Date reviewDate; private ReviewedRevision(AnyObjectId id,Date reviewDate) &#123; super(id); this.reviewDate = reviewDate; &#125; public List&lt;String&gt; getReviewedBy() &#123; return getFooterLines("Reviewed-by"); &#125; public Date getReviewDate() &#123; return reviewDate; &#125; public static class Walk extends RevWalk &#123; public Walk(Repository repo) &#123; super(repo); &#125; @Override protected RevCommit createCommit(AnyObjectId id) &#123; return new ReviewedRevision(id,getReviewDate(id)); &#125; private Date getReviewDate(AnyObjectId id) &#123; &#125; &#125;&#125; ÈÅçÂéÜ‰øÆËÆ¢ÂêéÊ∏ÖÁêÜRevWalk Êó†Ê≥ïÁº©Â∞èÂÜÖÈÉ®ÁöÑ object map.Â¶ÇÊûúÂàöÂÆåÊàê‰∫ÜÈÅçÂéÜ‰ªìÂ∫ìÁöÑÊâÄÊúâÂéÜÂè≤ÔºåËøôÂ∞Ü‰ºöÂ∞ÜÊâÄÊúâ‰∏úË•øÂä†ËΩΩÂà∞ object mapÔºåÂπ∂‰∏îÊó†Ê≥ïË¢´ÈáäÊîæ.Â¶ÇÊûúÂÜç‰∏çÈúÄË¶ÅËøô‰∫õÊï∞ÊçÆÔºåÂ•ΩÁöÑ‰π†ÊÉØÊòØ‰∏¢ÂºÉËøô‰∏™ RevWalkÔºåÁÑ∂Âêé‰∏∫‰∏ãÊ¨°ÈÅçÂéÜÈáçÊñ∞Áî≥ËØ∑Êñ∞ÁöÑ RevWalk„ÄÇËøôÊ†∑ GC Â∞±‰ºöÂõûÊî∂ÂûÉÂúæ„ÄÇÂè¶Â§ñÔºåÈáçÁî®‰∏Ä‰∏™Â≠òÂú® ÁöÑ object map ÊØîÂÆåÂÖ®ÈáçÊñ∞ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊõ¥Âø´.ÊâÄ‰ª•‰Ω†ÈúÄË¶ÅÂπ≥Ë°°ÂÜÖÂ≠òÂõûÊî∂ÂíåÁî®Êà∑Ê∏¥ÊúõÊõ¥Âø´ÁöÑÊìç‰Ωú‰πãÈó¥ÁöÑÂÖ≥Á≥ª. 123RevWalk walk = new RevWalk(repository);for (RevCommit commit : walk) &#123;&#125;walk.repository(); ÂäüËÉΩÂàóË°® ÈÄöÁî®‰ªìÂ∫ìÊìç‰Ωú ÊâìÂºÄÂ≠òÂú®ÁöÑ git ‰ªìÂ∫ì ÂàõÂª∫Êñ∞ÁöÑ git ‰ªìÂ∫ì git ÂëΩ‰ª§ÊîØÊåÅ ÂàùÂßãÂåñÊñ∞ÁöÑ‰ªìÂ∫ì Ê∑ªÂä†Êñ∞Êñá‰ª∂Âà∞Á¥¢Âºï‰∏≠ ÂêëÂ≠òÂú®ÁöÑ‰ªìÂ∫ìÊèê‰∫§Êñá‰ª∂ Êèê‰∫§ÊâÄÊúâÊõ¥Êîπ ÂàóÂá∫Êèê‰∫§ËÆ∞ÂΩï,Â¶Ç Log ÂàóÂá∫‰ªìÂ∫ìÁöÑÊâÄÊúâÊ†áÁ≠æ ÂàóÂá∫‰ªìÂ∫ìÁöÑÊâÄÊúâÂàÜÊîØ ÂàóÂá∫‰ªìÂ∫ìÁöÑÊâÄÊúâÊèê‰∫§ËÆ∞ÂΩï ÂàóÂá∫‰ªìÂ∫ìÊâÄÊúâÊú™Êèê‰∫§ÁöÑÊõ¥Êîπ ÂàõÂª∫/Âà†Èô§ÂàÜÊîØ ÂàõÂª∫/Âà†Èô§Ê†áÁ≠æ ÂõûÈÄÄË¢´‰øÆÊîπÁöÑËøΩË∏™Êñá‰ª∂Âà∞ÊúÄËøëÊèê‰∫§ËÆ∞ÂΩï‰∏≠ÁöÑÂàùÂßãÁä∂ÊÄÅ ËøîÂõû‰∏§‰∏™ÂàÜÊîØÁöÑ diff ÊòæÁ§∫‰∏§‰∏™ revs ‰∏≠Âêå‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊîπÂèò diff ÊòæÁ§∫‰∏§‰∏™Êèê‰∫§ËÆ∞ÂΩï‰∏≠ÊâÄÊúâÊñá‰ª∂ÁöÑÊîπÂèò diff ÊòæÁ§∫‰∏§‰∏™Êèê‰∫§ËÆ∞ÂΩï‰∏≠Âêå‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊîπÂèò diff,ÂΩìÊñá‰ª∂Ë¢´ÈáçÂëΩÂêçÂêé ÊòæÁ§∫Áä∂ÊÄÅ ÊääÂàÜÊîØ‰∏≠ÁöÑÂÜÖÂÆπÂ≠òÂÇ®Âà∞‰∏Ä‰∏™ÂéãÁº©Êñá‰ª∂‰∏≠ ‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑÊâìÂåÖÊ†ºÂºèÂ∞ÜÂàÜÊîØ‰∏≠ÁöÑÂÜÖÂÆπÂÜôÂÖ•Âà∞‰∏Ä‰∏™ÂéãÁº©Êñá‰ª∂‰∏≠ Blame,‰æãÂ¶ÇÊü•ÊâæÈÇ£‰∏™Êèê‰∫§ËÆ∞ÂΩïÊîπÂèò‰∫ÜÊüê‰∏™Êñá‰ª∂ÁöÑÁâπÂÆöË°å Ê∑ªÂä†/ÂàóÂá∫Êèê‰∫§ËÆ∞ÂΩïÈôÑÂ∏¶ÁöÑÁ¨îËÆ∞ ÂàóÂá∫ÊâÄÊúâÂèØÁî®ÁöÑÁ¨îËÆ∞ Ê∏ÖÁêÜÊâÄÊúâÊú™ËøΩË∏™ÁöÑÊñá‰ª∂ ÂàõÂª∫/ÂàóÂá∫/Êèê‰∫§/‰∏¢ÂºÉ stashes ËøêË°åÂûÉÂúæÂõûÊî∂ Blame,Â¶ÇÊü•ÊâæË∞ÅÊúÄÂêé‰øÆÊîπ‰∫ÜÊüêÊñá‰ª∂ÁöÑÁâπÂÆöË°å ÂêàÂπ∂Êüê‰∏ÄÂàÜÊîØÁöÑ‰øÆÊîπ ÂàóÂá∫‰∏§‰∏™Êèê‰∫§ËÆ∞ÂΩï‰øÆÊîπÁöÑÊâÄÊúâÊñá‰ª∂ ‰æõËøúÁ®ã‰ªìÂ∫ì‰ΩøÁî®ÁöÑÂëΩ‰ª§ Â§çÂà∂ËøúÁ®ã‰ªìÂ∫ìÂà∞Êú¨Âú∞ÁöÑÊñ∞Êñá‰ª∂Â§π‰∏≠ Âú®‰∏Ä‰∏™‰ªìÂ∫ì‰∏≠Ëø≠‰ª£ËøúÁ®ãÂºïÁî® ‰∏çÂÖãÈöÜÂàóÂá∫ËøúÁ®ã‰ªìÂ∫ìÁöÑÊâÄÊúâ heads/tags fetch from remote repository fetch from remote repository ‰∏î‰ΩøÁî® prune ÁßªÈô§ËøáÊúüÁöÑËøúÁ®ã branches/tags ‰ΩøÁî® SSH ÂçèËÆÆ/Áî®Êà∑ÂêçÂØÜÁ†ÅÈ™åËØÅÂÖãÈöÜËøúÁ®ã‰ªìÂ∫ì ÂØπ‰∏Ä‰∏™ upstream ÂàÜÊîØÊâßË°å Rebase ‰ΩøÁî® InMemoryRepository Âú®ÂÜÖÂ≠ò‰∏≠ÂÖãÈöÜ‰∏Ä‰∏™‰ªìÂ∫ìÔºåÂπ∂‰∏îÂú®ÂÜÖÂ≠ò‰∏≠ÂÆåÊàêÊìç‰Ωú Â∫ïÂ±Ç API ‰ªé‰∏Ä‰∏™ÂëΩÂêç ref (refs/heads/master) ‰∏≠Ëé∑Âèñ SHA-1 ‰ªé‰∏Ä‰∏™ÂêçÁß∞Êàñ SHA-1 Ëé∑ÂèñÊèê‰∫§ËÆ∞ÂΩïÂØπË±° Ëé∑ÂèñÊèê‰∫§‰ø°ÊÅØ ‰ªéÊèê‰∫§ËÆ∞ÂΩïÂØπË±°ÔºåÂêçÁß∞ÔºåSHA-1 Ëé∑Âèñ tree ÂØπË±° ËØªÂèñ file/blob ÁöÑÂÜÖÂÆπ ‰ªéÂêçÁß∞ÔºåSHA-1 Ëé∑Âèñ tag ÂØπË±° Ëß£ÊûêÂ§çÊùÇÁöÑÂºïÁî®(Â¶Ç HEAD^^)‰∏∫ SHA-1 Ëø≠‰ª£‰∏Ä‰∏™ÂàÜÊîØÁöÑÊâÄÊúâÊèê‰∫§ËÆ∞ÂΩï Ëø≠‰ª£Êüê‰∏™ËåÉÂõ¥ÂÜÖÁöÑÊèê‰∫§ËÆ∞ÂΩï ‰ªéÁâπÂÆöÁöÑÊèê‰∫§ËÆ∞ÂΩï‰∏≠ËØªÂèñÁâπÂÆöÊñá‰ª∂ÁöÑÂÜÖÂÆπ ÂàóÂá∫ÂΩìÂâç‰ªìÂ∫ìÁöÑËøúÁ®ãÈÖçÁΩÆ ‰ªé Git ‰∏≠ÊâìÂç∞Âá∫Áî®Êà∑ÁöÑ‰ø°ÊÅØ ËØªÂèñÊñá‰ª∂Â±ûÊÄßÔºåÂ¶ÇÂèØÊâßË°åÁä∂ÊÄÅÔºåÊòØÊñá‰ª∂ËøòÊòØÊñá‰ª∂Â§πÔºåÂ§ßÂ∞èÁ≠â ‰ΩøÁî® BranchTrackingStatus Á±ªËé∑ÂèñÂΩìÂâçÂàÜÊîØÁõ∏ÂØπ‰∫éËøúÁ®ãÂàÜÊîØË∂ÖÂâç/ËêΩÂêéÁöÑÊèê‰∫§ËÆ∞ÂΩï Ê£ÄÊü•ÂÖ∂‰ªñÂàÜÊîØÁöÑÊüê‰∏™Êèê‰∫§ÊòØÂê¶Ë¢´ÂêàÂπ∂Âà∞‰∫ÜÁªôÂá∫ÁöÑÂàÜÊîØ ÂàóÂá∫‰Ωú‰∏∫Êüê‰∏™ÁâπÂÆöÊèê‰∫§ËÆ∞ÂΩïÊàñÊ†áÁ≠æÁöÑÊñá‰ª∂Â§π‰∏≠ÁöÑÊâÄÊúâÊñá‰ª∂ Âæ™ÁéØËø≠‰ª£Êüê‰∏™Êèê‰∫§ÁöÑÊñá‰ª∂ ÈùûÂæ™ÁéØËø≠‰ª£Êüê‰∏™Êèê‰∫§ÁöÑÊñá‰ª∂ Êü•ÊâæÊâÄÊúâÂèØ‰ª•ÈÄöËøá tags,branches,remotes,HEADs‚Ä¶Á≠âÂèØËÆøÈóÆÁöÑÊèê‰∫§ËÆ∞ÂΩï Áº∫Â§±ÁöÑ‰ª£Á†ÅÁâáÊÆµ Ëø≠‰ª£‰ªìÂ∫ìÁöÑÊâÄÊúâÊèê‰∫§ ÂçïÂÖÉÊµãËØï Â≠êÊ®°Âùó(http://stackoverflow.com/questions/13426798/jgit-read-gitmodules) diffing ‰øÆÊîπ‰πãÂâçÁöÑÊèê‰∫§ ‰ªéÁ¥¢Âºï‰∏≠ÁßªÈô§‰∏Ä‰∏™Êñá‰ª∂ Amazon S3 ‰∏äÁöÑ git ‰ªìÂ∫ì cherrypick Êõ¥Â§öÊéàÊùÉ]]></content>
  </entry>
  <entry>
    <title><![CDATA[teamcityËá™Âä®ÂåñÊõ¥Êñ∞hexoÂçöÂÆ¢]]></title>
    <url>%2F2019%2F03%2F09%2Fteamcity%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9B%B4%E6%96%B0hexo%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÂú®Áü•‰πéÊâæÂà∞‰∫Ü‰∏Ä‰∏™Êõ¥Â•ΩÁöÑÊñπÊ≥ï: [ÂéüÊñá](‰ΩøÁî® hexoÔºåÂ¶ÇÊûúÊç¢‰∫ÜÁîµËÑëÊÄé‰πàÊõ¥Êñ∞ÂçöÂÆ¢Ôºü - CrazyMilk ÁöÑÂõûÁ≠î - Áü•‰πéhttps://www.zhihu.com/question/21193762/answer/79109280)Âú®ËøôÈáåÊàëÊï¥ÁêÜ‰∏Ä‰∏ã: ÂàõÂª∫‰ªìÂ∫ì xxx.github.io. ÂàõÂª∫‰∏§‰∏™ÂàÜÊîØ: master/hexo.(ÂèØÂú® github ÁΩëÈ°µÊàñÊú¨Âú∞ÂàõÂª∫) git clone git@github.com:xxx/xxx.github.io.git Â¶ÇÊûúÊ≤°ÊúâÂú®ÁΩëÈ°µÂàõÂª∫ÂàÜÊîØ,ÂèØ‰ª•Âú®Ê≠§Â§ÑÂàõÂª∫.git checkout -b master; git checkout -b hexo Êé•‰∏ãÊù•ÊâßË°å npm install hexo; hexo init; npm i; npm i hexo-deployer-git,Ê≠§Â§ÑÂú® hexo ÂàÜÊîØÊìç‰Ωú ‰øÆÊîπ _config.yml ÁöÑ deploy ÂèÇÊï∞,Ê≠§Â§ÑÂú® master ÂàÜÊîØÊìç‰Ωú. Êàë‰ΩøÁî®‰∫Ühexo-next-theme,‰ªé git ‰∏ä‰∏ãËΩΩÂêé,ËøõÂÖ• themes/next ÊâßË°å git submodule init,Â∞Ü next ‰∏ªÈ¢òÂÖ≥ËÅî,Ê≠§Â§ÑÂú® hexo ÂàÜÊîØÊìç‰Ωú git add .; git commit -m &quot;blahblahblah&quot;; git push origin hexo; Êèê‰∫§ÁΩëÁ´ôÁõ∏ÂÖ≥Êñá‰ª∂. hexo g -d ÁîüÊàêÁΩëÁ´ôÂπ∂ÈÉ®ÁΩ≤Âà∞ github. Â∞Ü CNAME,ÂõæÁâáÁ≠âÊñá‰ª∂ÊîæÂÖ• source ÁõÆÂΩï‰∏ã,ÂèØ‰øùËØÅÊé®ÈÄÅÂà∞ github ‰∏ç‰ºöË¢´Âà†Èô§.‚ö†Ô∏è üëá ËÉ°ÊâØ,ËßÇÁúãËØ∑Ë∞®ÊÖé!!!TeamCity ÊòØ Jetbrains ÂÖ¨Âè∏Âá∫ÂìÅÁöÑÊåÅÁª≠ÂåñÈõÜÊàêÂ∑•ÂÖ∑ÔºåÁ±ª‰ººJenkins,ÁïåÈù¢Êõ¥Âä†Áé∞‰ª£ÂåñÔºåÂäüËÉΩÊõ¥Âº∫Â§ß,ËÄå‰∏îÂÆÉÁöÑ server Âíå agent ÊòØÂàÜÁ¶ªÁöÑÔºåÂèØ‰ª•ÊåáÂÆöÊú¨Êú∫ÊàñËøúÁ®ãÁöÑÊú∫Âô®Êù•ËøêË°åÊûÑÂª∫Á≠ñÁï•ÔºåÂÖ∂‰∏≠ËøòÊúâË∞ÉÂ∫¶ÈòüÂàóÁÆóÊ≥ï.hexo ÊòØÈùôÊÄÅÂçöÂÆ¢ÁîüÊàêÂ∑•ÂÖ∑.hexo d -gÂëΩ‰ª§ÂèØ‰ª•Ëá™Âä®ÁîüÊàê public Êñá‰ª∂Â§πÂèä HTMLÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Êé®ÈÄÅÂà∞ github(Âú®_config.yml‰∏≠Â∑≤ÁªèÈÖçÁΩÆËøá).‰∏ÄËà¨Áî®Êà∑ÂèØËÉΩÂØπthemeËá™ÂÆö‰πâ(‰øÆÊîπtheme‰∏ãÁöÑ_config.yml),ÂΩìÊç¢Êú∫ÊàñÂ§á‰ªΩÊó∂ÔºåÂ∏åÊúõÂ∞ÜÂçöÂÆ¢Ê∫êÊñá‰ª∂(*.md)Âèä‰øÆÊîπÁöÑ‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂‰∏ÄÂπ∂Â§á‰ªΩ.ËÄåhexoÈªòËÆ§Âè™Â§á‰ªΩpublicÊñá‰ª∂Â§π,ÊâÄ‰ª•Êú¨ÊñáÊé¢Á¥¢‰ΩøÁî® CITeamCityÂ∞ÜÊé®ÈÄÅÂà∞GithubÁöÑÊ∫êÊñá‰ª∂ÁºñËØëÁîüÊàêpublicÊñá‰ª∂,ËøôÊ†∑ÊØèÊ¨°ÂÜôÂÆåÊñáÁ´†,Âè™Ë¶ÅÂ∞ÜÂÖ∂Êé®ÈÄÅÂà∞Github,TeamCity‰ºöËá™Âä®ÁîüÊàêÂçöÂÆ¢HTML. Ëé∑ÂèñÂà∞ËØ• Key.ËÄåÂÆûÈôÖ‰∏äÂú® build ÊâßË°åÊó∂ key ‰ª• ing Ë¢´Âà†Èô§‰∫Ü,‰∏çÂèØËÉΩËé∑ÂèñÂà∞.ËøôÂπ∂‰∏çÊÑèÂë≥ÁùÄÁªùÂØπÂÆâÂÖ®ÔºåÂè™ÊòØÂ¢ûÂä†‰∫Ü key Ë¢´ÁõóÁöÑÈöæÂ∫¶. agent ÂøÖÈ°ªÂÆâÂÖ®. teamcity ÂÆâË£ÖTeamCityÊèê‰æõ‰∫Ü DockerÂÆâË£ÖÊñπÂºèÔºåÂõ†Ê≠§ËØ∑ÊèêÂâçÂÆâË£ÖÂ•ΩDocker.Êñá‰ª∂ÁõÆÂΩïÂ¶Ç‰∏ã(ËØ∑ÊèêÂâçÂàõÂª∫),teamcity ÊîØÊåÅÂ§öÁßçÊï∞ÊçÆÂ≠òÂÇ®ÊñπÂºèÔºåÊ≠§Â§Ñ‰ΩøÁî® mysql Êù•Â≠òÂÇ®„ÄÇ 123456789101112# - teamcity - agent - conf - data - server - data - datadir - opt - mysql - backup - data dockery-compose.yml Êé•‰∏ãÊù•ÊòØdocker-compose.yml 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162``yamlversion: "3.3"services: teamcity-server: image: jetbrains/teamcity-server container_name: teamcity-server restart: always ports: - 8111:8111 volumes: - $PWD/server/datadir:/data/teamcity_server/datadir - $PWD/server/opt/logs:/opt/teamcity/logs - $PWD/server/data:/data/teamcity_server/others # ÂÖ∂‰ªñÁöÑ‰∏Ä‰∫õËµÑÊ∫êÔºåÂèØ‰ª•‰ªéÊú¨Êú∫Â§çÂà∂Âà∞ server ‰∏ä environment: # TEAMCITY_SERVER_MEM_OPTS: -Xmx2g -XX:MaxPermSize=270m -XX:ReservedCodeCacheSize=350m MYSQL_USER: team-user MYSQL_PASSWORD: team-pwd MYSQL_ROOT_PASSWORD: teamcity8080 MYSQL_DATABASE: teamcitydb depends_on: - db links: - db networks: - team db: image: mysql container_name: teamcity-db restart: always volumes: - $PWD/mysql:/etc/mysql/conf.d - $PWD/mysql/backup:/var/lib/mysql # Âè™Êúâ /var/lib/mysql ÂØπÂ∫îÊú¨Âú∞Êñá‰ª∂‰∏∫Á©∫ÔºåÊâç‰ºöÂàõÂª∫Ëøô‰∏™Êï∞ÊçÆÂ∫ì,Âç≥ÂàùÊ¨°ÂàõÂª∫Êó∂ÔºåËøô‰∏™ÂØπÂ∫îÁöÑÊú¨Âú∞Êñá‰ª∂Â§πË¶Å‰∏∫Á©∫ - $PWD/mysql/data:/others environment: MYSQL_USER: team-user MYSQL_PASSWORD: team-pwd MYSQL_ROOT_PASSWORD: teamcity8080 MYSQL_DATABASE: teamcitydb ports: - 3306:3306 networks: - team # &lt;&gt;&lt;&gt; agent &lt;&gt;&lt;&gt; teamcity-agent: image: jetbrains/teamcity-agent container_name: teamcity-agent restart: always volumes: - $PWD/agent/conf:/data/teamcity_agent/conf - $PWD/agent/data:/data/teamcity_agent/others environment: AGENT_NAME: MacbookPro SERVER_URL: http://xxx.xxx.x.xxx:8111 # Ê≠§Â§ÑÂØπÂ∫îÁöÑÊòØ TeamCityServer ÁöÑIP, localhost/127.0.0.1 ÈÉΩ‰∏çË°åÔºåËØ∑‰ΩøÁî®Ê≠£Á°ÆÁöÑ IP,Á´ØÂè£ÂØπÂ∫î‰∏äÈù¢Êö¥Èú≤Âá∫Êù•ÁöÑÁ´ØÂè£ links: - teamcity-server # teamcity_agent ÈªòËÆ§ÁöÑ‰ªªÂä°ÁéØÂ¢ÉË∑ØÂæÑ: opt/buildagent/worknetworks: team: driver: bridge ÁÑ∂ÂêéÊâßË°å docker-compose up -d Âç≥ÂèØ„ÄÇ ÈúÄË¶ÅÂÖàÊ†πÊçÆÊú¨Êú∫ OS ÂÆâË£Ödocker-compose &gt; docker-compose up -d ÁîüÊàêÊúçÂä°docker-compose down Ëß£‰ΩìÊúçÂä°ÔºåÂà†Èô§ÂÆπÂô®,ÁΩëÁªúdocker-compose start/stop ÂêØÂä®ÁªàÊ≠¢ÊúçÂä° ÊâìÂºÄ http://localhost:8111 Êàñ http://[ip]:8111 Âç≥ÂèØËøõÂÖ• TeamCity Server web ‰∫§‰∫íÁéØÂ¢É.ÊåâÁÖßÊèêÁ§∫ÂàùÂßãÂåñ.ÁôªÂΩïÊó∂ÈªòËÆ§Ê≤°ÊúâËÆøÂÆ¢ÂàõÂª∫Êñ∞Áî®Êà∑ÁöÑÊùÉÈôêÔºåÊâÄ‰ª•ÈúÄË¶ÅÂ∑≤Ë∂ÖÁ∫ßÁî®Êà∑ÊùÉÈôêÁôªÂΩïÔºåÁÇπÂáª‰∏ãÈù¢ÁöÑ‰ª•Ë∂ÖÁ∫ßÊùÉÈôêÁôªÂΩïÂêéÊèêÁ§∫ËæìÂÖ• token,ÂèØ‰ª•ËøõÂÖ• TeamCity Server Êú¨Âú∞Êò†Â∞ÑÊñá‰ª∂‰∏≠Êü•ÊâæÔºåÊàñÊòØ‰ΩøÁî® docker logs teamcity-server Âç≥ÂèØÁúãÂà∞ token„ÄÇ ÂàõÂª∫È°πÁõÆÊó∂ÔºåTeamCity ÈªòËÆ§‰ΩøÁî®Áî®Êà∑ÂêçÂØÜÁ†ÅËøûÊé• Github,ÂΩìÁÑ∂ÂèØ‰ª•ÈÄöËøá‰∏ä‰º†Êú¨Âú∞ ssh key ÂØÜÈí•Âà∞ TeamCity Server,ÈÄöËøá TeamCity Server ËøûÊé•. ËÆæÁΩÆÁºñËØëÊ≠•È™§,ÊàëÂÜçÊ¨°ÊâßË°å‰∫Üshell ËÑöÊú¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#! /bin/bash# ÂÆâË£Ö nodejsVERSION=v10.15.2DISTRO=linux-x64function checkNode() &#123; ISNODESUCCEED=$(node -v) if [ ISNODESUCCEED != $VERSION ]; then installNode else echo "NodeJSÂ∑≤ÂÆâË£Ö" fi&#125;function insallNode() &#123; mkdir -p /usr/local/lib/nodejs tar -xJf /data/teamcity_agent/others/node-$VERSION-$DISTRO # -v ‰ºöËæìÂá∫Ëß£ÂéãÊó•ÂøóÔºåÊ≠§Â§ÑÂ§™Â§öÔºåÊâÄ‰ª•ÂÖ≥Èó≠ export PATH=/usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin:$PATH source ~/.profile checkNode&#125;checkNode# ÂÆâË£Ö‰æùËµñnpm i# ÁîüÊàêpublicÊñá‰ª∂./node_modules/hexo/bin/hexo g# ‰∏∫ github.io ÈÖçÁΩÆ CNAMEif [ ! -f "/CNAME" ]; then echo "blog.dang8080.cn" &gt; CNAMEfi# ÈÖçÁΩÆ gitgit config --global credential.helper store # ‰øùÂ≠ò github Êèê‰∫§ËÄÖ‰ø°ÊÅØÔºå‰∏ãÊ¨°‰∏çÁî®ÂÜçËæìÂØÜÁ†Ågit config --global user.name "Humphrey"git config --global user.email "dang8080@qq.com"git add --allgit commit -m "TeamCity CI Êèê‰∫§ÈÉ®ÁΩ≤: $(date)"git push origin master ÈóÆÈ¢ò: ÊâÄ‰ª•ÈóÆÈ¢òÊù•‰∫Ü,ÈÖçÁΩÆÂÆå‰∫ÜÁÇπÂáª run Êü•Áúã Build log ‰ºöÂèëÁé∞ push Â§±Ë¥•„ÄÇÂõ†‰∏∫ÈÄöËøá https Âêë github Êèê‰∫§‰ª£Á†ÅÈúÄË¶Å‰∫§‰∫íÂºèËæìÂÖ•Áî®Êà∑ÂØÜÁ†Å„ÄÇËÄåÊ≠§Â§ÑÊ≤°ÊúâÊèê‰æõÔºåÂ∞ÜÂØÜÁ†ÅÁ°¨ÁºñÁ†ÅÂà∞Ê≠§ shell ÈáåÊèê‰∫§Âà∞ github ‰πü‰∏çÂÆâÂÖ®„ÄÇÊàñËÄÖÂç≥‰ΩøÊòØÈÄöËøá‰øÆÊîπ VCS root ‰ΩøÁî® git@github.com ssh checkout ÁöÑ‰ª£Á†ÅÔºå‰πüÊó†Ê≥ïÊé®ÈÄÅÂà∞ github. ÈóÆÈ¢òÂÆö‰Ωç: TeamCity SSH agent ‰ΩøÁî®Êú¨Êú∫(Linux/MacOS)ÁöÑ OpenSSH ÁÆ°ÁêÜ SSH,ÂØπ‰∫é Windows,ÈúÄË¶ÅÊâãÂä®ÂÆâË£Ö OpenSSH (CygWin,MinGW,Git for Windows).SSH agent ÂøÖÈ°ªÊ∑ªÂä†Âà∞ $PATH ‰∏≠.Á¨¨‰∏ÄÊ¨°ËøûÊé•Âà∞ËøúÁ®ãÂú∞ÂùÄÊó∂ÔºåSSH agent ‰ºöËØ¢ÈóÆÊòØÂê¶‰øùÂ≠òËøúÁ®ãÂú∞ÂùÄÁöÑ fingerprint Âà∞Âú∞ÂùÄÊï∞ÊçÆÂ∫ì ~/.ssh/known_hosts‰∏≠.‰∏∫‰∫ÜÈÅøÂÖçËØ¢ÈóÆÔºåÂèØ‰ª•ÊèêÂâçÈÖçÁΩÆ„ÄÇÂ¶ÇÊûúÁõ∏‰ø°ËØ•ËøúÁ®ãÂú∞ÂùÄÔºåÂèØ‰ª•Á¶ÅÁî®ËøúÁ®ãÂú∞ÂùÄÊ£ÄÊü• ÂØπÊâÄÊúâÁöÑËøûÊé•ÈÉΩÁ¶ÅÁî®Ôºå~/.ssh/config 123Host \*StrictHostKeyChecking no ÁâπÂÆöËøûÊé•,-o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no TeamCity ÂΩìÂâç‰ªÖÊîØÊåÅ PEM Ê†ºÂºèÁöÑ key.Â¶ÇÊûú‰ΩøÁî®‰∫ÜÂÖ∂‰ªñÊ†ºÂºèÁöÑ keyÔºåËØ∑Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ PEM.ÂèØ‰ª•Âú® TeamCity web ÁïåÈù¢ Conversions -&gt; Export OpenSSH key ‰∏≠ËΩ¨Êç¢. OpenSSH ÊúÄËøëÁâàÊú¨ÈªòËÆ§‰∏çÁîüÊàê PEM Ê†ºÂºè key.‰ΩøÁî®‰∏ãÂàóÊñπÂºèÁîüÊàê PEM: ssh-keygen -t rsa -m PEM ‰∏ä‰º†Âà∞ TeamCity Server ÁöÑ SSH key ÈªòËÆ§‰øùÂ≠òÂú® &lt;TeamCity Data Directory&gt;/config/projects/&lt;project&gt;/pluginData/ssh_keysÔºåTeamCity ‰ºöËøΩË∏™Ê≠§Êñá‰ª∂Â§π‰øùËØÅ SSH key Êõ¥Êñ∞„ÄÇSSH key ÈÄÇÁî®‰∫éÊú¨È°πÁõÆÂèäÂ≠êÈ°πÁõÆ. Âú® TeamCity agent checkout ÊâßË°åÊó∂ÔºåGit Êèí‰ª∂‰ºö‰ªé TeamCity Server ‰∏ãËΩΩ SSH key Âà∞ agent.ËØ• key ‰ºöÊöÇÊó∂‰øùÂ≠òÂú® TeamCity agent ÁöÑÊñá‰ª∂Á≥ªÁªüÈáåÔºåÂú® fetch/clone ÁªìÊùüÂêéÂ∞±Ë¢´Âà†Èô§. key Ë¢´Âà†Èô§ÁöÑÂéüÂõ†ÊòØÔºöÈÄöËøá build ÊâßË°åÁöÑ test ÂèØËÉΩ‰ºöÁïô‰∏ãÊÅ∂ÊÑè‰ª£Á†ÅÔºå‰πãÂêé‰ºöËÆøÈóÆ TeamCity agent Êñá‰ª∂Á≥ªÁªü, TeamCity ÊòØ‰∏çÊîØÊåÅ git ssh Êé®Âä®‰ª£Á†ÅÂà∞ github ÁöÑ.ÔºàÊîØÊåÅ ssh ‰º†ÈÄÅÊñá‰ª∂Ôºâ ÊñπÊ°à‰∏Ä:ÂΩì run ‰∏ÄÊ¨°‰πãÂêéÔºåÊâßË°å docker exec -it teamcity-agent bash ËøõÂÖ• opt/buildagent/work/xxxxx/ ‰∏ã,ÊâãÂä® git push origin master„ÄÇËøôÊ†∑ÂêéÁª≠Â∞±‰∏çÁî®ÂÜçÈÖçÁΩÆ‰∫Ü ÊñπÊ°à‰∫å:(Á°¨Ê†∏)github ÈúÄË¶Å‰øùÂ≠òÊú¨Êú∫ÁöÑ SSH pub key,ÊâçÊé•Âèó git ssh Êé®ÈÄÅ.ÈÇ£Êàë‰ª¨Â∞±Âú® TeamCity ÁîüÊàê ssh key,ÁÑ∂ÂêéÊ∑ªÂä†Âà∞ github. ÂÆûË∑µ‰∏Ä1234docekr exec -it teamcity-agent bashssh-keygen -t rsassh-add [id_rsa]# ÁÑ∂ÂêéÂ§çÂà∂ id_rsa.pub ÁöÑÂÜÖÂÆπÂà∞ github Âç≥ÂèØ ÂÆûË∑µ‰∫åËøû TeamCity agent bash ‰πü‰∏çÊÉ≥ËøõÔºå‰ΩøÁî® shell ÊûÑÂª∫ÂÖàÂÆâË£Ö expect tcl tk 123456789101112131415161718192021222324apt-get update &amp;&amp; apt-get install tcl tk expect# ‰∏ãÈù¢ÊòØ shell#! /usr/bin/expect -fset context $PWD# Âà†Èô§Êóßkeyspawn rm -f "$context/id_rsa" "$context/id_rsa.pub"expect&#123;&#125;# ÁîüÊàêÊñ∞keyspawn ssh-keygen -t rsaexpect&#123; "*save the key*" &#123; send "$context/id_rsa\r";exp_continue &#125; "*passphrase*" &#123; send "\r";exp_continue &#125; "*again*" &#123; send "\r" &#125;&#125;spawn ssh-add "$context/id_rsa"sshcheck=$(ssh -vT git@github.com)if [[ $sshcheck =~ "successfully authenticated" ]]; then echo "ssh ÈÖçÁΩÆÊàêÂäü"else echo "ssh ÈÖçÁΩÆÂ§±Ë¥•"fi# Â§çÂà∂ pubpubkey=$(cat "$context/id_rsa)curl -H "Content-Type:application/json" -X POST --data '&#123; "title":"TeamCityAgentAuto","key":"$pubkey"&#125;']]></content>
      <tags>
        <tag>teamcity</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Room & kotlin coroutine]]></title>
    <url>%2F2019%2F03%2F03%2FRoom-kotlin-coroutine%2F</url>
    <content type="text"><![CDATA[OverviewRoom 2.1 ÂºÄÂßãÊîØÊåÅ Kotlin ÂçèÁ®ã„ÄÇDAO ÊñπÊ≥ïÂèØ‰ª•‰ΩøÁî® suspend Ê†áËÆ∞‰ª•Á°Æ‰øùËøô‰∫õÊñπÊ≥ï‰∏ç‰ºöÂú®‰∏ªÁ∫øÁ®ã‰∏≠Ë¢´ÊâßË°å„ÄÇRoom ‰ΩøÁî® Executor(Êù•Ëá™Ê°ÜÊû∂ÁªÑ‰ª∂) ‰Ωú‰∏∫ Dispatcher ËøêË°å SQL ËØ≠Âè•ÔºåÂΩìÁÑ∂Âú®ÁºñËØë RoomDatabase Êó∂Ôºå‰Ω†‰πüÂèØ‰ª•Êèê‰æõËá™Â∑±ÁöÑ Executor. ÂΩìÂâçÂçèÁ®ãÊîØÊåÅÊ≠£Âú®ÂºÄÂèë‰∏≠ÔºåÊõ¥Â§öÁâπÊÄßÊ≠£Âú®ËÆ°Âàí‰∏≠ Ê∑ªÂä†‰æùËµñËØ∑ÂçáÁ∫ß Room Âà∞ v2.1, ÂêåÊó∂ Kotlin v1.3.0+ , Coroutines v1.0.0+ 1implementation "androidx.room:room-coroutines:$&#123;versions.room&#125;" Áé∞Âú®Â∞±ÂèØ‰ª•‰ΩøÁî®Âï¶ 123456789101112131415161718@Daointerface UsersDao &#123; @Query("SELECT * FROM users") suspend fun getUsers(): List&lt;User&gt; @Query("UPDATE users SET age = age + 1 WHERE userId = :userId) suspend fun incrementUserAge(userId: String) @Insert suspend fun insertUser(user: User) @Update suspend fun updateUser(user: User) @Delete suspend fun deleteUser(user: User)&#125; Âú®Ë∞ÉÁî®ÂÖ∂‰ªñ suspending DAO ÂáΩÊï∞Êó∂Ôºå@Transaction ‰πüÂèØ‰ª•Ë¢´ suspending 123456789101112131415@Daoabstract class UsersDao &#123; @Transaction open suspend fun setLoggedInUser(loggedInUser: user) &#123; deleteUser(loggedInUser) insertUser(loggedInUser) &#125; @Query("DELETE FROM users") abstract fun deleteUser(user: User) @Insert abstract suspend fun insertUser(user: User)&#125; Ê†πÊçÆÊòØÂê¶Âú® transaction ÂÜÖË∞ÉÁî®ÔºåRoom ÂØπ suspending ÂáΩÊï∞Â§ÑÁêÜÈÄªËæë‰∏çÂêå. Âú® Transaction ‰∏≠ Âú®Êï∞ÊçÆÂ∫ìËØ≠Âè•Ë¢´Ëß¶ÂèëÁöÑ CoroutineContext ‰∏ãÔºåRoom ‰∏çÂÅö‰ªª‰ΩïÂ§ÑÁêÜ„ÄÇÂáΩÊï∞Ë∞ÉÁî®ËÄÖÂ∫îËØ•Á°Æ‰øùÊ≠§ÊñπÊ≥ï‰∏ç‰ºöÂú® UI Á∫øÁ®ã‰∏≠ÊâßË°å.Âõ†‰∏∫ suspend ÂáΩÊï∞Âè™ËÉΩË¢´ÂÖ∂‰ªñ suspend ÂáΩÊï∞ ÊàñÂú® coroutine ÂÜÖË∞ÉÁî®ÔºåÊâÄ‰ª•‰Ω†‰∏çËÉΩÊää Dispatchers.Main ËµãÂÄºÁªô DispatcherÔºåÂ∫îËØ•ÊòØ Dispatchers.IO ÊàñËá™ÂÆö‰πâ ‰∏çÂú® Transaction ‰∏≠ Room ‰ºöÁ°Æ‰øùÊï∞ÊçÆÂ∫ìËØ≠Âè•Âú® Architecutre Components I/O Dispatcher ‰∏≠Ëß¶Âèë„ÄÇËØ• Dispatcher Âú®Âêå‰∏Ä‰∏™ I/O Executor ÁöÑ‰∏Ä‰∏™ÂêéÂè∞Á∫øÁ®ã‰∏≠ËøêË°å LiveData Â∫ïÂ±Ç12345@Insertfun insertUserSync(user: User)@Insertsuspend fun insertUser(user: User) ÂØπ‰∫éÂêåÊ≠• insert,ÁîüÊàêÁöÑ‰ª£Á†ÅÂºÄÂßãÂêØÂä®‰∏Ä‰∏™ transaction,ÁÑ∂ÂêéÊâßË°å insert,Ê†áËÆ∞ transaction successfull ÔºåÁªàÁªì„ÄÇÂêåÊ≠•ÊñπÊ≥ïÂú®Ë¢´Ë∞ÉÁî®Â§ÑÁöÑÁ∫øÁ®ãÊâßË°å. 12345678910@Overridepublic void insertUserSync(final User user) &#123; __db.beginTransaction(); try &#123; __insertionAdapterOfUser.insert(user); __db.setTransactionSuccessful(); &#125; finally &#123; __db.endTransaction(); &#125;&#125; suspending ‰ºöÁ°Æ‰øù‰∏ç‰ºöÂú® UI Á∫øÁ®ã‰∏≠ÊâßË°å„ÄÇÁîüÊàêÁöÑ‰ª£Á†Å‰ºö‰º†ÈÄí‰∏Ä‰∏™ Continuation.Âú® Callable#call() ‰∏≠ÊâßË°åÂíåÂêåÊ≠•Áõ∏ÂêåÁöÑ‰ª£Á†Å 1234567891011121314151617@Overridepublic Object insertUserSuspend(final User user, final Continuation&lt;? super Unit&gt; p1) &#123; return CoroutinesRoom.execute(__db, new Callable&lt;Unit&gt;() &#123; @Override public Unit call() throws Exception &#123; __db.beginTransaction(); try &#123; __insertionAdapterOfUser.insert(user); __db.setTransactionSuccessful(); return kotlin.Unit.INSTANCE; &#125; finally &#123; __db.endTransaction(); &#125; &#125; &#125;, p1);&#125; CoroutinesRoom.execute ‰ºöÊ†πÊçÆÊï∞ÊçÆÂ∫ìÊòØÂê¶ open,ÂΩìÂâçË∞ÉÁî®ÊòØÂê¶Âú® transaction ÂÜÖÊù•ÂàáÊç¢Â§ÑÁêÜ context. is open &amp; in transaction ‰ªÖË∞ÉÁî® insert ÈÄªËæë not in transaction ‰ΩøÁî® Architecture Components IO Executor Âú®ÂêéÂè∞Á∫øÁ®ãÊâßË°å insert ÈÄªËæë]]></content>
      <tags>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
        <tag>Room</tag>
        <tag>Kotlin</tag>
        <tag>Kotlin ÂçèÁ®ã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker,docker-composeÂ≠¶‰π†Á¨îËÆ∞]]></title>
    <url>%2F2019%2F03%2F01%2Fdocker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[OverviewCompose ÊòØ‰∏Ä‰∏™‰∏∫‰∫ÜÂÆö‰πâÂíåËøêË°åÂ§öÂÆπÂô® Docker Â∫îÁî®ÁöÑÂ∑•ÂÖ∑„ÄÇÂÆòÊñπÂä®ÊâãÁ§∫‰æã ÁâπÊÄß ‰∏Ä‰∏™‰∏ªÊú∫Â§ö‰∏™ÈöîÁ¶ªÁéØÂ¢É ÂΩìÂÆπÂô®ÂàõÂª∫Êó∂‰øùÁïôÊâÄÊúâÁöÑ volume Âè™ÊúâÂÆπÂô®Ë¢´Êõ¥ÊîπÊó∂ÊâçËß¶ÂèëÂàõÂª∫ ÂÆö‰πâÂèòÈáèÂíåÂú®‰∏çÂêåÁéØÂ¢É‰∏≠‰ΩøÁî® ‰ΩøÁî®Âú∫ÊôØ Ëá™Âä®ÊµãËØïÁéØÂ¢É ÂçïÁã¨‰∏ªÊú∫ÈÉ®ÁΩ≤ docker-compose ÂÆâË£Ö1234sudo curl -L "https://github.com/docker/compose/releases/download/1.23.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-composesudo chmod +x /usr/local/bin/docker-composesudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-composesudo docker-compose --version pip ÂÆâË£Ö 1pip install docker-compose Âç∏ËΩΩ 12sudo rm /usr/local/bin/docker-composepip uninstall docker-compose docker-compose ÂëΩ‰ª§ -f ÊåáÂÆö ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ compose Êñá‰ª∂ÁöÑÂêçÁß∞ÂíåË∑ØÂæÑ 1„ÄÅ‰ΩøÁî®Â§ö‰∏™ Compose Êñá‰ª∂Êó∂ÔºåCompose ‰ºöÊääËøôÂá†‰∏™Êñá‰ª∂ÂêàÂπ∂‰∏∫‰∏Ä‰∏™ÈÖçÁΩÆ„ÄÇÊåâÈ°∫Â∫èÂêàÂπ∂ÔºåÂêéËæπÁöÑË¶ÜÁõñÂâçËæπÁöÑÈÖçÁΩÆ„ÄÇ2„ÄÅdocker-compose -f docker-compose.yml -f docker-compose.admin.yml run backup_db3„ÄÅ‰ΩøÁî® -(dash) ‰Ωú‰∏∫ -f ÁöÑÂÄºÔºåÂ∞Ü‰ºö‰ªéËæìÂÖ•‰∏≠ËØªÂèñÈÖçÁΩÆÊñá‰ª∂Âêç„ÄÇ‰ΩøÁî® stdin Êó∂ÔºåÈÖçÁΩÆÈáåÊ∂âÂèäÂà∞ÁöÑË∑ØÂæÑÈÉΩÊòØÁõ∏ÂØπ‰∫éÂΩìÂâçÂ∑•‰Ωú‰∏ä‰∏ãÊñáË∑ØÂæÑ„ÄÇ4„ÄÅÂ¶ÇÊûú‰∏çÊòØÁî® -f,Compose ÈÅçÂéÜÂΩìÂâç‰∏ä‰∏ãÊñáË∑ØÂæÑÂíåÂÆÉÁöÑÁà∂Ë∑ØÂæÑÊü•ËØ¢ docker-compose.yml Âíå docker-compose.override.yml Êñá‰ª∂„ÄÇËØ∑Ëá≥Â∞ëÊèê‰æõ‰∏Ä‰∏™ docker-compose.yml Êñá‰ª∂„ÄÇÂ¶ÇÊûúÊâÄÊúâÁöÑÊñá‰ª∂ÈÉΩÂú®Âêå‰∏Ä‰∏™Êñá‰ª∂Â§π‰∏ãÔºåCompose Â∞ÜÂêàÂπ∂ÂÆÉ‰ª¨„ÄÇ5„ÄÅdocker-compose.override.yml ÁöÑÈÖçÁΩÆÈ´ò‰∫é docker-compose.yml,‰∏î‰∏∫ÂêéËÄÖÊèê‰æõÈ¢ùÂ§ñÁöÑÈÖçÁΩÆÂ±ûÊÄß„ÄÇ ‰∏∫ÂçïÁã¨ÁöÑ Compose Êñá‰ª∂ÊåáÂÆöË∑ØÂæÑ 1„ÄÅ‰ΩøÁî® -f, Êàñ‰ªéÂëΩ‰ª§Ë°åËæìÂÖ•ÔºåÊàñÂú® shell / Êüê‰∏™ÁéØÂ¢ÉÈÖçÁΩÆÊñá‰ª∂‰∏≠ËÆæÁΩÆ COMPOSE_FILE ÁéØÂ¢ÉÂèòÈáè,ÊåáÂÆö‰∏çÂú®ÂΩìÂâçÊñá‰ª∂Â§πÁöÑ Compose Êñá‰ª∂Ë∑ØÂæÑ.2„ÄÅdocker-compose -f ~/sandbox/rails/docker-compose.yml pull db ‰ªé ~/sandbox/rails/docker-compose.yml Êñá‰ª∂‰∏≠Ëé∑Âèñ db ÊúçÂä°‰∏≠ÂÆö‰πâÁöÑ postgres db ÈïúÂÉè„ÄÇ -p ÊåáÂÆöÈ°πÁõÆÂêç 1„ÄÅÂ¶ÇÊûú‰∏çÊåáÂÆö -p,Compose ÈªòËÆ§‰ΩøÁî®ÂΩìÂâçÊñá‰ª∂Â§πÁöÑÂêçÁß∞„ÄÇ ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè docker-compose CLI ÁéØÂ¢ÉÂèòÈáèÈªòËÆ§ÂÜÖÁΩÆ‰∫ÜÂá†‰∏™ÁéØÂ¢ÉÂèòÈáèÂèØ‰ª•ÈÖçÁΩÆ docker-compose.‰ª• DOCKER_ ÂºÄÂ§¥ÁöÑÂèòÈáèÂíåÈÖçÁΩÆ docker ÂëΩ‰ª§Ë°åÂÆ¢Êà∑Á´ØÁöÑÂèòÈáèÁ±ª‰ºº„ÄÇÂ¶ÇÊûú‰ΩøÁî® docker-machineÁöÑËØùÔºåeval &quot;$(docker-machine env my-docker-vm)&quot;Â∞Ü‰∏∫ÂèòÈáèËÆæÁΩÆÊ≠£Á°ÆÁöÑÂÄº„ÄÇ COMPOSE_PROJECT_NAME 1„ÄÅËÆæÁΩÆÈ°πÁõÆÂêç.ËØ•ÂÄºÂú®ÂêØÂä®Êó∂‰ºö‰Ωú‰∏∫ÂÆπÂô®ÊúçÂä°ÁöÑÂâçÁºÄ.ÊØîÂ¶ÇÈ°πÁõÆÂêç myapp,ÂåÖÂê´‰∏§‰∏™ÊúçÂä° db Âíå web,ÈÇ£‰πà Compose ÂêØÂä®ÁöÑÂÆπÂô®Âêç‰∏∫ myapp_db_1 Âíå myapp_web_1.2„ÄÅÈªòËÆ§Êó∂È°πÁõÆÊñá‰ª∂Â§πÁöÑÊ†πÁõÆÂΩïÂêç„ÄÇ COMPOSE_FILE 1„ÄÅÊåáÂÆö Compose Êñá‰ª∂Ë∑ØÂæÑ„ÄÇÂ¶ÇÊûúÊú™ÊåáÂÆöÔºåCompose Â∞ÜÂú®ÂΩìÂâçÊñá‰ª∂Â§πÊü•ËØ¢ docker-compose.yml Êñá‰ª∂ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Â∞ÜÁªßÁª≠ÈÅçÂéÜÁà∂ÁõÆÂΩïÁõ¥Âà∞ÊâæÂà∞„ÄÇ2„ÄÅÊîØÊåÅ‰ΩøÁî®Êñá‰ª∂Ë∑ØÂæÑÂàÜÈöîÁ¨¶(Linux &amp; MacOS [:] Windows [;]).ÊØîÂ¶Ç COMPOSE_FILE=docker-compose.yml:docker-compose.prod.yml,Ë∑ØÂæÑÂàÜÈöîÁ¨¶ÂèØ‰ª•ÈÄöËøá COMPOSE_PATH_SEPARATOR Ëá™ÂÆö‰πâ COMPOSE_API_VERSION 1„ÄÅDocker API ‰ªÖÊîØÊåÅÊù•Ëá™ÊåáÂÆöÁâàÊú¨ÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±Ç„ÄÇ‰ΩøÁî® docker-compose Êó∂Âá∫Áé∞ client and server don&#39;t have same version ÈîôËØØÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøáËÆæÁΩÆËØ•ÂèòÈáèËß£ÂÜ≥„ÄÇ2„ÄÅËÆæÁΩÆËØ•ÂèòÈáè‰∏ªË¶ÅÈíàÂØπ‰∏¥Êó∂ÁöÑËøêË°åÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÁâàÊú¨‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµ„ÄÇ DOCKER_HOST 1„ÄÅ‰∏∫ docker daemon ËÆæÁΩÆ URL.Âíå docker ÂÆ¢Êà∑Á´Ø‰∏ÄÊ†∑ÔºåÈªòËÆ§‰∏∫ unix:///var/run/docker.sock DOCKER_TLS_VERIFY 1„ÄÅËÆæÁΩÆÁ©∫Â≠óÁ¨¶‰ª•Â§ñÁöÑ‰ªª‰ΩïÂÄºÊó∂ÔºåÂºÄÂêØ TLS. DOCKER_CERT_PATH 1„ÄÅÈÖçÁΩÆ ca.pem,cert.pem,key.pem ÁöÑË∑ØÂæÑ„ÄÇÈªòËÆ§ ~/.docker COMPOSE_HTTP_TIMEOUT 1„ÄÅË∂ÖÊó∂Êó∂Èó¥(Áßí).ÈªòËÆ§ 60s COMPOSE_TLS_VERSION 1„ÄÅTLS ÁâàÊú¨.ÈªòËÆ§ TLSv1. ÂèØ‰æõÈÄâÈ°π TLSv1, TLSv1_1, TLSv1_2 COMPOSE_CONVERT_WINDOWS_PATH 1„ÄÅÊòØÂê¶ÂºÄÂêØÊää Windos-style ÁöÑË∑ØÂæÑËΩ¨‰∏∫ Unix-style ÁöÑÂç∑ÂÆö‰πâ„ÄÇÂú® Windos ‰∏ä‰ΩøÁî® Docker Machine Âíå Docker Toolbox Êó∂ÊÄªÊòØË¶ÅËÆæÁΩÆËØ•ÂèòÈáè„ÄÇÈªòËÆ§ 0„ÄÇ true/1 ‰ª£Ë°®ÂºÄÂêØÔºåfalse/0 ‰ª£Ë°®ÂÖ≥Èó≠. COMPOSE_PATH_SEPARATOR 1„ÄÅÂ¶ÇÊûúËÆæÁΩÆÔºåCOMPOSE_FILE ÂÄºÂ∞Ü‰ΩøÁî®Ê≠§Â§ÑÁöÑÂÆö‰πâ‰Ωú‰∏∫ÂàÜÈöîÁ¨¶„ÄÇ COMPOSE_FORCE_WINDOWS_HOST 1„ÄÅÂ¶ÇÊûúËÆæÁΩÆÔºåÂç≥‰Ωø Compose ËøêË°åÂú® Unix-based Á≥ªÁªü‰∏äÔºåÂç∑ÂÆö‰πâ‰πüÂ∞Ü‰ΩøÁî®ÁÆÄÁï•ËØ≠Ê≥ïËß£Êûê‰∏∫ÂÅáËÆæËøêË°åÂú® Windows ‰∏äÁöÑË∑ØÂæÑ„ÄÇtrue/a,false/0 COMPOSE_IGNORE_ORPHANS 1„ÄÅÂ¶ÇÊûúËÆæÁΩÆÔºåCompose ‰∏ç‰ºöËØïÁùÄÂØπÈ°πÁõÆÁöÑÂçïÁã¨ÂÆπÂô®Ê£ÄÊµã„ÄÇtrue/1,false/0 COMPOSE_PARALLEL_LIMIT 1„ÄÅÂπ∂Ë°åÊâßË°åÁöÑÈôêÂà∂„ÄÇÈªòËÆ§ 64ÔºåÁªù‰∏çËÉΩ‰Ωé‰∫é 2. COMPOSE_INTERACTIVE_NO_CLI 1„ÄÅÂ¶ÇÊûúËÆæÁΩÆÔºåCompose ‰∏ç‰ºöÂ∞ùËØï‰ΩøÁî® Docker CLI Âíå run exec Êìç‰Ωú‰∫§‰∫í„ÄÇtrue/1,false/0 Compose fileversion 3buildÈÖçÁΩÆÈÄâÈ°πÂú®ÁºñËØëÊúüÁîüÊïà„ÄÇbuild ÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™Ë∑ØÂæÑ 1234version: "3"services: webapp: build: ./dir ÊàñËÄÖÊòØ‰∏Ä‰∏™Âú®ÊåáÂÆö context ‰∏ãÁöÑË∑ØÂæÑÂØπË±°ÔºåÂêåÊó∂ÂèØÂåÖÂê´ Dockerfile Âíå args 12345678version: "3"services: webapp: build: context: ./dir dockerfile: Dockerfile-alternate args: buildno: 1 Â¶ÇÊûúÂêåÊó∂‰πüÊåáÂÆö‰∫Ü image,Compose ‰ΩøÁî® webapp Âíå image ‰∏≠ÊåáÂÆöÁöÑÂèØÈÄâÁöÑ tag ÂëΩÂêçÊúÄÁªàÁîüÊàêÁöÑÈïúÂÉèÂêç 12build: ./dirimage: webapp:tag swarm mode ‰∏çÊîØÊåÅ„ÄÇdocker stack ÂëΩ‰ª§Âè™Êé•ÂèóÈ¢ÑÁºñËØëÁöÑÈïúÂÉè. CONTEXTÂèØ‰ª•ÊòØÂåÖÂê´ Dockerfile Êñá‰ª∂ÁöÑË∑ØÂæÑÔºåÊàñ git ‰ªìÂ∫ìÁöÑ url.Â¶ÇÊûúÊòØÁõ∏ÂØπË∑ØÂæÑÔºåÈÇ£‰πàË¢´Ëß£Êûê‰∏∫Áõ∏ÂØπ‰∫éÂΩìÂâç Compose Êñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇÊ≠§Êñá‰ª∂Â§πÂêåÊó∂‰πüÊòØÂèëÈÄÅÂà∞ Docker daemon ÁöÑÁºñËØë‰∏ä‰∏ãÊñá„ÄÇ DOCKERFILEÂèØÈÄâÊ≠§Â§ÑÂøÖÈ°ªÊåáÂÆöÁºñËØëË∑ØÂæÑ ARGSÂè™ÊúâÂú®ÁºñËØëËøáÁ®ã‰∏≠ÂèØËÆøÈóÆÁöÑÁéØÂ¢ÉÂèòÈáè„ÄÇÈ¶ñÂÖàÔºåÂú® Dokcerfile ‰∏≠ÊåáÂÆöÂèÇÊï∞: 12345ARG buildnoARG gitcommithashRUN echo "Build number: $buildno"RUN echo "Bashed on commit: $gitcommithash" ÁÑ∂ÂêéÂú® build ‰∏ãÁªôËØ•ÂèÇÊï∞Â§çÂà∂ÔºàÂèØ‰ª•ÊòØÈîÆÂÄºÂØπÂàóË°®ÔºâÔºö 1234567891011build: context: . args: buildno: 1 gitcommithash: cdc3b19build: context: . args: - buildno=1 - gitcommithash=cdc3b19 ‰Ω†‰πüÂèØ‰ª•‰∏çÊåáÂÆöÂÄºÔºåÂÆÉÁöÑÂÄºÂ∞±ÊòØÁºñËØëÊó∂ Compose ÂΩìÂâçËøêË°åÁéØÂ¢ÉÁöÑÂÄº. YAML Â∏ÉÂ∞îÂÄº(true,false,yes,no,on,off)Â∫îËØ•‰ΩøÁî®ÂºïÂè∑Â∫îÁî®ÔºåËøôÊ†∑Ëß£ÊûêÂô®ÊâçËÉΩÊääÂÆÉ‰ª¨Ëß£Êûê‰∏∫ string CACHE_FROM v3.2+ ÊåáÂÆö engine ÂèØ‰ª•ÁºìÂ≠òÁöÑÈïúÂÉèÂàóË°® 12345build: context: . cache_from: - alpine:latest - corp/webapp:3.14 LABELS v3.3+ ÂêëÁîüÊàêÁöÑÈïúÂÉèÊ∑ªÂä†ÂÖÉÊï∞ÊçÆ„ÄÇÂèØ‰ª•ÊòØÊï∞ÁªÑÊàñÁõÆÂΩïÊé®Ëçê‰ΩøÁî®ÂèçÂêë DNS Ê†áËÆ∞‰ª•ÈÅøÂÖçÂíåÂÖ∂‰ªñËΩØ‰ª∂ÂÜ≤Á™Å 12345678910111213build: context: . labels: com.example.description: "Accounting webapp" com.example.department: "Finance" com.example.label-with-empty-value: ""build: context: . labels: - "com.example.description=Accounting webapp" - "com.example.department=Finance" - "com.example.label-with-empty-value" SHM_SIZE v3.5+ ËÆæÁΩÆÁºñËØëÁîüÊàêÂÆπÂô® dev/shm&#39; ÂàÜÂå∫Â§ßÂ∞è„ÄÇint ÂÄºÂçï‰Ωç‰∏∫ byte. string ÂèØ‰ª•Êê∫Â∏¶Âçï‰Ωç 1234567build: context: . shm_size: '2gb'build: context: . shm_size: 10000000 TARGET v3.4+ ÁºñËØë Dockerfile ‰∏≠ÂÆö‰πâÁöÑÊåáÂÆöÁâàÊú¨ 123build: context: . target: prod cap_add,cap_dropÊ∑ªÂä†ÊàñÂà†Èô§ÂÆπÂô®ÁöÑÂÆπÈáè„ÄÇman 7 capabilities Êü•ÁúãÂèØÁî®ÂàóË°® 12345cap_add: - ALLcap_drop: - NET_ADMIN - SYS_ADMIN swarm mode Êó†Êïà cgroup_parent‰∏∫ÂÆπÂô®ÊåáÂÆöÂèØÈÄâÁöÑ cgroup parent 1cgroup_parent: m-executor-abcd swarm mode Êó†Êïà commandË¶ÜÁõñÈªòËÆ§ÁöÑÂëΩ‰ª§ 1command: bundle exec thin -p 3000 ‰πüÂèØ‰ª•ÊòØÂàóË°® 1command: ["bundle", "exec", "thin", "-p", "3000"] configsTips ÂÖ±‰∫´Êñá‰ª∂Â§πÔºåÂç∑ÔºåÁªëÂÆöÊåÇËΩΩ Â¶ÇÊûú‰Ω†ÁöÑÈ°πÁõÆ‰∏çÂú® UsersÁõÆÂΩï(cd ~),ÈÇ£‰πà‰Ω†ÈúÄË¶ÅÂÖ±‰∫´È©±Âä®Âô®Êàñ Dockerfile ÊâÄÂú®‰ΩçÁΩÆÂíåÂΩìÂâçÊ≠£Âú®‰ΩøÁî®ÁöÑÂç∑„ÄÇÂ¶ÇÊûúÂá∫Áé∞ËøêË°åÊó∂ÈîôËØØË°®Á§∫Êñá‰ª∂Êú™ÊâæÂà∞ÔºåÈÇ£‰πàÂ∞±ÊòØ‰∏Ä‰∏™ÊåÇËΩΩÂç∑ÁöÑËØ∑Ê±ÇË¢´ÊãíÁªùÔºåÊàñÊúçÂä°ÂêØÂä®Â§±Ë¥•ÔºåËØïÁùÄÂÖ±‰∫´Êñá‰ª∂ÊàñÈ©±Âä®„ÄÇÊåÇËΩΩÂç∑Ë¶ÅÊ±ÇÂÖ±‰∫´È°πÁõÆ‰∏çÂú® C:\Users (Windows),Êàñ /Users (Mac) ÁöÑÈ©±Âä®ÔºåÂπ∂‰∏îÂ¶ÇÊûúÊòØËøêË°åÂú® Dokcer Desktop for Windows ÁöÑ Linux ÂÆπÂô®‰∏äÁöÑÊâÄÊúâÂ∫îÁî®ÈÉΩÈúÄË¶ÅÂÖ±‰∫´„ÄÇ Â¶ÇÊûúÊîπÂèò‰∫Ü‰∏Ä‰∏™ÊúçÂä°ÁöÑ Dockerfile ÊàñËÄÖÁºñËØëÊñá‰ª∂Â§πÈáåÁöÑÂÜÖÂÆπÔºåËøêË°å docker-compose buildÈáçÊñ∞ÁºñËØë ÂÆòÊñπÁ§∫‰æãCompose &amp; WordPress ‰∏∫È°πÁõÆÂàõÂª∫Á©∫Êñá‰ª∂Â§π„ÄÇËØ•Êñá‰ª∂Â§π‰Ωú‰∏∫Â∫îÁî®ÁöÑ‰∏ä‰∏ãÊñáÔºå‰∏îÂè™‰øùÂ≠òÊûÑÂª∫ÈïúÂÉèÊâÄÈúÄÁöÑËµÑÊ∫ê„ÄÇ ÂàõÂª∫ docker-compose.yml 1234567891011121314151617181920212223242526272829version: "3.3"services: db: image: mysql:5.7 volumes: - db_data:/var/lib/mysql restart: always environment: MYSQL_ROOT_PASSWORD: somewordpress MYSQL_DATABASE: wordpress MYSQL_USER: wordpress MYSQL_PASSWORD: wordpress wordpress: depends_on: - db image: wordpress:latest ports: - "8000:80" restart: always environment: WORDPRESS_DB_HOST: db:3306 WORDPRESS_DB_USER: wordpress WORDPRESS_DB_PASSWORD: wordpress WORDPRESS_DB_NAME: wordpress volumes: db_data: &#123;&#125;# db_data Âç∑‰ºö‰øùÂ≠ò‰ªª‰Ωï WordPress ÂØπÊï∞ÊçÆÂ∫ìÁöÑÊîπÂèò„ÄÇ# WordPress ÈÄöÂ∏∏ÂºÄÊîæ 80 Âíå 443 Á´ØÂè£. docker-compose up -d. Â¶ÇÊûú‰ΩøÁî® Docker Machine, ÈÇ£‰πàËøêË°å docker-machine ip MACHINE_VM Ëé∑ÂèñËøêË°åÂú∞ÂùÄ„ÄÇÂ¶ÇÊûúÊòØ destop ÁâàÔºåhttp://localhost Âç≥ÂèØ. docker-compose down ÁßªÈô§ÂÆπÂô®ÔºåÈªòËÆ§ÁöÑÁΩëÁªúÔºå‰øùÁïô WordPress ÂíåÊï∞ÊçÆÂ∫ì„ÄÇdocker-compose down --volumes ÂÖ®ÈÉ®ÁßªÈô§„ÄÇ]]></content>
      <tags>
        <tag>docker</tag>
        <tag>Â≠¶‰π†Á¨îËÆ∞</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[ËØë]-LiveData with SnackBar,Navigation and other events(the SingleLiveEvent case)]]></title>
    <url>%2F2019%2F02%2F28%2F%E8%AF%91-LiveData-with-SnackBar-Navigation-and-other-events-the-SingleLiveEvent-case%2F</url>
    <content type="text"><![CDATA[ÂéüÊñáview(activity/fragment) Âíå ViewModel ‰∫§ÊµÅÁöÑÊØîËæÉÂ•ΩÁöÑÊñπÂºèÊòØ LiveData observables. view ËÆ¢ÈòÖ LiveData ÁöÑÊîπÂèò‰∏îÈöèÊó∂ÂìçÂ∫î„ÄÇËøôÈÄÇÁî®‰∫éËøûÁª≠‰∏çÊñ≠ÁöÑÊòæÁ§∫Âú®‰∏Ä‰∏™Â±èÂπïÁöÑÊï∞ÊçÆ„ÄÇ‰ΩÜÊòØÊüê‰∫õÊï∞ÊçÆÂç¥Êõ¥Â∫îËØ•Ë¢´Ê∂àË¥π‰∏ÄÊ¨°ÔºåÊØîÂ¶Ç Snackbar Ê∂àÊÅØÔºånavigation ‰∫ã‰ª∂ Êàñ dialog Ëß¶ÂèëÂô®„ÄÇ‰∏éÂÖ∂ËØïÁùÄÈÄöËøáÊâ©Â±ï Architecture Components Êâ©Â±ïÊàñÂ∫ìËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰∏çÂ¶ÇÊàë‰ª¨ÂèØ‰ª•Áõ¥Èù¢ËøôÊòØ‰∏™ËÆæËÆ°Áº∫Èô∑„ÄÇÊàë‰ª¨Êé®Ëçê‰Ω†Êää‰Ω†ÁöÑ‰∫ã‰ª∂Áúã‰ΩúÊòØÁä∂ÊÄÅÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇÊú¨ÊñáÊàë‰ª¨Â∞ÜÂàó‰∏æ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÈîôËØØÂíåÊé®ËçêÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ‚ùå Bad: 1. ÂØπ‰∫ã‰ª∂‰ΩøÁî® LiveDataÂú® LiveData ÂØπË±°ÂÜÖÈÉ®Áõ¥Êé•ÊåÅÊúâ Snackbar Ê∂àÊÅØÊàñ navigation ‰ø°Âè∑„ÄÇÂéüÂàô‰∏äÊôÆÈÄöÁöÑ LiveData ÂØπË±°ÂèØ‰ª•ËøôÊ†∑‰ΩøÁî®Ôºå‰ΩÜÂÆûÈôÖ‰∏ä‰ºöÊö¥Èú≤‰∏Ä‰∫õÈóÆÈ¢ò„ÄÇÂú® master/detail Êû∂ÊûÑÁöÑ app ‰∏≠ÔºåÂ¶Ç‰∏ãÊòØ maters ÁöÑ ViewModel 12345678910// ËØ∑‰∏çË¶ÅÂØπ‰∫ã‰ª∂ËøôÊ†∑Áî®class ListViewModel : ViewModel &#123; private val _navigateToDetails = MutableLiveData&lt;Boolean&gt;() val navigateToDetails : LiveData&lt;Boolean&gt; get() = _navigateToDetails fun userClicksOnButton() &#123; _navigateToDetails.value = true &#125;&#125; Âú® View(activity/fragment) ‰∏≠ 123myViewModel.navigateToDetails.observe(this,Observer &#123; if (it) startActivity(DetailsActivity....)&#125;) Ê≠§ÊñπÊ°àÁöÑ‰∏çË∂≥Âú®‰∫é _navigateToDetailsÂ∞Ü‰ºö‰∏ÄÁõ¥‰∏∫ true,ËÄå‰∏î‰∏çÂèØËÉΩÂõûÂà∞È¶ñÂ±è: Áî®Êà∑ÁÇπÂáªÊåâÈíÆÂêØÂä® Details Activity Áî®Êà∑ÊåâËøîÂõûÊåâÈíÆÔºåÂõûÂà∞‰∏ª Activity ÂΩì activity ËøõÂÖ•ÂõûÈÄÄÊ†àÊó∂ observers Â§±Ê¥ªÔºåÁé∞Âú®ÂÜçÊ¨°ÊøÄÊ¥ª ‰ªé ViewModel ‰∏≠Ë∞ÉÁî® navigation ‰∏îÁ´ãÂç≥Â∞ÜÂÖ∂ËÆæ‰∏∫ false 1234fun userClicksOnButton() &#123; _navigateToDetails.value = true _navigateToDetails.value = false&#125; ‰ΩÜÊòØËØ∑Ê≥®ÊÑèÔºö LiveData ‰øùÂ≠òÊï∞ÊçÆ‰ΩÜ‰∏ç‰ºö‰øùËØÅÂú®Êé•ÂèóÂà∞‰∫ã‰ª∂Êó∂ÂèëÈÄÅ‰ªª‰ΩïÊï∞ÊçÆ„ÄÇ‰æãÂ¶ÇÔºåÂΩìÊ≤°ÊúâËßÇÂØüËÄÖÊ¥ªË∑ÉÊó∂Êõ¥Êñ∞ÂÄºÔºåÈÇ£‰πà‰∏Ä‰∏™Êñ∞ÂÄºÂ∞ÜÊõøÊç¢ÂéüÊù•ÁöÑÂÄº„ÄÇÂêåÊó∂Ôºå‰ªé‰∏çÂêåÁ∫øÁ®ãËÆæÁΩÆÂ±ûÊÄßÂ∞Ü‰ºöÂØºËá¥Á´û‰∫âÁä∂ÊÄÅÔºåÊ≠§Êó∂‰ªÖËÉΩ‰øùËØÅ‰∏Ä‰∏™ËßÇÂØüËÄÖË¢´Ë∞ÉÁî®„ÄÇ ÊúÄ‰∏ªË¶ÅÁöÑÈóÆÈ¢òÊòØÔºåËøô‰∏™ÊñπÊ°àÂæàÈöæÁêÜËß£ËÄå‰∏î‰ª£Á†ÅÂûÉÂúæ„ÄÇÊâÄ‰ª•Êàë‰ª¨Â¶Ç‰Ωï‰øùËØÅÂú® navigation ‰∫ã‰ª∂ÂèëÁîüÊó∂ÂÄºÈáçÁΩÆÔºü ‚ùåBetter: 2.‰ΩøÁî® LiveData wrapper ‰∫ã‰ª∂ÔºåÂú®ËßÇÂØüËÄÖ‰∏≠ÈáçÁΩÆÂ±ûÊÄß.123456listViewModel.navigateToDetails.observe(this,Observer &#123; if (it) &#123; myViewModel.navigateToDetailsHandled() startActivity(DetailsActivity...) &#125;&#125;) 1234567891011121314class ListViewModel: ViewModel &#123; private val _navigateToDetails = MutableLiveData&lt;Boolean&gt;() val navigateToDetails: LiveData&lt;Boolean&gt; get() = _navigateToDetails fun userClicksOnButton() &#123; _navigateToDetails.value = true &#125; fun navigateToDetailsHandled() &#123; _navigateToDetails.value = false &#125;&#125; Ê≠§ÊñπÊ°àÁöÑ‰∏çË∂≥‰πãÂ§ÑÂú®‰∫éÊúâ‰∫õÂÜó‰Ωô‰ª£Á†Å ‚úÖ okÔºö‰ΩøÁî® SingleLiveEventSingleLiveEvent Âè™ÈÄÇÁî®‰∫éÈÉ®ÂàÜÂú∫ÊôØ„ÄÇÂè™ÂèëÈÄÅÂíåÊõ¥Êñ∞‰∏ÄÊ¨°Áä∂ÊÄÅÁöÑ LiveData 12345678910class ListViewModel: ViewModel &#123; private val _navigateToDetails = SingleLiveEvent&lt;Any&gt;() val navigateToDetails: LiveData&lt;Any&gt; get() = _navigateToDetails fun userClicksOnButton() &#123; _navigateToDetails.call() &#125;&#125; 123myViewModel.navigateToDetails.observe(this, Observer &#123; startActivity(DetailsActivity...)&#125;) 123456789101112131415161718192021222324252627282930313233343536373839// SingleLiveEventpublic class SingleLiveEvent&lt;T&gt; extends MutableLiveData&lt;T&gt; &#123; private static final String TAG = "SingleLiveEvent"; private final AtomicBoolean mPending = new AtomicBoolean(false); @MainThread public void observe(LifecycleOwner owner, final Observer&lt;T&gt; observer) &#123; if (hasActiveObservers()) &#123; Log.w(TAG, "Multiple observers registered but only one will be notified of changes."); &#125; // Observe the internal MutableLiveData super.observe(owner, new Observer&lt;T&gt;() &#123; @Override public void onChanged(@Nullable T t) &#123; if (mPending.compareAndSet(true, false)) &#123; observer.onChanged(t); &#125; &#125; &#125;); &#125; @MainThread public void setValue(@Nullable T t) &#123; mPending.set(true); super.setValue(t); &#125; /** * Used for cases where T is Void, to make calls cleaner. */ @MainThread public void call() &#123; setValue(null); &#125;&#125; Ê≠§ÊñπÊ°àÁöÑ‰∏çË∂≥‰πãÂ§ÑÂú®‰∫éÂè™Êúâ‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖ„ÄÇÂ¶ÇÊûú‰Ω†ÊúâÂ§ö‰∏™ËßÇÂØüËÄÖÔºåÈÇ£‰πàÂè™Êúâ‰∏Ä‰∏™Ë¢´Ë∞ÉÁî®‰∏î‰∏ç‰øùËØÅÈ°∫Â∫è„ÄÇ ‚úÖ Êé®ËçêÔºö‰ΩøÁî® Event Wrapper1234567891011121314151617open class Event&lt;out T&gt;(private val content: T) &#123; val hasBeenHandled = false private set // Âè™ËØªÂ±ûÊÄß /** * ËøîÂõû content, ÈòªÊ≠¢ÂÖ∂ÂÜçÊ¨°Ë∞ÉÁî® fun getContentIfNotHandled(): T? &#123; return if (hasBeenHandled) &#123; null &#125; else &#123; hasBeenHandled = true content &#125; &#125; fun peekContent(): T = content&#125; 1234567891011class ListViewModel : ViewModel &#123; private val _navigateToDetails = MutableLiveData&lt;Event&lt;String&gt;&gt;() val navigateToDetails : LiveData&lt;Event&lt;String&gt;&gt; get() = _navigateToDetails fun userClicksOnButton(itemId: String) &#123; _navigateToDetails.value = Event(itemId) // Trigger the event by setting a new Event as a new value &#125;&#125; 1234567891011class ListViewModel : ViewModel &#123; private val _navigateToDetails = MutableLiveData&lt;Event&lt;String&gt;&gt;() val navigateToDetails : LiveData&lt;Event&lt;String&gt;&gt; get() = _navigateToDetails fun userClicksOnButton(itemId: String) &#123; _navigateToDetails.value = Event(itemId) // Trigger the event by setting a new Event as a new value &#125;&#125; Ê≠§ÊñπÊ°àÁöÑ‰ºòÂäøÊòØÁî®Êà∑ÈúÄË¶Å‰ΩøÁî® getContentIfNotHandled() Êàñ peekContent()ÊåáÂÆöÊÑèÂõæ„ÄÇÊ≠§ÊñπÊ≥ïÊää‰∫ã‰ª∂ÊäΩË±°‰∏∫ state ÁöÑ‰∏ÄÈÉ®ÂàÜÔºöÂèòÊàê‰ªÖË°®Á§∫ÊòØÂê¶Ë¢´Ê∂àË¥πÁöÑÊ∂àÊÅØ„ÄÇ ÁªìËÆ∫ÊÄª‰πãÔºåÊää‰∫ã‰ª∂‰Ωú‰∏∫Áä∂ÊÄÅÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ‰ΩøÁî®Ëøô‰∏™ EventObserver Âú®Â§ßÈáè‰∫ã‰ª∂ÁªìÊùüÂêéÁßªÈô§ÂÆÉ 1234567class EventObserver&lt;T&gt;(private val onEventUnhandledContent: (T) -&gt; Unit) : Observer&lt;Event&lt;T&gt;&gt; &#123; override fun onChanged(event: Event&lt;T&gt;?) &#123; event?.getContentIfNotHandled()?.let &#123; value -&gt; onEventUnhandledContent(value) &#125; &#125;&#125; 123inline fun &lt;T&gt; LiveData&lt;Event&lt;T&gt;&gt;.observeEvent(owner: LifecycleOwner, crossinline onEventUnhandledContent: (T) -&gt; Unit) &#123; observe(owner, Observer &#123; it?.getContentIfNotHandled()?.let(onEventUnhandledContent) &#125;)&#125;]]></content>
      <tags>
        <tag>ÁøªËØë</tag>
        <tag>LiveData</tag>
        <tag>Navigation</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LiveData]]></title>
    <url>%2F2019%2F02%2F28%2FLiveData%2F</url>
    <content type="text"><![CDATA[LiveData ÁöÑ‰ºòÂäø Á°Æ‰øù UI ÂíåÊï∞ÊçÆÁä∂ÊÄÅÂåπÈÖç LiveData ÈÅµÂæ™ËßÇÂØüËÄÖÊ®°Âºè„ÄÇ Êó†ÂÜÖÂ≠òÊ≥ÑÊºè ‰∏ç‰ºöÂõ†‰∏∫ Activity Ë¢´ÁªàÊ≠¢ËÄåÂ¥©Ê∫É Â¶ÇÊûúËßÇÂØüËÄÖÂ§Ñ‰∫é inactive Áä∂ÊÄÅÔºå‰æãÂ¶Ç activity Â§Ñ‰∫éÂõûÈÄÄÊ†à‰∏≠ÔºåÈÇ£‰πàÂÆÉ‰∏ç‰ºöÊé•Êî∂Âà∞‰ªª‰Ωï LiveData ‰∫ã‰ª∂. ‰∏çÁî®ÊâãÂä®Â§ÑÁêÜÁîüÂëΩÂë®Êúü‰∫ã‰ª∂ Êó∂ÂàªÊõ¥Êñ∞Êï∞ÊçÆÁä∂ÊÄÅ Â¶ÇÊûú‰∏Ä‰∏™ËßÇÂØüËÄÖÁöÑÂèò‰∏∫ inactiveÔºåÈÇ£‰πàÂÆÉ‰ºöÂú®ÈáçÊñ∞ active Êó∂Ëé∑ÂèñÊúÄÊñ∞ÁöÑÊï∞ÊçÆÁä∂ÊÄÅ„ÄÇÊØîÂ¶ÇÔºå‰∏Ä‰∏™ activiy Â¶ÇÊûúÂ§Ñ‰∫éÂêéÂè∞ÔºåÈÇ£‰πàÂÆÉÂ∞ÜÂú®ÈáçÊñ∞ËøîÂõûÂâçÂè∞Êó∂Ëé∑ÂèñÂà∞ÊúÄÊñ∞ÁöÑÊï∞ÊçÆ„ÄÇ Â∫îÂØπ configuration change Â¶ÇÊûú‰∏Ä‰∏™ activity Êàñ fragment Áî±‰∫é configuration change(ËÆæÂ§áÊóãËΩ¨) ÂØºËá¥ÈáçÊñ∞ÂàõÂª∫ÔºåÂÆÉ‰ºöÁ´ãÂç≥Ëé∑ÂèñÊúÄÊñ∞ÂèØÁî®ÁöÑÊï∞ÊçÆ. ÂÖ±‰∫´ËµÑÊ∫ê ÂèØ‰ª•‰ΩøÁî®Âçï‰æãÊ®°ÂºèÊâ©Â±ï LiveDataÔºåÂ∞ÅË£ÖÁ≥ªÁªüÊúçÂä°Âú® app ÂÜÖÂÖ±‰∫´„ÄÇ Âú® ViewModel ÂØπË±°‰∏≠‰øùÂ≠òÂèØ‰ª•Êõ¥Êñ∞ UI ÁöÑ LiveData ÂØπË±°ÔºåËÄå‰∏çÊòØÂú® activity Êàñ fragment ÁöÑÂéüÂõ†ÊòØÔºö ÈÅøÂÖç activty Êàñ framgent ËøáÂ∫¶ËÜ®ËÉÄ„ÄÇUI controller ‰ªÖË¥üË¥£Â±ïÁ§∫Êï∞ÊçÆËÄå‰∏çÊòØ‰øùÂ≠òÊï∞ÊçÆÁä∂ÊÄÅ ‰ªéÁâπÊÄßÁöÑ activity Êàñ fragment ‰∏≠Ââ•Á¶ª LiveData ÂÆû‰æãÔºå‰ΩøÂæó LiveData ÂØπË±°ÂèØ‰ª•Âú® configuration change ‰∏≠Â≠òÊ¥ª„ÄÇ ËØ∑Âú®‰∏ªÁ∫øÁ®ã‰∏≠Ë∞ÉÁî® setValue(T) Êõ¥Êñ∞ LiveData ÂØπË±°.Â¶ÇÊûúÊòØÂú®Â∑•‰ΩúÁ∫øÁ®ãÔºåËØ∑Ë∞ÉÁî® postValue(T).]]></content>
      <tags>
        <tag>Architecture Components</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÈ´òÁ∫ß-6-ÂÖÉÊ®°Âûã,IDs,UIDs]]></title>
    <url>%2F2019%2F02%2F26%2FObjectBox%E9%AB%98%E7%BA%A7-6-%E5%85%83%E6%A8%A1%E5%9E%8B-IDs-UIDs%2F</url>
    <content type="text"><![CDATA[‰∏çÂÉè SQLite ËøôÊ†∑ÁöÑÊï∞ÊçÆÂ∫ìÔºåObjectBox ‰∏çÈúÄË¶Å‰Ω†ÂàõÂª∫ database schema.Ëøô‰∏çÊÑèÂë≥ÁùÄ ObjectBox ÊòØÊó† schema ÁöÑ„ÄÇ‰∏∫È´òÊïàËµ∑ËßÅÔºåObjectBox ÂØπÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÁª¥Êä§‰∫Ü‰∏Ä‰∏™ÂÖÉÊ®°Âûã(meta model)„ÄÇÊ≠§ÂÖÉÊ®°ÂûãÂÆûÈôÖ‰∏äÁ≠â‰ª∑‰∫é ObjectBox ÁöÑ schema.ÂÆÉÂåÖÂê´‰∫ÜÊâÄÊúâÂ±ûÊÄßÁöÑÁ±ªÂûã„ÄÅindexes Á≠â.‰∏çÂêå‰πãÂ§ÑÂú®‰∫é ObjectBox ËØïÂõæËá™Âä®ÁÆ°ÁêÜËØ•ÂÖÉÊ®°Âûã.Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåËøôÈúÄË¶Å‰Ω†Â∏ÆÂøô. Object ÁöÑ IDs ÊòØ @Id ÂÆö‰πâÁöÑÔºåËÄå ÊâÄÊúâ entity Á±ªÂûãÁöÑÂÆû‰æãÈÉΩÁªëÂÆö‰∏Ä‰∏™ meta model ID. JSON for consistent IDsObjectBox Êää‰∏ÄÈÉ®ÂàÜÂÖÉÊ®°Âûã‰øùÂ≠òÂú® JSON Êñá‰ª∂‰∏≠.Ê≠§Êñá‰ª∂Â∫îËØ•ÈÄöËøáÁâàÊú¨ÊéßÂà∂ËΩØ‰ª∂ÁÆ°ÁêÜ,‰∏ªË¶ÅÂéüÂõ†ÊòØÔºöÂÆÉÂèØ‰ª•‰øùËØÅ ÂÖÉÊ®°ÂûãÈáåÁöÑ IDs Âíå UIDs Ë∑®ËÆæÂ§á‰∏ÄËá¥.]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÈ´òÁ∫ß-5-Êõ¥Êñ∞Êï∞ÊçÆÊ®°Âûã]]></title>
    <url>%2F2019%2F02%2F26%2FObjectBox%E9%AB%98%E7%BA%A7-5-%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[ObjectBox Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãËá™Âä®ÁÆ°ÁêÜÊï∞ÊçÆÊ®°Âûã.ÂΩìÊ∑ªÂä†/Âà†Èô§ entities ÊàñÂ±ûÊÄßÊó∂ÔºåObjectBox Ëá™Âä®‰ΩúÂá∫ÂìçÂ∫î„ÄÇÂØπ‰∫éÂÖ∂‰ªñÊîπÂèòÂ¶Ç ‰øùÁïôÊàñÊîπÂèòÁ±ªÂûãÔºåObjectBox ÈúÄË¶ÅÈ¢ùÂ§ñ‰ø°ÊÅØ„ÄÇ UIDsObjectBox ÈÄöËøá unique IDs(UIDs) Êù•ËøΩË∏™ entities ÂíåÂ±ûÊÄßÁöÑÂèòÂåñ„ÄÇÊâÄÊúâÁöÑ UIDs ÈÉΩÂ≠òÂÇ®Âú® module-name/objectbox-models/default.json ‰∏≠,ÂèØ‰ª•‰ΩøÁî®ÁâàÊú¨ÊéßÂà∂ËΩØ‰ª∂(git)ËøõË°åÁÆ°ÁêÜ„ÄÇ ÁÆÄÂçïÊù•ËØ¥: ‰∏∫‰∫Ü‰Ωø UID Áõ∏ÂÖ≥ÁöÑÊîπÂèòÁîüÊïàÔºåÂú®Ëøô‰∫õ entity Êàñ Â±ûÊÄß‰∏äÊîæÁΩÆ @Uid ÁÑ∂ÂêéÁºñËØëÔºåÂú®Ëé∑ÂèñËøõ‰∏ÄÊ≠•ÊèêÁ§∫„ÄÇ ÈáçÂëΩÂêç entities Âíå Â±ûÊÄßÈúÄË¶Å UID Ê≥®Ëß£ÁöÑÂéüÂõ†ÊòØ: Â¶ÇÊûú‰ªÖ‰ªÖÊîπÂèò entities ÂíåÂ±ûÊÄßÁöÑÂêçÂ≠óÔºåObjectBox Âè™‰ºöÊÑèËØÜÂà∞ old entity ‰∏çËßÅ‰∫ÜÔºåËÄåÂàõÂª∫‰∫ÜÊñ∞ÁöÑ entity.ÊâÄ‰ª•ÂëäËØâ ObjectBox ÈáçÂëΩÂêç entity ÂíåÊï∞ÊçÆÔºåËÄå‰∏çÊòØ‰∏¢ÂºÉÂÆÉ‰ª¨.ÂÆÉ‰ª¨ÊòØÁõ∏ÂêåÁöÑ‰∏Ä‰∏™ entity„ÄÇÂÆûÈôÖ‰∏äÊòØÂú®ÂÜÖÈÉ®Áªô entity ÁªëÂÆö‰∏Ä‰∏™ UID.Â±ûÊÄß‰πü‰∏ÄÊ†∑. ÂÆûË∑µÁ¨¨‰∏ÄÊ≠•: ‰∏∫ÊÉ≥Ë¶ÅÈáçÂëΩÂêçÁöÑ entity/Â±ûÊÄßÊ∑ªÂä†Á©∫ÁöÑ @Uid Ê≥®Ëß£ 123@Entity@Uidpublic class MyName &#123; ... &#125; Á¨¨‰∫åÊ≠•: ÁºñËØëÈ°πÁõÆÔºåÁÑ∂Âêé‰ºöËæìÂá∫ÈîôËØØ‰ø°ÊÅØÔºöÁªôÂá∫ÂΩìÂâç entity/Â±ûÊÄßÁöÑ UID 123error: [ObjectBox] UID operations for entity "MyName": [Rename] apply the current UID using @Uid(6645479796472661392L) - [Change/reset] apply a new UID using @Uid(4385203238808477712L) Á¨¨‰∏âÈÉ®: Êää‰∏äÈù¢ÁöÑ UID Â§çÂà∂Âà∞ @Uid() Èáå 123@Entity@Uid(6645479796472661392L)public class MyName &#123; ... &#125; Á¨¨ÂõõÊ≠•: ÈáçÂëΩÂêçÂêß 123@Entity@Uid(6645479796472661392L)public class MyNewName &#123; ... &#125; ÊàñËÄÖÂèØ‰ª•Âú® default.json ‰∏≠ÊâæÂà∞ UID,ÁÑ∂ÂêéÁõ¥Êé•‰ΩøÁî®Âà∞ @Uid() ‰∏äÔºåÈáçÂëΩÂêçÂç≥ÂèØ ‰øÆÊîπÂ±ûÊÄßÁ±ªÂûãÊÉ≥Ë¶Å‰øÆÊîπÂ±ûÊÄßÁ±ªÂûãÔºåÈÇ£‰πà ObjectBox ÂÜÖÈÉ®ÂæóÂàõÂª∫‰∏Ä‰∏™Êñ∞Á±ªÂûã„ÄÇÂõ†‰∏∫ ObjectBox ‰∏ç‰ºöËøÅÁßªÊï∞ÊçÆ„ÄÇ ÈáçÂëΩÂêçÂ±ûÊÄßÁ±ªÂûãÔºöËøôÊ†∑ËØ•Â±ûÊÄßÂ∞±‰ºöË¢´ËÆ§‰∏∫ÊòØÊñ∞Â±ûÊÄß(Â¶ÇÊûúËØ•Â±ûÊÄßÂ∑≤ÁªèÊúâ @Uid Ê≥®Ëß£‰∫ÜÔºåÂàôË°å‰∏çÈÄö) 1234// old:String year;// new:int yearInt; ÂëäËØâ ObjectBox ÂØπÊñ∞Â±ûÊÄß‰ΩøÁî®Êñ∞ UID. ÂÆûË∑µ‰∏Ä‰∏ãÁ¨¨‰∏ÄÊ≠•ÔºöÂØπÊÉ≥‰øÆÊîπÁ±ªÂûãÁöÑÂ±ûÊÄßÊ∑ªÂä† @Uid Ê≥®Ëß£ 12@UidString year; Á¨¨‰∫åÊ≠•: ÁºñËØëËé∑ÂèñÈîôËØØ‰ø°ÊÅØ 123error: [ObjectBox] UID operations for property "MyEntity.year": [Rename] apply the current UID using @Uid(6707341922395832766L) - [Change/reset] apply a new UID using @Uid(9204131405652381067L) Á¨¨‰∏âÊ≠•Ôºö‰∏∫ËØ•Â±ûÊÄßÂ∫îÁî®Êñ∞ @Uid,Âπ∂‰øÆÊîπÁ±ªÂûã. 12@Uid(9204131405652381067L)int year;]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÈ´òÁ∫ß-4-entityÁªßÊâø]]></title>
    <url>%2F2019%2F02%2F26%2FObjectBox%E9%AB%98%E7%BA%A7-4-entity%E7%BB%A7%E6%89%BF%2F</url>
    <content type="text"><![CDATA[ObjectBox ÂÖÅËÆ∏Â≠êÁ±ªÁªßÊâø entity Áà∂Á±ªÊåÅ‰πÖÂåñÁöÑÂ±ûÊÄß„ÄÇÂêåÊ†∑‰πüÊîØÊåÅÁªßÊâøÈùû entity Á±ª„ÄÇ1.4+ ‰πüÊîØÊåÅÂ§öÁªßÊâø.ÂØπ‰∫éÁà∂Á±ªÊù•ËØ¥ÂèØ‰ª•‰ΩøÁî® @BaseEntity. Êó†Ê≥®Ëß£: Á±ªÊú¨Ë∫´ÂèäÂÖ∂Â±ûÊÄß‰∏çÈúÄË¶ÅÊåÅ‰πÖÂåñ @BaseEntity: Â±ûÊÄßÂú®Â≠êÁ±ª‰∏≠ÊåÅ‰πÖÂåñÔºåÁ±ªÊú¨Ë∫´‰∏çÊåÅ‰πÖÂåñ @Entity: Â±ûÊÄßÂú®Â≠êÁ±ª‰∏≠ÊåÅ‰πÖÂåñÔºåÁ±ªÊú¨Ë∫´‰πüÊåÅ‰πÖÂåñ 123456789101112131415161718192021222324252627282930// base class:@BaseEntitypublic abstract class Base &#123; @Id long id; String baseString; public Base() &#123; &#125; public Base(long id, String baseString) &#123; this.id = id; this.baseString = baseString; &#125;&#125;// sub class:@Entitypublic class Sub extends Base &#123; String subString; public Sub() &#123; &#125; public Sub(long id, String baseString, String subString) &#123; super(id, baseString); this.subString = subString; &#125;&#125; 1234567891011121314// entities inherit properties from entities@Entitypublic class SubSub extends Sub &#123; String subSubString; public SubSub() &#123; &#125; public SubSub(long id, String baseString, String subString, String subSubString) &#123; super(id, baseString, subString); this.subSubString = subSubString; &#125;&#125; ‰ΩøÁî®ÂâçÊ≥®ÊÑè Âú®ÁªßÊâøÈìæ‰∏≠ÂèØËÉΩÂ≠òÂú®Áî± @BaseEntity Ê≥®Ëß£ÁöÑÁ±ªÔºåÂÆÉ‰ª¨ÁöÑÂ±ûÊÄßÂ∞ÜË¢´ÂøΩÁï•Ôºå‰∏ç‰ºöÊàê‰∏∫ entity model ÁöÑ‰∏ÄÈÉ®ÂàÜ ‰∏çÊé®ËçêÁªßÊâø‰∏Ä‰∏™‰ªÖÂê´Êúâ ID Â±ûÊÄßÁöÑ base entity Á±ª. Êüê‰∫õÊÉÖÂÜµ‰∏ãÂèØ‰ª•‰ΩøÁî® interface Êõ¥ÁÆÄÂçïÊòé‰∫Ü ÈôêÂà∂ @BaseEntity Ê≥®Ëß£ÁöÑÁà∂Á±ª‰∏çËÉΩÊàê‰∏∫ library ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ Ê≤°ÊúâÂ§öÊÄÅÊü•ËØ¢(‰æãÂ¶ÇÊü•ËØ¢Áà∂Á±ªÂç¥Â∏åÊúõÂæóÂà∞Â≠êÁ±ª) ÂΩìÂâçÊó†ËÆ∫ÊòØ @Entity ËøòÊòØ @BaseEntity Ê≥®Ëß£ÁöÑÁà∂Á±ªÔºåÈÉΩ‰∏çËÉΩ‰ΩøÁî® ToOne ToMany ÂÖ≥ËÅî]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÈ´òÁ∫ß-3-Ëá™ÂÆö‰πâÁ±ªÂûã]]></title>
    <url>%2F2019%2F02%2F26%2FObjectBox%E9%AB%98%E7%BA%A7-3-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[ObjectBox ÊîØÊåÅ‰ª•‰∏ãÁ±ªÂûãÔºàJavaÔºâ:1234567891011boolean, Booleanint, Integershort, Shortlong, Longfloat, Floatdouble, Doublebyte, Bytechar, Characterbyte[]StringDate ËΩ¨Êç¢Âô®Ê≥®Ëß£ÂíåÂ±ûÊÄßËΩ¨Êç¢‰ΩøÁî® @Convert Ê≥®Ëß£Â∞ÜÂÖ∂‰ªñÁ±ªÂûãÂ±ûÊÄßËΩ¨‰∏∫ÂÜÖÁΩÆÂ±ûÊÄß„ÄÇÊ≠§Â§ÑÈúÄË¶ÅÊèê‰æõ PropertyConverter ÂÆûÁé∞„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839// enum ËΩ¨‰∏∫ Integer@Entitypublic class User &#123; @Id private Long id; @Convert(converter = RoleConverter.class, dbType = Integer.class) private Role role; public enum Role &#123; DEFAULT(0), AUTHOR(1), ADMIN(2); final int id; Role(int id) &#123; this.id = id; &#125; &#125; public static class RoleConverter implements PropertyConverter&lt;Role, Integer&gt;; &#123; @Override public Role convertToEntityProperty(Integer databaseValue) &#123; if (databaseValue == null) &#123; return null; &#125; for (Role role : Role.values()) &#123; if (role.id == databaseValue) &#123; return role; &#125; &#125; return Role.DEFAULT; &#125; @Override public Integer convertToDatabaseValue(Role entityProperty) &#123; return entityProperty == null ? null : entityProperty.id; &#125; &#125;&#125; more Â¶ÇÊûúÊòØÂú® entity Á±ª‰∏≠ÂÆö‰πâËá™ÂÆö‰πâËΩ¨Êç¢Âô®ÔºåÈÇ£‰πàËØ•ËΩ¨Êç¢Âô®Â∫îËØ•‰∏∫ static. Âà´ÂøòËÆ∞Ê≠£Á°ÆÂ§ÑÁêÜ null,ÈÄöÂ∏∏Â¶ÇÊûú input ÊòØ nullÔºå‰πüÂ∫îËøîÂõû null. Êé®Ëçê‰ΩøÁî®Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåÊõ¥ÊòìËΩ¨Êç¢. ÁªùÂØπ‰∏çËÉΩÂú®ËΩ¨Êç¢Âô®‰∏≠Ë∞ÉÁî®Êï∞ÊçÆÂ∫ì(Box,BoxStore),ËΩ¨Êç¢Âô®ÊñπÊ≥ïÂú®‰∫ãÂä°‰∏≠Ë∞ÉÁî®Ôºå‰æãÂ¶ÇËØªÂèñÊàñÂÜôÂÖ•ÂØπË±°Âà∞ box ‰∏≠Â∞Ü‰ºöÂ§±Ë¥•„ÄÇ ‰∏∫ÊèêÈ´òÊÄßËÉΩÔºåObjectBox ‰ΩøÁî®‰∫ÜÂØπÊâÄÊúâÁöÑËΩ¨Êç¢Âô®‰ΩøÁî®‰∫ÜÂîØ‰∏Ä‰∏Ä‰∏™ÂÆû‰æã„ÄÇËØ∑‰øùËØÅÈô§ÈªòËÆ§Êó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÂ§ñÊ≤°ÊúâËá™ÂÆö‰πâÂÖ∂‰ªñÊûÑÈÄ†ÊñπÊ≥ï„ÄÇÂêåÊó∂ËØ∑‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÔºåÂ∫î‰∏∫Âú® multiple entities ‰∏≠ÂèØËÉΩÊ∂âÂèäÂà∞Âπ∂Âèë. List/Array Á±ªÂûãÂèØ‰ª•‰ΩøÁî®ËΩ¨Êç¢Âô®ËΩ¨Êç¢ List Á±ªÂûã„ÄÇ‰æãÂ¶ÇÊää List ËΩ¨‰∏∫‰∏ÄÊù° String ÁöÑ JSON Êï∞ÁªÑ.ÂΩìÂâç‰∏çÊîØÊåÅ Array ËΩ¨Êç¢Âô®.Êü•ÁúãÁâπÊÄßÂÆûÁé∞ËøõÂ∫¶Array EnumsÊúÄ‰Ω≥ÂÆûË∑µ: ‰∏çË¶ÅÊåÅ‰πÖÂåñ enum ÁöÑ ordinal Êàñ name: ‰∫åËÄÖÈÉΩ‰∏çÁ®≥ÂÆöÔºå‰∏îÂú®‰∏ãÊ¨°‰Ω†‰øÆÊîπ enum ÂÆö‰πâÊó∂‰ºöÊîπÂèò ‰ΩøÁî®Á®≥ÂÆöÁöÑ ids: Âú® enum ‰∏≠ÂÆö‰πâËá™ÂÆö‰πâÂ±ûÊÄß(integer,string) ÈÉΩÂèØ‰ª•‰øùËØÅÁ®≥ÂÆö„ÄÇ‰ΩøÁî®ËØ•ÁâπÊÄß‰Ωú‰∏∫‰Ω†ÁöÑÊåÅ‰πÖÂåñÊò†Â∞Ñ. ÂáÜÂ§áÂ•ΩÂ∫îÂØπÊú™Áü•: ÂÆö‰πâ‰∏Ä‰∏™ UNKNOWN ÁöÑ enmu ÂÄº„ÄÇÂèØ‰ª•Â∫îÂØπ null Êàñ unknown ÂÄºÁöÑÊÉÖÂÜµ„ÄÇ‰æãÂ¶ÇÂèØ‰ª•Á°Æ‰øùÂ∑≤ÁªèË¢´ÁßªÈô§ÁöÑ enum ÂÄº‰∏ç‰ºöÂØºËá¥ App Â¥©Ê∫É. Êü•ËØ¢Êó∂ÁöÑËá™ÂÆö‰πâÁ±ªÂûãQueryBuilder ÊòØ‰∏çÂÖ≥ÂøÉËá™ÂÆöÁ±ªÂûãÁöÑ„ÄÇËØ∑‰ΩøÁî®ÂÜÖÁΩÆÁ±ªÂûãÊü•ËØ¢„ÄÇ]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÈ´òÁ∫ß-2-Object IDs]]></title>
    <url>%2F2019%2F02%2F26%2FObjectBox%E9%AB%98%E7%BA%A7-2-Object-IDs%2F</url>
    <content type="text"><![CDATA[Object ÂøÖÈ°ªÂÖ∑Êúâ‰∏Ä‰∏™Á±ªÂûã‰∏∫ long ÁöÑÂ±ûÊÄß.ÂΩìÁÑ∂ÂèØ‰ª•‰ΩøÁî®ÂÆÉÁöÑÂåÖË£ÖÁ±ª java.lang.Long,‰ΩÜÊòØ‰∏çÂª∫ËÆÆ‰ΩøÁî®ÂåÖË£ÖÁ±ª.ÂÖ∂‰ªñÁ±ªÂûãÁöÑ ID ( UID Á≠â)ÂèØ‰ª•Ëá™Áî±ÂÆö‰πâÔºåÊü•ËØ¢Á≠âÊìç‰Ωú„ÄÇ news vs. persisted entitiesÂΩìÂàõÂª∫‰∏Ä‰∏™ÂØπË±°Êó∂ÔºåËøòÊ≤°ÊúâÂ≠òÂÖ•ÔºåÂÆÉ‰ª¨ÁöÑ ID ÊòØ 0.‰∏ÄÊó¶ËØ•ÂØπË±°Â≠òÂÖ•ÔºåObjectBox Â∞Ü‰∏∫ËØ•ÂØπË±°ÊåáÂÆö ID.ÂèØ‰ª•ÈÄöËøá put()ËøîÂõûÂÄºÊãøÂà∞ËØ• ID. ÊâÄ‰ª•Âú® ObjectBox ÂÜÖÈÉ®ÈÄöÂ∏∏Êää ID ‰Ωú‰∏∫‰∏Ä‰∏™Áä∂ÊÄÅÊåáÁ§∫Âô®,Â¶ÇÊûú‰∏∫ 0 Ë°®Á§∫Êñ∞ÂàõÂª∫Ôºå‰∏ç‰∏∫ 0 Ë°®Á§∫Â∑≤ÁªèÂ≠òÂÇ®„ÄÇÂÖ≥ËÅîÁâπÂà´‰æùËµñËøô‰∏™ÁâπÊÄß. ÁâπÊÆäÁöÑ Object IDsObject IDs ÂèØËÉΩÊòØ‰ªªÊÑè long ÂÄºÔºåÈô§‰∫Ü‰ª•‰∏ã‰∏§Áßç: 0: ÊàñËÄÖÂΩìÁ±ªÂûã‰∏∫ Long Êó∂‰∏∫ null,Ë¢´ËÆ§‰∏∫ÊòØÊñ∞ÂàõÂª∫ÔºåËøòÊú™Â≠òÂÇ®„ÄÇputËøô‰∏™ÂØπË±°ÊÄªÊòØ‰ºöÊèíÂÖ•‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåÂπ∂ÊåáÂÆö‰∏Ä‰∏™Êú™‰ΩøÁî®ËøáÁöÑ ID. 0xFFFFFFFFFFFFFFFF (-1 in Java): ObjectBox ‰øùÁïô„ÄÇ ObjectBox ÊåáÂÆö IDÂØπ‰∫éÊØè‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåObjectBox ÊääÊØîÂΩìÂâç box ‰∏≠ÊúÄÂ§ßÁöÑ ID ÂÄºÂ§ßÁöÑÊú™‰ΩøÁî®ÁöÑÂÄºÊåáÂÆöÁªôÊñ∞ÂØπË±°ÁöÑ ID.ÊØîÂ¶Ç box ‰∏≠Êúâ‰∏Ä‰∏™ ID ‰∏∫ 1 Âíå ID ‰∏∫ 100 ÁöÑÂØπË±°ÔºåÈÇ£‰πàÊñ∞ÂàõÂª∫ÂØπË±°ÁöÑ ID Â∞Ü‰∏∫ 101. ÈªòËÆ§Âè™Êúâ ObjectBox ÂèØ‰ª•ÊåáÂÆö ID(üëá ‰ªãÁªç).Â¶ÇÊûúËØïÂõæËá™Â∑±Â≠òÂÖ•‰∏Ä‰∏™ ID ÊØîÂΩìÂâç ID ÂÄºÊúÄÂ§ßÁöÑËøòÂ§ßÁöÑÂØπË±°ÔºåObjectBox Â∞ÜÊäõÂá∫ÈîôËØØ„ÄÇ ÊâãÂä®ÊåáÂÆö IDsÂ¶ÇÊûúÈúÄË¶ÅÊâãÂä®ÊåáÂÆö ID,ÈÇ£‰πàËØ∑Ê∑ªÂä†Â¶Ç‰∏ãÊ≥®Ëß£: 12@Id(assignable = true)long id; ËøôÂ∞Ü‰ºöÂÖÅËÆ∏Â≠òÂÖ•‰ªªÊÑèÂÄº ID ÁöÑÂØπË±°„ÄÇÂΩìÁÑ∂ËÆæÁΩÆ ID ‰∏∫ 0 Êó∂ÔºåObjectBox Â∞ÜÂà∂ÂÆöÊñ∞ ID Ëá™ÂÆö‰πâ ID ‰ºöÊâìÁ†¥Ëá™Âä®Áä∂ÊÄÅÊåáÁ§∫ÁõëËßÜ(new vs. persisted). ÊâÄ‰ª•Â∫îËØ•Á´ãÂç≥Â≠òÂÖ•ËØ•Ëá™ÂÆö‰πâ ID ÂØπË±°ÔºåÂèØËÉΩËøòÂæóÊâãÂä®ÁªëÂÆö boxÔºåÁâπÂà´Âú®ÂÖ≥ËÅîÁä∂ÂÜµ‰∏ã. ID ÁöÑ String Âà´Âêç (ËøòÂú®Ë∑Ø‰∏ä‚Ä¶)Êü•ÁúãÁâπÊÄßÂÆûÁé∞ËøõÂ∫¶String ID alias]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÈ´òÁ∫ß-1-ÈÖçÁΩÆ]]></title>
    <url>%2F2019%2F02%2F26%2FObjectBox%E9%AB%98%E7%BA%A7-1-%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[ÊâãÂä®Ê∑ªÂä†‰æùËµñÂ∫ìÂ¶ÇÊûú ObjectBox Êèí‰ª∂Ê≤°ÊúâËá™Âä®Ê∑ªÂä†‰æùËµñÂ∫ìÂíåÊ≥®Ëß£Â§ÑÁêÜÂô®ÔºåÈÇ£‰πàÊâãÂä®Ê∑ªÂä†„ÄÇ 12345dependencies &#123; // all below should be added automatically by the plugin compile "io.objectbox:objectbox-android:$objectboxVersion" annotationProcessor "io.objectbox:objectbox-processor:$objectboxVersion"&#125; 1234567dependencies &#123; // all below should be added automatically by the plugin compile "io.objectbox:objectbox-android:$objectboxVersion" kapt "io.objectbox:objectbox-processor:$objectboxVersion" // some useful Kotlin extension functions compile "io.objectbox:objectbox-kotlin:$objectboxVersion"&#125; ÊîπÂèò model Êñá‰ª∂‰ΩçÁΩÆÈªòËÆ§ model Êñá‰ª∂‰Ωç‰∫é module-name/objectbox-models/default.json. 123456789android &#123; defaultConfig &#123; javaCompileOptions &#123; annotationProcessorOptions &#123; arguments = [ "objectbox.modelPath" : "$projectDir/schemas/objectbox.json".toString() ] &#125; &#125; &#125;&#125; 12345kapt &#123; arguments &#123; arg("objectbox.modelPath", "$projectDir/schemas/objectbox.json") &#125;&#125; ÊîπÂèò MyObjectBox ÁöÑÂåÖÂêçÈªòËÆ§ MyObjectBox Á±ªÂåÖÂêçÂíå entity Á±ªÊàñÂÖ∂Áà∂Á±ªÁöÑÂåÖÂêçÁõ∏Âêå. 123456789android &#123; defaultConfig &#123; javaCompileOptions &#123; annotationProcessorOptions &#123; arguments = [ "objectbox.myObjectBoxPackage" : "com.example.custom" ] &#125; &#125; &#125;&#125; 12345kapt &#123; arguments &#123; arg("objectbox.myObjectBoxPackage", "com.example.custom") &#125;&#125; ÂºÄÂêØ debug Ê®°Âºè123456789android &#123; defaultConfig &#123; javaCompileOptions &#123; annotationProcessorOptions &#123; arguments = [ 'objectbox.debug' : 'true' ] &#125; &#125; &#125;&#125; 12345kapt &#123; arguments &#123; arg("objectbox.debug", true) &#125;&#125; greenDAO ÂÖºÂÆπÊü•ÁúãgreenDAO ÂÖºÂÆπÈÖçÁΩÆ]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-12-‰∫ãÂä°]]></title>
    <url>%2F2019%2F02%2F26%2FObjectBox%E5%85%A5%E9%97%A8-12-%E4%BA%8B%E5%8A%A1%2F</url>
    <content type="text"><![CDATA[ObjectBox ÊòØ‰∏Ä‰∏™Êª°Ë∂≥ ACID ÁâπÊÄßÁöÑ‰∫§ÊòìÂûãÊï∞ÊçÆÂ∫ì.‰∏Ä‰∏™‰∫ãÂä°ÂèØ‰ª•ÂåÖÂê´‰∏ÄÁªÑÊìç‰ΩúÔºåË¶Å‰πàÊâßË°åÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇÂá†‰πéÊâÄÊúâÁöÑ ObjectBox ÁöÑÊìç‰ΩúÈÉΩÂåÖÂê´‰∫Ü‰∫ãÂä°„ÄÇÊØîÂ¶Ç put(),read()„ÄÇÊôÆÈÄöÊÉÖÂÜµ‰∏ãÔºå‰∏çÁî®ÂÖ≥ÂøÉËøô‰∫õÂ∫ïÂ±ÇÁöÑ‰∫ãÂä°„ÄÇ‰ΩÜÊüê‰∫õÂ§çÊùÇÁöÑÊÉÖÂÜµ‰∏ãÔºåÊâãÂä®Â§ÑÁêÜ‰∫ãÂä°Êìç‰ΩúÂèØ‰ª•‰Ωø‰Ω†ÁöÑ app Êõ¥Âä†È´òÊïà‰∏ÄËá¥„ÄÇ ÊâãÂä®‰∫ãÂä°ObjectBox Êèê‰æõ‰∫ÜÂ¶Ç‰∏ãÊñπÊ≥ïÂÆûÁé∞ÊâãÂä®‰∫ãÂä°Ôºö runInTx: Âú®‰∫ãÂä°‰∏≠ËøêË°åÊåáÂÆöÁöÑ runnable runInReadTx: Âú®‰∏Ä‰∏™Âè™ËØªÁöÑ‰∫ãÂä°‰∏≠ËøêË°åÊåáÂÆöÁöÑ runnable.‰∏çÂêå‰∫éÂÜôÂÖ•‰∫ãÂä°ÔºåÂ§ö‰∏™Âè™ËØª‰∫ãÂä°ÂèØ‰ª•ÂêåÊó∂ËøêË°å„ÄÇ runInTxAsync: Âú®Âè¶‰∏Ä‰∏™Á∫øÁ®ã‰∏≠ËøêË°åÊåáÂÆöÁöÑ runnable.‰∏ÄÊó¶‰∫ãÂä°ÊâßË°åÂÆåÊØïÔºåcallback(ÂèØ‰∏∫ null) Â∞ÜË¢´Ë∞ÉÁî®. callInTx: Á±ª‰ºº runInTx(Runnable),‰ΩÜÊòØÊúâËøîÂõûÂÄºÊàñÊäõÂá∫ÂºÇÂ∏∏. ÂØπÊâπÈáèÂ≠òÂÖ•Êìç‰ΩúËøõË°åÊâãÂä®‰∫ãÂä°ÁöÑ‰ºòÂäøÊòØ‰Ω†ÂèØ‰ª•ÂÆûÁé∞‰ªªÊÑèÊï∞ÈáèÁöÑÊìç‰ΩúÔºå‰ΩøÁî®Â§ö‰∏™ box ÂØπË±°„ÄÇÂêåÊó∂ÔºåÂú®‰∫ãÂä°ÊâßË°åËøáÁ®ã‰∏≠ÔºåÂèØ‰ª•ÂØπÊï∞ÊçÆÊúâ‰∏Ä‰∏™Áõ¥ËßÇÁöÑËÆ§Áü•„ÄÇ 1234567// ÂÜôÂÖ•‰∫ãÂä°boxStore.runInTx(() -&gt; &#123; for (User user: allUsers) &#123; if (modify(user)) box.put(user); else box.remove(user); &#125;&#125;) ‰∫ãÂä°‰ª£‰ª∑ÁêÜËß£‰∫ãÂä°ÂèØ‰ª•ÂæàÂ•ΩÁöÑÂ∏ÆÂä©ÊéåÊè°Êï∞ÊçÆÂ∫ìÊÄßËÉΩ„ÄÇËØ∑Ê≥®ÊÑè: ÂÜôÂÖ•‰∫ãÂä°‰ª£‰ª∑Â§ß.Êèê‰∫§‰∫ãÂä°ÂåÖÂê´‰∫ÜÂ∞ÜÊï∞ÊçÆÂêåÊ≠•Âà∞Áâ©ÁêÜÂ≠òÂÇ®‰∏≠ÁöÑÊìç‰ΩúÔºåËøôÂØπÊï∞ÊçÆÂ∫ìÊòØ‰∏Ä‰∏™Áõ∏ÂØπÊòÇË¥µÁöÑÊìç‰Ωú„ÄÇÂè™ÊúâÊñá‰ª∂Á≥ªÁªüÁ°ÆËÆ§ÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÂ≠òÂÇ®Ôºå‰∫ãÂä°Êìç‰ΩúÊâç‰ºöË¢´ËÆ§‰∏∫ÊòØÊàêÂäüÁöÑ„ÄÇ‰∫ãÂä°ÂêåÊ≠•ËØ•Êñá‰ª∂ÂèØËÉΩÈúÄË¶ÅÂá†ÊØ´Áßí„ÄÇËØ∑ËÆ∞‰ΩèÔºöÂ∞ΩÈáèÊääÂ§ö‰∏™Êìç‰Ωú(put Á≠â)ÊîæÂÖ•Âêå‰∏Ä‰∏™‰∫ãÂä°‰∏≠. 12345678910// ‰∏çÊé®Ëçêfor(User user: allUsers) &#123; modify(user); // modifies properties of given user box.put(user);&#125;// Êé®Ëçêfor(User user: allUsers) &#123; modify(user); // modifies properties of given user&#125;box.put(allUsers); ËØªÂèñ‰∫ãÂä°ObjectBox ÁöÑËØªÂèñ‰∫ãÂä°ÂæàÂø´„ÄÇÁõ∏ÂØπ‰∫éÂÜôÂÖ•‰∫ãÂä°ÔºåÊ≤°Êúâ commit Êìç‰ΩúÔºåÊâÄ‰ª•Ê≤°ÊúâÊòÇË¥µÁöÑÂêåÊ≠•Êñá‰ª∂Á≥ªÁªü„ÄÇËØ∑Ê≥®ÊÑèÔºöÂú®‰∏Ä‰∏™ËØªÂèñ‰∫ãÂä°‰∏≠ put Êìç‰ΩúÊòØÈùûÊ≥ïÁöÑÔºå‰ºöÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏„ÄÇget,count,queries Á≠âÊìç‰ΩúÊ≤°ÊúâÊâãÂä®Â£∞Êòé‰∫ãÂä°(ËØªÂÜô),ÈªòËÆ§‰ºöËøêË°åÂú®‰∏Ä‰∏™ËØªÂèñ‰∫ãÂä°.ËôΩÁÑ∂ËØªÂèñ‰∫ãÂä°ÊØîÂÜôÂÖ•‰∫ãÂä°‰ª£‰ª∑Â∞èÔºå‰ΩÜÊòØËøòÊòØÊúÄÂ•ΩÊääÂÆÉÊîæÂÖ•ËØªÂèñ‰∫ãÂä°‰∏≠„ÄÇ Â§öÁâàÊú¨ÁöÑÂπ∂ÂèëObjectBox Êèê‰æõ‰∫ÜËØ≠‰πâÂåñÁöÑÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂(Multiversion concurrency control MVCC).Â§ö‰∏™Âπ∂ÂèëËØªÂèñ(ËØªÂèñ‰∫ãÂä°)ÂèØ‰ª•Á´ãÂç≥ÊâßË°åÔºåÊó†ÈúÄÈòªÂ°ûÊàñÁ≠âÂæÖ„ÄÇËøôÊòØÈÄöËøáÂ≠òÂÇ®Â§ö‰∏™ÁâàÊú¨ÁöÑÔºàÊèê‰∫§ÔºâÊï∞ÊçÆÊù•ÂÆûÁé∞ÁöÑ„ÄÇÂç≥‰æø‰∏Ä‰∏™ÂÜôÂÖ•‰∫ãÂä°Ê≠£Âú®ËøêË°åÔºåËØªÂèñ‰∫ãÂä°‰πüÂèØ‰ª•Á´ãÂç≥Ëé∑ÂèñÂà∞ÊúÄÊñ∞ÁöÑÂêåÊ≠•Áä∂ÊÄÅ„ÄÇÂÜôÂÖ•‰∫ãÂä°ÊåâÈ°∫Â∫èÊâßË°å‰ª•‰æøÁä∂ÊÄÅ‰∏ÄËá¥„ÄÇÊâÄ‰ª•‰øùËØÅÂÜôÂÖ•‰∫ãÂä°Áü≠Â∞èÂèØ‰ª•ÈÅøÂÖçÈòªÂ°ûÂÖ∂‰ªñÂÜôÂÖ•‰∫ãÂä°„ÄÇÂõ†Ê≠§Âú®‰∏Ä‰∏™ÂÜôÂÖ•‰∫ãÂä°‰∏≠ÊâßË°åÁΩëÁªúÊìç‰ΩúÊàñÂ§çÊùÇËÆ°ÁÆó‰∏çÊé®Ëçê„ÄÇÂ∞ΩÈáèÂú®ÂÜôÂÖ•‰∫ãÂä°ÂâçÂÆåÊàêËøô‰∫õÊìç‰Ωú„ÄÇ Ê≥®ÊÑè‰∏çÈúÄË¶ÅËá™Â∑±ÊâãÂä®Áª¥ÊåÅÂÜôÂÖ•‰∫ãÂä°Â∫èÂàó„ÄÇÂ¶ÇÊûúÂ§öÁ∫øÁ®ãÊÉ≥ÂêåÊó∂ÊâßË°åÂÜôÂÖ•‰∫ãÂä°(put,runInTx),Âêå‰∏ÄÊó∂ÂàªÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÂèØ‰ª•ÊâßË°åÔºåÂÖ∂‰ªñÂøÖÈ°ªÁ≠âÂæÖ„ÄÇÁ±ª‰ºº Java ‰∏≠ÁöÑ lock Êàñ synchronized„ÄÇ Ê∑±ÂÖ•ÂÜôÂÖ•‰∫ãÂä°Â∞ΩÈáèÈÅøÂÖçÂú®ÂÜôÂÖ•‰∫ãÂä°‰∏≠‰ΩøÁî®ÈîÅ(synchronized Êàñ java.util.concurrent.locks).Âõ†‰∏∫ÂÜôÂÖ•‰∫ãÂä°ËøêË°åË¥πÊó∂ÔºåÊâÄ‰ª• ObjectBox ÂÜÖÈÉ®‰ºöËé∑Âèñ‰∏Ä‰∏™ÂÜôÂÖ•ÈîÅ„ÄÇÂΩìËÆæËÆ°Â§ö‰∏™ÈîÅÊó∂ÔºåËØ∑ÊèêÈ´òË≠¶ÊÉï„ÄÇÂßãÁªà‰ª•Áõ∏ÂêåÁöÑÈ°∫Â∫èËé∑ÂèñÈîÅÂèØ‰ª•ÈÅøÂÖçÊ≠ªÈîÅ„ÄÇÂ¶ÇÊûúÂú®‰∏Ä‰∏™‰∫ãÂä°Ëé∑Âèñ‰∫Ü X ÈîÅÔºåËØ∑‰øùËØÅ‰Ω†ÁöÑ‰ª£Á†ÅÂú®ÊåÅÊúâ X ÈîÅÊó∂Ê≤°ÊúâÂú®Âè¶Â§ñ‰∏Ä‰∏™ÂÜôÂÖ•‰∫ãÂä°‰∏≠ÊâßË°å.]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-11-Data Browser]]></title>
    <url>%2F2019%2F02%2F26%2FObjectBox%E5%85%A5%E9%97%A8-11-Data-Browser%2F</url>
    <content type="text"><![CDATA[Data Browser ÂÖ∑ÊúâÂ¶Ç‰∏ãÂäüËÉΩ: Êü•ÁúãÊï∞ÊçÆÂ∫ìÁöÑ entities Âíå schema ‰∏ãËΩΩ JSON Ê†ºÂºèÁöÑ entities ÈÖçÁΩÆ1234567dependencies &#123; debugImplementation "io.objectbox:objectbox-android-objectbrowser:$objectboxVersion" releaseImplementation "io.objectbox:objectbox-android:$objectboxVersion"&#125;// apply the plugin after the dependencies blockapply plugin: 'io.objectbox' ‰∏çËøôÊ†∑ËÆæÁΩÆÂèØËÉΩÂá∫Áé∞ Duplicate files copied in APK lib/armeabi-v7a/libobjectbox.so ËøôÊ†∑ÁöÑÈîôËØØ.Âõ†‰∏∫ ObjectBox Êèí‰ª∂ÂèàÊ∑ªÂä†‰∫Ü‰∏ÄÊ¨° objectbox-android Â∫ì Âú® AndroidManifest.xml Ê∑ªÂä†Â¶Ç‰∏ãÊùÉÈôê(2.2.0 ÂêéÈúÄË¶Å) 1234&lt;!-- Required to provide the web interface --&gt;&lt;uses-permission android:name="android.permission.INTERNET" /&gt;&lt;!-- Required to run keep-alive service when targeting API 28 or higher --&gt;&lt;uses-permission android:name="android.permission.FOREGROUND_SERVICE"/&gt; Âª∫ËÆÆÂú® Application Á±ª‰∏≠Ê∑ªÂä† 12345boxStore = MyObjectBox.builder().androidContext(this).build();if (BuildConfig.DEBUG) &#123; boolean started = new AndroidObjectBrowser(boxStore).start(this); Log.i("ObjectBrowser", "Started: " + started);&#125;]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-10-ÂÖ≥ËÅî]]></title>
    <url>%2F2019%2F02%2F25%2FObjectBox%E5%85%A5%E9%97%A8-10-%E5%85%B3%E8%81%94%2F</url>
    <content type="text"><![CDATA[Object ‰πãÈó¥ÁöÑÂÖ≥ËÅîÂÖ∑ÊúâÊñπÂêëÊÄß.ÂÖ≥ËÅîÊòØÂª∂ËøüÂàùÂßãÂåñÁöÑÔºöÂÆûÈôÖÁöÑÂºïÁî®ÂØπË±°Âè™ÊúâÂú®Ë∞ÉÁî®Êó∂Êâç‰ºö‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Âä†ËΩΩ„ÄÇ‰∏ÄÊó¶Âä†ËΩΩËøáÔºåÂ∞±‰ºöÁºìÂ≠òËµ∑Êù•. To-One ÂÖ≥ËÅî‰ΩøÁî® ToOne ‰ºöÊô∫ËÉΩÁöÑÂØπÁõÆÊ†áÂØπË±°ÂàõÂª∫ÂÖ≥ËÅî„ÄÇÂêåÊó∂Ëé∑ÂèñÁõÆÊ†áÂØπË±°ÁºìÂ≠ò„ÄÇ 12345678910111213141516// Customer.java@Entitypublic class Customer &#123; @Id public long id;&#125;// Order.java@Entitypublic class Order &#123; @Id public long id; public ToOne&lt;Customer&gt; customer;&#125;// ‰∏∫‰∫ÜÁªëÂÆö customer ÂØπË±°ÔºåÂØπ ToOne ÂÆû‰æãË∞ÉÁî® setTarget() ÁÑ∂ÂêéÂ∞±Â≠òÂÖ• order ÂØπË±°Customer customer = new Customer();Order order = new Order();order.customer.setTarget(customer);long orderId = boxStore.boxFor(Order.class).put(order); Â¶ÇÊûú customer Âú®Êï∞ÊçÆÂ∫ì‰∏≠‰∏çÂ≠òÂú®ÔºåToOne Â∞Ü‰ºöÂ≠òÂÇ®„ÄÇÂ¶ÇÊûúÂ∑≤ÁªèÂ≠òÂú®ÔºåÈÇ£‰πà ToOne Âè™‰ºöÂàõÂª∫ÂÖ≥ËÅî,‰∏ç‰ºöÂ≠òÂÇ®.Â¶ÇÊûúÂÖ≥ËÅî Entity ‰ΩøÁî®ÁöÑÊòØËá™ÂÆö‰πâ IDs(@Id(assignable = true)),ÂàôËØ• Entity ‰∏ç‰ºöË¢´Â≠òÂÇ®. Âú® ToOne ÂÆû‰æã‰∏≠ÔºåÂèØÈÄöËøá Order ÂØπË±°ÁöÑ getTarget() Ëé∑Âèñ customer 12Order order = boxStore.boxFor(Order.class).get(orderId);Customer customer = order.customer.getTarget(customer); Â¶ÇÊûúÂè™ÊòØÊÉ≥Ë¶ÅËé∑Âèñ ID ËÄå‰∏çÊòØÊï¥‰∏™ÁõÆÊ†áÂØπË±°ÔºågetTargetId() ÂÄºÂæóÊã•ÊúâÔºåÊ≠§ÊñπÊ≥ïÊ†πÊú¨‰∏ç‰ºöÊé•Ëß¶Êï∞ÊçÆÂ∫ìÔºåÊâÄ‰ª•È´òÊïà„ÄÇ ÁßªÈô§ÂÖ≥ËÅî: ‰ªÖÁßªÈô§ÂÖ≥ËÅîÂÖ≥Á≥ªÔºåËÄå‰∏ç‰ºö‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ÁßªÈô§ÁõÆÊ†áÂØπË±°„ÄÇ 12order.customer.setTarget(null);boxStore.boxFor(Order.class).put(order); Êü•Áúã objectbox-models/default.json ‰ºöÂèëÁé∞ÔºåToOne Â±ûÊÄßÊ†πÊú¨Ê≤°Êúâ‰øùÂ≠ò„ÄÇ‰ªÖ‰ªÖÂè™ÊòØÁõÆÊ†áÂØπË±°ÁöÑ ID ‰øùÂ≠òÂú®‰∏Ä‰∏™ÂêçÁß∞Âíå ToOne Â±ûÊÄßÂêéÊãºÊé• Id ÁöÑËôöÊãüÂ±ûÊÄß. ÂàùÂßãÂåñÈ≠îÊúØÊ≥®ÊÑèÂà∞ ToOne Â±ûÊÄß customer ‰ªéÊ≤°ÂàùÂßãÂåñÔºåÁÑ∂ËÄåË∞ÉÁî®Êó∂Âç¥‰∏ç‰ºöÊäõÂá∫Á©∫ÊåáÈíàÂºÇÂ∏∏„ÄÇÂõ†‰∏∫ËØ•ÂàùÂßãÂåñÂ∑≤ÁªèÊâßË°åËøá‰∫Ü„ÄÇObjectBox Êèí‰ª∂‰ºöÂØπ entity Á±ª(‰ªÖÊîØÊåÅÁ∫Ø Java È°πÁõÆÂíå Android È°πÁõÆ) Âú®Ë∞ÉÁî®ÂâçÊ≠£Á°ÆÁöÑÂàùÂßãÂåñ„ÄÇÊâÄ‰ª•Âú®Ëá™ÂÆö‰πâÊûÑÈÄ†ÊñπÊ≥ïÊó∂Ôºå‰Ω†ÂèØ‰ª•ÂÅáËÆæ ToOne/ToMany/List Â±ûÊÄßÂ∑≤ÁªèÂàùÂßãÂåñËøá‰∫Ü„ÄÇ 1234567891011121314@Entitypublic class Example &#123; ToOne&lt;Order&gt; order; ToMany&lt;Order&gt; orders; transient BoxStore __boxStore; public Example() &#123; // this.order = new ToOne&lt;&gt;(this, Example_.order); this.orders = new ToMany&lt;&gt;(this, Example_.orders); &#125; public Example(String value) &#123; this(); &#125;&#125; ÊèêÂçáÊÄßËÉΩ‰∏∫‰∫ÜÊèêÈ´òÊÄßËÉΩÔºåËØ∑Êèê‰æõÂÖ®ÂèÇÊï∞ÊûÑÈÄ†ÊñπÊ≥ï„ÄÇÂØπ‰∫é ToOne Â±ûÊÄßÔºåËØ∑Ê∑ªÂä†‰∏Ä‰∏™Âêç‰∏∫ ToOne Â±ûÊÄßÂêçÂä† Id ÁöÑ id ÂèÇÊï∞„ÄÇÂèØ‰ª•ÂèÇËÄÉ objectbox-models/default.json ÈáåÁöÑÂëΩÂêç. 12345678910@Entitypublic class Order &#123; @Id public long id; public ToOne&lt;Customer&gt; customer; public Order() &#123; /* default constructor */ &#125; public Order(long id, long customerId /* virtual ToOne id property */) &#123; this.id = id; this.customer.setTargetId(customerId); &#125;&#125; ToMany ÂÖ≥ËÅîÂèØ‰ª•‰ΩøÁî® List Êàñ ToMany Á±ªÂûãÂÆûÁé∞ ToMany ÂÖ≥ËÅî.Áõ∏ÂØπ ToOne Êù•ËØ¥ÔºåToMany ÂèØ‰ª•ÂÆûÁé∞ËøΩË∏™Êï∞ÊçÆÂèòÂåñÂπ∂Â∞ÜÂÖ∂ÂÜôÂÖ•Êìç‰Ωú‰∏≠ÔºåËÄå List ÂøÖÈ°ªËá™Â∑±ÂÆûÁé∞. 1:N ‰ΩøÁî® @Backlink Ê≥®Ëß£ 1:N ÂÖ≥ËÅîÂ±ûÊÄß„ÄÇ 123456789101112131415161718192021222324252627282930313233343536// Customer.java@Entitypublic class Customer &#123; @Id public long id; // 'to' is optional if only one relation matches @Backlink(to = "customer") public ToMany&lt;Order&gt; orders;&#125;// Order.java@Entitypublic class Order &#123; @Id public long id; public ToOne&lt;Customer&gt; customer;&#125;Customer customer = new Customer();customer.orders.add(new Order());customer.orders.add(new Order());long customerId = boxStore.boxFor(Customer.class).put(customer); // puts customer and ordersCustomer customer = boxStore.boxFor(Customer.class).get(customerId);for (Order order : customer.orders) &#123; // TODO&#125;Order order = customer.orders.remove(0);boxStore.boxFor(Customer.class).put(customer);// optional: also remove the order from its box// boxStore.boxFor(Order.class).remove(order); N:N 12345678910111213141516171819202122232425262728293031323334353637383940// Teacher.java@Entitypublic class Teacher&#123; @Id public long id;&#125;// Student.java@Entitypublic class Student&#123; @Id public long id; public ToMany&lt;Teacher&gt; teachers;&#125;Teacher teacher1 = new Teacher();Teacher teacher2 = new Teacher();Student student1 = new Student();student1.teachers.add(teacher1);student1.teachers.add(teacher2);Student student2 = new Student();student2.teachers.add(teacher2);// puts students and teachersboxStore.boxFor(Student.class).put(student1, student2);Student student1 = boxStore.boxFor(Student.class).get(student1.id);for (Teacher teacher : student1.teachers) &#123; // TODO&#125;student1.teachers.remove(0);// boxStore.boxFor(Student.class).put(student1);// more efficient than using put:student1.teachers.applyChangesToDb(); ‰∏äÈù¢ÂèØ‰ª•ÈÄöËøá student Áü•ÈÅì teacher ÁöÑ‰ø°ÊÅØÔºåÂΩìÁÑ∂ÂèØ‰ª•ÂèçËøáÊù• 1234567891011121314151617181920// Teacher.java@Entitypublic class Teacher&#123; @Id public long id; @Backlink(to = "teachers") // backed by the to-many relation in Student public ToMany&lt;Student&gt; students;&#125;// Student.java@Entitypublic class Student&#123; @Id public long id; public ToMany&lt;Teacher&gt; teachers;&#125; Êõ¥Êñ∞ÂÖ≥ËÅîToOne Âíå ToMany ÂèØ‰ª•ËøΩË∏™ÂèòÂåñÔºàÂè™Ë¶ÅÂ≠òÂÖ•Êã•ÊúâÂÖ≥ËÅîÂ±ûÊÄßÁöÑ entityÔºâÂπ∂Â∞ÜÂÖ∂Â≠òÂÖ•Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂ¶ÇÊûú ID != 0 ÊàñËÄÖ @Id(assignable = true) ÈÇ£‰πàÂèØ‰ª•ÈÄöËøá Box Êù•Êõ¥Êñ∞ÂÖ≥ËÅî 1234567// update a related entity using its boxOrder orderToUpdate = customer.orders.get(0);orderToUpdate.text = "Revised description";// DOES NOT WORK// boxStore.boxFor(Customer.class).put(customer);// WORKSboxStore.boxFor(Order.class).put(orderToUpdate); Êõ¥Êñ∞ ToOneToOne Á±ªÊèê‰æõ‰∫ÜÂ¶Ç‰∏ãÊñπÊ≥ïÊõ¥Êñ∞ÂÖ≥ËÅî: setTarget(entity): ÂàõÂª∫ÂÖ≥ËÅîÔºõ‰º†ÂÖ• null Ê∏ÖÈô§ÂÖ≥ËÅî setTargetId(entityId): ÂØπÂ≠òÂú®ÁöÑÁõÆÊ†á entity ÂàõÂª∫ÂÖ≥ËÅîÔºõ‰º†ÂÖ• 0 Ê∏ÖÈô§ÂÖ≥ËÅî. setAndPutTarget(entity): 12order.customer.setTarget(customer); // or order.customer.setCustomerId(customer.getId());orderBox.put(order); Â¶ÇÊûú entity Âú®Ë∞ÉÁî® setAndPutTarget() ‰πãÂâçËøòÊ≤°Â≠òÂÇ®,ÈÇ£‰πàÈúÄË¶ÅÂÖàÁªëÂÆöÂÆÉÁöÑ box 123Order order = new Order(); // new entityorderBox.attach(order); // need to attach box firstorder.customer.setAndPutTarget(customer); Â¶ÇÊûúÁõÆÊ†á entity ‰ΩøÁî®Ëá™ÂÆö‰πâ IDs,ÂøÖÈ°ªÂú®Êõ¥Êñ∞ ToOne ÂÖ≥ËÅîÊó∂Â≠òÂÇ®ÂÆÉ 1234customer.id = 12; // self-assigned idcustomerBox.put(customer); // need to put customer firstorder.customer.setTarget(customer); // or order.customer.setCustomerId(customer.getId());orderBox.put(order); ËøôÊòØÂõ†‰∏∫ ObjectBox Âè™‰øùÂ≠ò id ‰∏∫ 0 ÁöÑÂÖ≥ËÅîÂØπË±°. Êõ¥Êñ∞ ToManyToMany ÂÆûÁé∞‰∫Ü java.lang.List Êé•Âè£„ÄÇÂ¶ÇÊûúÂêë ToMany ÂÆû‰æãÊ∑ªÂä†ÂØπË±°ÔºåËøô‰∫õÂØπË±°Â∞±‰ºöË¢´Â≠òÂÇ®ËøõÊï∞ÊçÆÂ∫ì„ÄÇÁßªÈô§‰πü‰∏ÄÊ†∑„ÄÇÔºà‰ªÖ‰ªÖÊòØÂÖ≥ËÅîË¢´ÁßªÈô§ËÄåÂ∑≤Ôºâ.‰∏çË¶ÅÂøòËÆ∞ÊääËøΩË∏™ ToMany ÊîπÂèòÁöÑ own entity ÂØπË±°Â≠òÂÇ®. 123customer.orders.add(order1);customer.orders.remove(order2);customerBox.put(customer); Â¶ÇÊûú‰ΩøÁî®Ëá™ÂÆö‰πâ IDs(@Id(assignable = true)) ËØ∑Âú®‰øÆÊîπ ToMany ÂâçÁªëÂÆöÂÆÉÁöÑ box 1234customer.id = 12; // self-assigned idcustomerBox.attach(customer); // need to attach box firstcustomer.orders.add(order);customerBox.put(customer); Â¶ÇÊûú entity ÊòØËá™ÂÆö‰πâ IDs,ÈÇ£‰πàÈúÄË¶ÅÂÖàÂ≠òÂÖ•ËØ• entity,ÁÑ∂ÂêéÂÜçÊõ¥Êñ∞ÂÖ≥ËÅîÂπ∂Â≠òÂÇ® own entity. 1234order.id = 42; // self-assigned idorderBox.put(order); // need to put order firstcustomer.orders.add(order);customerBox.put(customer); // put customer, add relation to order Ê†ëÂΩ¢ÂÖ≥ËÅîÂèØ‰ª•‰ΩøÁî® ToOne,ToMany Â§ÑÁêÜÊåáÂêëËá™Ë∫´ÁöÑÊ†ëÂΩ¢ÂÖ≥ËÅî 123456789@Entitypublic class TreeNode &#123; @Id long id; ToOne&lt;TreeNode&gt; parent; @BackLink ToMany&lt;TreeNode&gt; children;&#125; ÁîüÊàêÁöÑ entity ÂèØ‰ª•Ëé∑ÂèñÂÆÉÁöÑ parent Âíå children 12TreeNode parent = entity.parent.getTarget();List&lt;TreeNode&gt; children = entity.children;]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-9-ËÆ¢ÈòÖËßÇÂØü]]></title>
    <url>%2F2019%2F02%2F25%2FObjectBox%E5%85%A5%E9%97%A8-9-%E8%AE%A2%E9%98%85%E8%A7%82%E5%AF%9F%2F</url>
    <content type="text"><![CDATA[Data Observers, Reactive ExtensionsËÆ¢ÈòÖËßÇÂØüÊ®°ÂºèÔºåRx ÊîØÊåÅ 1234Query&lt;Task&gt; query = taskBox.query().equal(Task_.complete,false).build();query.subscribe(subscriptions) .on(AndroidScheduler.mainThread()) .observer(data -&gt; updateUi(data)); Data ObserversÂΩìÊï∞ÊçÆÊîπÂèòÊó∂ÔºåObjectBox ‰ºöÈÄöÁü•ÊâÄÊúâÁöÑËÆ¢ÈòÖËÄÖ.‰ªñ‰ª¨ÂèØ‰ª•ËÆ¢ÈòÖÁ°ÆÂÆöÁöÑÊï∞ÊçÆÁ±ªÂûã(ÈÄöËøá BoxStore)ÊàñÊü•ËØ¢ÁªìÊûúÈõÜ„ÄÇÂÆûÁé∞ io.objectbox.reactive.DataObserver Âç≥ÂèØÂàõÂª∫ËßÇÂØüËÄÖ 1234interface DataObserver&lt;T&gt; &#123; void onData(T data);&#125;| onData() ÂºÇÊ≠•Ë∞ÉÁî®Ôºå‰∏çÁî®ÂÖ≥ÂøÉÁ∫øÁ®ã ËÆ¢ÈòÖÊôÆÈÄöÊîπÂèò123456DataObserver&lt;Class&lt;Task&gt;&gt; taskObserver = new DataObserver&lt;Class&lt;Task&gt;&gt;() &#123; @Override public void onData(Class&lt;Note&gt; data)&#123;&#125;&#125;;boxStore.subscribe(Task.class).observer(taskObserver);| subscribe() ‰ºöÊé•ÂèóÊâÄÊúâÂèØÁî®ÁöÑÂØπË±°Á±ªÂûãÊîπÂèòÈÄöÁü•„ÄÇ ËÆ¢ÈòÖÊü•ËØ¢12Query&lt;Task&gt; query = taskBox.query().equal(Task_.completed, false).build();subscription = query.subscribe().observer(data -&gt; updateUi(data)); ÂèñÊ∂àËÆ¢ÈòÖÂΩìË∞ÉÁî® observer() Êó∂ÔºåËøîÂõû io.objectbox.reactive.DataSubscription 1234interface DataSubscription &#123; void cancel(); boolean isCanceled();&#125; 1234DataSubscription subscription = boxStore.subscribe().observer(myObserver);// At some later point:subscription.cancel(); ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÂª∫ËÆÆ‰ΩøÁî® DataSubscriptionList 123456789101112private DataSubscriptionList subscriptions = new DataSubscriptionList();protected void onStart() &#123; super.onStart(); Query&lt;X&gt; query = box.query()... .build(); query.subscribe(subscriptions)... .observe(...);&#125;protected void onStop() &#123; super.onStop(); subscriptions.cancel();&#125; ËÆ¢ÈòÖÔºå‰∫ãÂä°ÂΩì‰∫ãÂä°Êèê‰∫§Êó∂ÂèëÂá∫ËÆ¢ÈòÖÈÄöÁü•„ÄÇÂçïÁã¨Ë∞ÉÁî®box.put(),remove() ÔºåÈªòËÆ§ÁöÑ‰∫ãÂä°‰ºöÂºÄÂêØÊèê‰∫§„ÄÇ‰æãÂ¶ÇÂ¶Ç‰∏ãÂ∞ÜËß¶Âèë‰∏§Ê¨° User.class ÈÄöÁü•Ôºõ 12box.put(firendUser);box.put(myUser); ‰ΩøÁî® runInTx(),callInTx() ÂèØ‰ª•Â∞ÜÂ§ö‰∏™Êìç‰ΩúÂú®Âêå‰∏Ä‰∏™ÂçÅ‰∫î‰∏≠Êèê‰∫§.Â¶Ç‰∏äÂèØ‰ª•‰øÆÊîπ‰∏∫: 1box.put(friendUser,myUser); ÂìçÂ∫îÂºèÊâ©Â±ïÁ∫øÁ®ãÂàáÊç¢12Query&lt;Task&gt; query = taskBox.query().equal(Task_.complete, false).build();query.subscribe().on(AndroidScheduler.mainThread()).observer(data -&gt; updateUi(data)); ÂΩìÁÑ∂ÂèØ‰ª•‰ΩøÁî®Ëá™ÂÆö‰πâ Looper ÂàõÂª∫ AndroidScheduler,ÊàñËÄÖÂÆûÁé∞ io.objectbox.reactive.Scheduler Êü•ËØ¢Âú®ÂêéÂè∞Á∫øÁ®ãÊâßË°å DataTransformer ËøêË°åÂú®ÂêéÂè∞Á∫øÁ®ã DataObserver Âíå ErrorObserver ËøêË°åÂú®ÂêéÂè∞Á∫øÁ®ãÔºåÈô§ÈùûÈÄöËøá on() ÊåáÂÆö Êï∞ÊçÆËΩ¨Êç¢Â¶Ç‰ΩïËÆ¢ÈòÖÂÆûÈôÖÁöÑÂØπË±°Êï∞Èáè: 123boxStore.subscribe() .transform(clazz -&gt; return boxStore.boxFor(clazz).count()) .observer(count -&gt; updateCount(count)); ÂºÇÂ∏∏ËÆ¢ÈòÖtransformer ÂèØËÉΩÊäõÂá∫ÂêÑÁßçÂºÇÂ∏∏ÔºåDataObserver ÂèØËÉΩÊäõÂá∫ RuntimeException. 123public interface ErrorObserver &#123; void onError(Throwable th);&#125; Âú® subscribe() ÂêéË∞ÉÁî® onError() Âç≥ÂèØ. ‰∏ÄÊ¨°ÈÄöÁü• vs. ÊîπÂèòÂç≥ÈÄöÁü•ÂΩìËÆ¢ÈòÖ query ÂêéÔºåDataObserver ÂÖ∑ÊúâÂ¶Ç‰∏ãË°å‰∏∫Ôºö ÂàùÂßãÂåñÊü•ËØ¢ÁªìÊûú(Â∞±Âú®ËÆ¢ÈòÖÂêé) Êõ¥Êñ∞Êü•ËØ¢ÁªìÊûú(Âú®Êï∞ÊçÆÊîπÂèòÂêé) ÊúâÊó∂ÂÄô‰ªÖÂØπÂÖ∂‰∏≠‰∏ÄÁßçË°å‰∏∫ÊÑüÂÖ¥Ë∂£.single() Âíå onlyChange() Â∫îËøêËÄåÁîü(Âú® subscribe() ÂêéË∞ÉÁî®)single() Âè™ÂìçÂ∫î‰∏ÄÊ¨°ÈÄöÁü•Âç≥Ëá™Âä®ÂèñÊ∂à„ÄÇ Âº±ÂºïÁî®‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºå‰∏∫‰∫ÜÈÅøÂÖçÂÜÖÂ≠òÊ≥ÑÈú≤ÔºåÈÄöÂ∏∏Â∞ΩÂèØËÉΩÂú®‰∏çÈúÄË¶ÅÁöÑÊó∂ÂÄôÂèñÊ∂àËÆ¢ÈòÖ„ÄÇÂΩìÁÑ∂Ôºå‰Ω†‰∏çÂú®‰πéÁöÑËØùÔºåÂú® subscribe() ÂêéË∞ÉÁî® weak() ‰πüÂèØ‰ª•. ObjectBox RxJava Êâ©Â±ïÂ∫ì1implementation "io.objectbox:objectbox-rxjava:$objectboxVersion"]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-8-Êü•ËØ¢]]></title>
    <url>%2F2019%2F02%2F24%2FObjectBox%E5%85%A5%E9%97%A8-8-%E6%9F%A5%E8%AF%A2%2F</url>
    <content type="text"><![CDATA[Queries ‰ΩøÁî® QueryBuilder ÂÆö‰πâÊü•ËØ¢Ê†áÂáÜÔºåQuery Á±ªËøêË°åÊü•ËØ¢Âπ∂ËøîÂõûÂåπÈÖçÁªìÊûú QueryBuilder QueryBuilder ‰ΩøÁî®ÁºñËØëÁîüÊàêÁöÑÂÖÉ‰ø°ÊÅØÁ±ªÊù•ÊåáÂÆöË¶ÅÂåπÈÖçÁöÑÂ±ûÊÄßÂÄº„ÄÇ 1234567List&lt;user&gt; joes = userBox.query().equal(User_.firstName,"Joe").build().find();QueryBuilder&lt;User&gt; builder = userBox.query();builder.equal(User_.firstName,"Joe") .greater(User_.yearOfBirth,1970) .startsWith(User_.lastName,"O");List&lt;User&gt; youngJoes = builder.build().find(); ËæπÁïåÊù°‰ª∂ equal(),notEqual(),greater(),less() isNull(),notNull() between() in(),notIn() startsWith(),endsWith(),contains() and(),or() ÊéíÂ∫è1234567userBox.query().equal(User_.firstName,"Joe") .order(User_.lastName) // ÂçáÂ∫èÊéíÂàó,ÂøΩÁï•Â§ßÂ∞èÂÜô .find();userBox.query().equal(User_.firstName,"Joe") .order(User_.lastName,QueryBuilder.DESCENDING | QueryBuilder.CASE_SENSITIVE) .find(); Query1234567Query&lt;User&gt; query = builder. build();// ËøîÂõûÊâÄÊúâÂåπÈÖçÁöÑÂØπË±°List&lt;User&gt; joes = query.find();// ËøîÂõûÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÁöÑÂØπË±°ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®ËøîÂõû nullUser joe = query.findFirst();// ËøîÂõûÂîØ‰∏Ä‰∏Ä‰∏™ÂåπÈÖçÁöÑÂØπË±°ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®ËøîÂõû null,Â¶ÇÊûúÊúâÂ§ö‰∏™ÂÄºÊäõÂá∫ÂºÇÂ∏∏User joe = query.findUnique(); Â¶ÇÊûúÊòØ‰∏çÊñ≠ÁöÑÊâßË°å Query,ÈÇ£‰πàÂ∫îËØ•ÁºìÂ≠ò Query ÂØπË±°ÔºåÈáçÂ§ç‰ΩøÁî®„ÄÇ‰∏∫‰∫ÜÂ§çÁî® Query ÂØπË±°ÔºåÂèØ‰ª•ÊîπÂèòÂÆÉÁöÑÂ±ûÊÄßÂÄºÔºåÊàñÊü•ËØ¢ÂèÇÊï∞ÔºåÊàñÊ∑ªÂä†ÁöÑÂêÑÁßçËæπÁïåÊù°‰ª∂„ÄÇ 12345// ÂÅáËÆæÂ∑≤ÁªèÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ Query ÂØπË±°Ôºå‰ΩÜÊòØ‰∏∫‰∫ÜÂêéÈù¢Â§çÁî®ÔºåÊ≠§Â§Ñ equal ËæπÁïåÊù°‰ª∂ÁöÑÂÄºËÆæÁΩÆ‰∏∫ ""Query&lt;User&gt; query = userBox.query().equal(User_.firstName,"").build();// Êé•‰∏ãÊù•ÂèØ‰ª•Ê†πÊçÆÂÖ∑‰ΩìÊÉÖÂÜµÊîπÂèòÂèÇÊï∞ÂÄºList&lt;User&gt; joes = query.setParameter(User_.firstName,"Joe").find();List&lt;User&gt; jakes = query.setParameter(User_.firstName,"Jake").find(); Â¶ÇÊûúÊòØÂ§ö‰∏™ËæπÁïåÊù°‰ª∂ÔºåÂèØ‰ª•Âú®ËæπÁïåÊù°‰ª∂ÂêéÁªôÊØè‰∏Ä‰∏™ÂèÇÊï∞ËÆæÁΩÆ‰∏Ä‰∏™Âà´Âêç 1234// Áªô equal() Êü•ËØ¢ÂèÇÊï∞ËÆæÁΩÆ name Âà´ÂêçQuery&lt;User&gt; query = userBox.query().equal(User_.firstName,"").parameterAlias("name");// ÁÑ∂ÂêéÂèØ‰ª•‰º†ÂÖ•ÈîÆÂÄºÂØπÊù•‰ª£ÊõøÂ±ûÊÄßList&lt;User&gt; joes = query.setParameter("name","Joe").find(); Limit,Offset,Pagination12Query&lt;User&gt; query = userBox.query().equal(User_.firstName,"Joe").build();List&lt;User&gt; joes = query.find(/*offset*/10,/*limit*/5,/*results*/); Âª∂ËøüÂä†ËΩΩ findLazy(),findLazyCached() ËøîÂõû LazyList Êü•ËØ¢ÁªìÊûú„ÄÇ LazyList ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå‰∏çÂèØ‰øÆÊîπÁöÑÂè™ËØª list,Âè™ÊúâÂú®ËÆøÈóÆÊó∂Êâç‰ºöÂä†ËΩΩÊï∞ÊçÆ„ÄÇÁºìÂ≠ò LazyList ÂèØ‰ª•‰øùÁïô‰πãÂâçËÆøÈóÆËøáÁöÑÊï∞ÊçÆ‰ª•ÈÅøÂÖçÈáçÂ§çÂä†ËΩΩ„ÄÇ Âà†Èô§query.remove() Âà†Èô§ÊâÄÊúâÂåπÈÖçÁöÑÁªìÊûú Â±ûÊÄßÊü•ËØ¢Â¶ÇÊûúÂè™ÊÉ≥ËøîÂõûÊüê‰∏™ÊåáÂÆöÂ±ûÊÄßÁöÑÂÄºËÄå‰∏çÊòØÂåπÈÖçÁöÑÂÖ®ÈÉ®ÂØπË±°ÂàóË°®ÔºåÈÇ£‰πàËØ∑‰ΩøÁî® PropertyQuery.Âú®ÊûÑÂª∫ query ÂêéË∞ÉÁî® property(Property) Âç≥ÂèØ 123String[] emails = userBox.query().build() .property(User_.mail) .findStrings(); findString() ËøîÂõûÁ¨¨‰∏ÄÊù°ÁªìÊûúÔºåfindStrings() ËøîÂõûÊâÄÊúâÁªìÊûú ËøîÂõûÁöÑÊòØÊ≤°ÊúâÊéíÂ∫èÁöÑÁªìÊûúÔºåÂç≥‰ΩøÂú®ÊûÑÂª∫ query Êó∂ÊåáÂÆö‰∫ÜÊéíÂ∫èËßÑÂàô. Â§ÑÁêÜ null ÂÄºÈªòËÆ§‰∏çËøîÂõû null ÂÄº„ÄÇÂ¶ÇÊûúÂ±ûÊÄß‰∏∫ nullÔºåÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™Êõø‰ª£ËøîÂõûÂÄº 12345// Â¶ÇÊûú email ‰∏∫ null,ËøîÂõû unknownString[] emails = userBox.query() .property(UserBox_.mail) .nullValue("unknown") .findStrings(); distinctÔºåunique12345// ËøîÂõû ‚Äòjoe'String[] names = userBox.query() .property(User_.firstName) .distinct() .findStrings(); ÈªòËÆ§ strings ÂøΩÁï•Â§ßÂ∞èÂÜô„ÄÇÂΩìÁÑ∂ÂèØ‰ª•ÂÆöÂà∂ 12345// ËøîÂõû 'joe' 'Joe' 'JOE'String[] names = userBox.query() .property(User_.firstName) .distinct(StringOrder.CASE_SENSITIVE) .findStrings(); Âè™Êü•ËØ¢‰∏Ä‰∏™ÂÄºÔºåÊ≤°ÊúâÂàôÊäõÂá∫ÂºÇÂ∏∏ 1234String[] names = userBox.query().build().equal(User_.isAdmin, true) .property(User_.firstName) .unique() .findStrings(); distinct Âíå unique ÂèØ‰ª•ÁªÑÂêà ÁªüËÆ°Â±ûÊÄßÊü•ËØ¢ÂêåÊó∂Êèê‰æõ‰∫ÜÁªüËÆ°ÂáΩÊï∞„ÄÇ min(),minDouble() max(),maxDouble() sum,sumDouble(): sum() ÂèØËÉΩÊ∫¢Âá∫Âπ∂ÊäõÂá∫ÂºÇÂ∏∏ avg(): ËøîÂõû double count(): ÊØîÊü•ËØ¢Âà∞ÂØπË±°ÂàóË°®ÁÑ∂ÂêéÊ±ÇÂàóË°®ÈïøÂ∫¶Ë¶ÅÂø´„ÄÇÂèØ‰ª•Âíå distinct() ÁªÑÂêà ‰∏∫ÂÖ≥ËÅîÂ±ûÊÄßÊ∑ªÂä†Êü•ËØ¢Êù°‰ª∂ÂàõÂª∫ÂÖ≥ËÅîÂ±ûÊÄßÂêéÔºåÂèØËÉΩÊÉ≥‰∏∫Âè™Â≠òÂú®‰∫éÂÖ≥ËÅî entity ÁöÑÂ±ûÊÄßÊ∑ªÂä†Êü•ËØ¢Êù°‰ª∂„ÄÇSQL ‰∏≠‰ΩøÁî® JOIN. 12345678910111213@Entityclass Person &#123; @Id var id: Long = 0 var name: String? = null lateinit var address: ToManay&lt;Address&gt;&#125;@Entityclass Address &#123; @Id var id: Long = 0 var street: String? = null var zip: String? = null&#125; Êü•ËØ¢‰ΩèÂú®ÊåáÂÆöË°óÈÅì(Address)ÁöÑ xxx(Person)„ÄÇÂèØ‰ª•‰ΩøÁî®link(RelationInfo 12345// Ëé∑ÂèñÊâÄÊúâÂêç‰∏∫ elmo ÁöÑÂØπË±°val builder = box.query().equal(Person_.name,"Elmo");// ‰ΩèÂú® Sesame Ë°óÈÅìbuilder.link(Person_.address).equal(Address_.street,"Sesame Street");val elmosOnSesameStreet = builder.build().find() Â¶ÇÊûúÊÉ≥Ëé∑ÂèñÂà∞ Address ÂàóË°®Âë¢ÔºüÈÇ£‰πàÂèØ‰ª•Âú® Address ‰∏≠Ê∑ªÂä† @Backlint Ê≥®Ëß£ 1234567891011@Entityclass Address &#123; // ... @Backlint(to = "addresses") lateinit var persons: ToMany&lt;Person&gt;&#125;// Ëé∑ÂèñÊâÄÊúâ Sesame Ë°óÈÅìÂØπË±°val builder = box.query().equal(Address_.street,"Sesame Street");// Âêç‰∏∫ elmobuilder.link(Address_.persons).equal(Person_.name,"Elmo");val sesameStreetsWithElmo = builder.build().find(); ÂΩìÁÑ∂Ôºå‰πüÂèØ‰ª•‰∏çÁî®‰øÆÊîπ Address,‰ΩøÁî® backlink(RelationInfo) Âç≥ÂèØÂÆûÁé∞Êü•ËØ¢ 123val builder = box.query().equal(Address_.street,"Sesame Street");builder.backlink(Person_.address).equal(Person_.name,"Elmo");val sesameStreetWithElmos = builder.build().find(); ÂÖ≥Á≥ªÂ±ûÊÄßÁöÑÊøÄËøõÂä†ËΩΩÈªòËÆ§ÂÖ≥Á≥ªÂ±ûÊÄßÊòØÊáíÂä†ËΩΩÁöÑ„ÄÇÁ¨¨‰∏ÄÊ¨°ËÆøÈóÆ ToOne ,ToMany Â±ûÊÄßÊó∂‰ºöÂà∞Êï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆÔºåÁÑ∂ÂêéÈÉΩ‰ºö‰ΩøÁî®ÁºìÂ≠òËøáÁöÑÊï∞ÊçÆ„ÄÇ 12val customers = customerBox.query().build().find()customers[0].orders[0]; // Á¨¨‰∏ÄÊ¨°ËÆøÈóÆËß¶ÂèëÊï∞ÊçÆÂ∫ìÊü•ËØ¢ Â¶ÇÊûúÊÉ≥Âú®Êü•ËØ¢ÁªìÊûúËøîÂõûÊó∂ÂÆûÁé∞È¢ÑËØªÂèñ ToOne,ToMany Êï∞ÊçÆ,ËØ∑‰ΩøÁî® QueryBuilder.eager 1234val customers = customerBox.query() .eager(Customer_.orders) .build() .find(); eager Âä†ËΩΩ‰ªÖÊîØÊåÅ‰∏ÄÂ±ÇÊ∑±Â∫¶„ÄÇÂ¶ÇÊûúÊúâÂµåÂ•óÁöÑÂÖ≥ËÅîÂ±ÇÁ∫ßÔºåÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑ query filter ÂÆûÁé∞„ÄÇ query filtersÂ∫îÁî®‰∫éÂ§çÊùÇÁöÑËæπÁïåÊù°‰ª∂ÔºåQueryBuilder Á±ª‰∏çËÉΩÂÆûÁé∞„ÄÇ‰ΩøÁî®Â¶Ç‰∏ãËßÑÂàôÂ∞Ü‰ºöÈùûÂ∏∏È´òÊïàÔºö ‰ΩøÁî®Ê†áÂáÜÁöÑÊï∞ÊçÆÂ∫ìËæπÁïåÊù°‰ª∂Áº©Â∞èÁõÆÊ†áËåÉÂõ¥„ÄÇ(‰ΩøÁî® QueryBuilder Ëé∑ÂèñÁõÆÊ†á) ÁÑ∂Âêé‰ΩøÁî® QueryFilter ËøáÊª§QueryFilter ‰∏ÄÊ¨°Ê£ÄÊü•‰∏Ä‰∏™ÁõÆÊ†áÂØπË±°ÔºåÁ¨¶ÂêàËøîÂõû true 12345// Áº©Â∞èËåÉÂõ¥songBox.query().equal(Song_.bandId,bandId) .filter((song) -&gt; &#123; return song.starCount * 2 &gt; song.downloads; &#125;); ÂÖ≥Ê≥®‰∏Ä‰∏ãÊÄßËÉΩ: ObjectBox ÂàõÂª∫ÂØπË±°ÈùûÂ∏∏Âø´ ËôöÊãüÊú∫‰ºöÂõûÊî∂Áü≠ÊúüÂØπË±°„ÄÇÊ≠§Â§ÑÂõûÊî∂Â∞ÜÊØîÂàõÂª∫Âø´ÔºåÊâÄ‰ª•ÊÄßËÉΩ‰∏çÊòØÈóÆÈ¢ò„ÄÇ query filters Âíå ToManyToMany Êèê‰æõ‰∫ÜÂæàÂ§öÂáΩÊï∞ÂèØ‰ª•Êñπ‰æøÁöÑËΩ¨‰∏∫ query filters: hasA hasAll getById]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-7-kotlinÊîØÊåÅ]]></title>
    <url>%2F2019%2F02%2F24%2FObjectBox%E5%85%A5%E9%97%A8-7-kotlin%E6%94%AF%E6%8C%81%2F</url>
    <content type="text"><![CDATA[Kotlin ÊîØÊåÅkotlin Entity Âú® kotlin ‰∏≠ÔºåID Â±ûÊÄßÂ∫îËØ•ËøôÊ†∑ÂÆö‰πâ @Id var id: Long = 0.ID ÂøÖÈ°ªÊòØ var. ÊûÑÈÄ†Âô® ObjectBox ‰ºòÂÖàË∞ÉÁî®ÂÖ®ÂèÇÁöÑÊûÑÈÄ†ÊñπÊ≥ï„ÄÇÂ¶ÇÊûúËá™ÂÆö‰πâÂ±ûÊÄßÊàñ transient Â±ûÊÄß ÊàñÂÖ≥ËÅîÂ±ûÊÄßÊòØÊûÑÈÄ†ÊñπÊ≥ïÁöÑ‰∏ÄÈÉ®ÂàÜÂèÇÊï∞ÔºåObjectBox Â∞Ü‰∏ç‰ºöË∞ÉÁî®Ê≠§ÊûÑÈÄ†ÊñπÊ≥ï.ÊâÄ‰ª•Â∫îËØ•Êèê‰æõ‰∏∫Ëøô‰∫õÂèÇÊï∞Êèê‰æõÈªòËÆ§ÂÄº‰ª•Á°Æ‰øùÊó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÂ≠òÂú®„ÄÇ 1234567@Entitydata class Note( @Id var id: Long = 0, val text: String = "", @Convert( converter = StringsConverter::class, dbType = String::class) val strings: List&lt;String&gt; = listOf()) kotlin Entity ‰∏≠ÂÆö‰πâÂÖ≥ËÅîÂ±ûÊÄßÂú® kotlin ‰∏≠ÂÆö‰πâÂÖ≥ËÅîÂ±ûÊÄßÂèØËÉΩÊØîËæÉÈ∫ªÁÉ¶„ÄÇ‰ΩÜËØ∑Ê≥®ÊÑèÔºöÂÖ≥ËÅîÂ±ûÊÄßÂøÖÈ°ª‰∏∫ var. Âê¶Âàô initialization magic Â∞Ü‰∏çËµ∑‰ΩúÁî®.ÈÄöÂ∏∏ÂèØ‰ª•‰ΩøÁî® lateinit ‰øÆÈ•∞ÂÖ≥ËÅîÂ±ûÊÄß 123456789101112@Entityclass Order &#123; @Id var id: Long = 0 lateinit var customer: ToOne&lt;Customer&gt;&#125;@Entityclass Customer &#123; @Id var id: Long = 0 @Backlink( to = "customer") latelinit var orders: List&lt;Order&gt;&#125; kotlin Êâ©Â±ïÂáΩÊï∞123dependencies &#123; implementation "io.objectbox:objectbox-kotlin:$objectboxVersion"&#125; kotlin 12345678910111213val box: Box&lt;DataClassEntity&gt; = store.boxFor()val query = box.query &#123; equal(property,value) order(property)&#125;val query = box.query().inValues(property,array).build()toMany.applyChangesToDb(resetFirst = true) &#123; // ÈªòËÆ§ false add(entity) removeById(id)&#125;]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-6-JavaÊ°åÈù¢Â∫îÁî®.md]]></title>
    <url>%2F2019%2F02%2F24%2FObjectBox%E5%85%A5%E9%97%A8-6-Java%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Java Ê°åÈù¢Â∫îÁî®ÂµåÂÖ•ÂºèÊï∞ÊçÆÂ∫ìObjectBox ‰∏ç‰ªÖ‰ªÖÈÄÇÁî®‰∫é Android È°πÁõÆÔºåÂêåÊó∂‰πüÈÄÇÁî®‰∫éËøêË°åÂú® Windows Linux macOS ‰∏äÁöÑÁ∫Ø Java(JVM) Ê°åÈù¢Â∫îÁî®. ÈÖçÁΩÆËØ∑‰ΩøÁî® Gradle ‰Ωú‰∏∫ÊûÑÂª∫Â∑•ÂÖ∑ÔºåÂõ†‰∏∫ ObjectBox ‰ΩøÁî®‰∫Ü Gradle Êèí‰ª∂. 1234567891011121314151617buildscript &#123; ext.objectboxVersion = '2.3.3' repositories &#123; jcenter() maven&#123; url "https://plugins.gradle.org/m2/"&#125; &#125; dependencies &#123; classpath "net.ltgt.gradle:gradle-apt-plugin:0.20" classpath "io.objectbox:objectbox-gradle-plugin:$objectboxVersion" &#125;&#125;repositories &#123; jcenter()&#125;apply plugin: 'java'apply plugin: 'net.ltgt.apt-idea' // Ê≥®Ëß£Â§ÑÁêÜÂô®Êèí‰ª∂apply plugin: 'io.objectbox' Native Â∫ìObjectBox ÊòØÁî± C/C++ÂÜôÊàêÁöÑÂèØ‰ª•ËøêË°åÂ§ßÂ§öÊï∞ native code ÁöÑÂØπË±°Êï∞ÊçÆÂ∫ì„ÄÇ ÊîπÂèò Model Êñá‰ª∂‰ΩçÁΩÆÈªòËÆ§ model Êñá‰ª∂Â≠òÂÇ®Âú® module-name/objectbox-models/default.json.ÂèØ‰ª•ÈÄöËøá‰øÆÊîπ objectbox.modelPath Êù•ÊîπÂèò 1234// Âú®È°πÁõÆ build.gradle Êñá‰ª∂Ôºå apply plugin: 'java' ‰πãÂêéÊ∑ªÂä†tasks.withType(JavaCompile) &#123; options.compilerArgs += ["-Aobjectbox.modelPath=$projectDir/schemas/object.json]&#125; ÊîπÂèò MyObjectBox ÂåÖÂêç123tasks.withType(JavaCompile) &#123; options.compilerArgs += [ "-Aobjectbox.modelPath=$projectDir/schemas/objectbox.json" ]&#125; ÂºÄÂêØ debug Ê®°Âºè12345678// enable debug output for pluginobjectbox &#123; debug true&#125;// enable debug output for annotation processortasks.withType(JavaCompile) &#123; options.compilerArgs += [ "-Aobjectbox.debug=true" ]&#125; ÂèØ‰ª•‰ΩøÁî® BoxStore builder ÁöÑ name(String) Êù•ÊîπÂèòÊï∞ÊçÆÂ∫ìÂ≠òÂÇ®ÁöÑ‰ΩçÁΩÆ„ÄÇÂçïÂÖÉÊµãËØïÊ∑ªÂä† junit 4 Â∫ì]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-5-LiveData]]></title>
    <url>%2F2019%2F02%2F24%2FObjectBox%E5%85%A5%E9%97%A8-5-LiveData%2F</url>
    <content type="text"><![CDATA[LiveData (Arch.Comp.)‰ªé 1.2.0 ÂºÄÂßãÊîØÊåÅ Android Architecture ComponentsObjectBox Êèê‰æõ ObjectBoxLiveData ÂèØ‰ª•Âú® ViewModel ‰∏≠‰ΩøÁî® 1234567891011public class NoteViewModel extends ViewModel &#123; private ObjectBoxLiveData&lt;Note&gt; noteLiveData; public ObjectBoxLiveData&lt;Note&gt; getNoteLiveData(Box&lt;Note&gt; notesBox) &#123; if (noteLiveData == null) &#123; // Êü•ËØ¢ÊâÄÊúâÁöÑ notes, text Êåâ a-z ÁöÑÈ°∫Â∫èÊéíÂàó noteLiveData = new ObjectBoxLiveData(notesBox.query().order(Note_.text).build()); &#125; return noteLiveData; &#125;&#125; ‰∏ä‰∏ÄÁßçÊñπÊ≥ïÈúÄË¶Å‰º†ÂÖ• Box.ÂèØ‰ª•‰ΩøÁî® AndroidViewModel ‰ª£ÊõøÔºåÂÆÉÂèØ‰ª•ËÆøÈóÆ Application context,ÁÑ∂Âêé‰ºöÂú® ViewModel ‰∏≠Ë∞ÉÁî® ((App)getApplication()).getBoxStore().boxFor().Á¨¨‰∏ÄÁßçÁöÑ‰ºòÂäøÂú®‰∫éÊ≤°ÊúâÂºïÁî® Android Á±ªÔºåÊâÄ‰ª•ÂèØ‰ª•ËøõË°åÂçïÂÖÉÊµãËØï„ÄÇ 1234567NoteViewModel model = ViewModelProviders.of(this).get(NoteViewModel.class);model.getNoteLiveData(notesBox).observe(this,new Observer&lt;List&lt;Note&gt;&gt;&#123; @Override public void onChanged(@Nullable List&lt;Node&gt; notes) &#123; notesAdapter.setNotes(notes); &#125;&#125;) Paging (Arch.Comp.)‰ªé 2.0.0 ÂºÄÂßãÊîØÊåÅ.ObjectBox Êèê‰æõ‰∫Ü ObjectBoxDataSource Á±ª.ÂÆÉÁªßÊâø‰∫Ü paging Â∫ìÁöÑ PositionalDataSourceÂú® ViewModel ‰∏≠ÔºåÁ±ª‰ººÂàõÂª∫ LiveData,ÂÖàÂàõÂª∫ ObjectBox query.ÁÑ∂ÂêéÊûÑÈÄ†Âπ∂‰ΩøÁî® ObjectBoxDataSource Â∑•ÂéÇ‰ª£Êõø LiveData. 1234567891011121314public class NotePageViewModel extends ViewModel &#123; private LiveData&lt;PagedList&lt;Note&gt;&gt; noteLiveDataPaged; public LiveData&lt;PagedList&lt;Note&gt;&gt; getNoteLiveDataPaged(Box&lt;Note&gt; notesBox) &#123; if(noteLiveDataPaged == null) &#123; Query&lt;Note&gt; query = notesBox.query().order(Note_.text).build(); noteLiveDataPaged = new LivePagedListBuilder( new ObjectBoxDataSource.Factory(query), 20 // È°µÊï∞ ).build(); &#125; return noteLiveDataPaged; &#125;&#125;]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-4-Êú¨Âú∞ÂçïÂÖÉÊµãËØï]]></title>
    <url>%2F2019%2F02%2F24%2FObjectBox%E5%85%A5%E9%97%A8-4-%E6%9C%AC%E5%9C%B0%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%2F</url>
    <content type="text"><![CDATA[ÂÆâÂçìÊú¨Âú∞ÂçïÂÖÉÊµãËØïËÆæÁΩÆÊµãËØïÁéØÂ¢É| Ê≠§ÈÖçÁΩÆ‰ªÖÈíàÂØπ ObjectBox 1.4 Âèä‰πãÂâçÁâàÊú¨.Êñ∞ÁâàÊú¨Â∑≤ÁªèËá™Âä®Ê∑ªÂä†‰∫Ü native ObjectBox ‰æùËµñÂ∫ì„ÄÇ 123456789// /app/build.gradledepdendencies &#123; // ÂøÖÂ§á JUnit 4 testImplementation 'junit:unit:4.12' // ÊâãÂä®Ê∑ªÂä†Âπ≥Âè∞Áã¨Á´ãÁöÑ native Objectbox ‰æùËµñÂ∫ì.(ÂèØÈÄâ) testImplementation "io.objectbox:objectbox-linux:$objectboxVersion" testImplementation "io.objectbox:objectbox-macos:$objectboxVersion" testImplementation "io.objectbox:objectbox-windows:$objectboxVersion"&#125; | Êú¨Âú∞ÂçïÂÖÉÊµãËØï‰ªÖÊîØÊåÅ 64 ‰ΩçÁ≥ªÁªü.| windows ÂèØËÉΩÈúÄË¶ÅÂÆâË£Ö Microsoft Visual C++ 2015 Redistributable(x64) ÂàõÂª∫Êú¨Âú∞ÂçïÂÖÉÊµãËØïÁ±ª ÂèØ‰ª•‰ΩøÁî® BoxStore builder ÁöÑdirectory(File) ÊåáÂÆöÊï∞ÊçÆÂ∫ì‰øùÂ≠òÂú®Êú¨Âú∞ËÆæÂ§á‰∏ä„ÄÇ ‰∏∫‰øùËØÅÊï∞ÊçÆ‰∏ç‰∫§ÂèâÊ±°ÊüìÔºåÂèØ‰ª•‰ΩøÁî® BoxStore.deleteAllFiles(File) Âà†Èô§Â∑≤ÁªèÂ≠òÂú®ÁöÑÊï∞ÊçÆÂ∫ì 12345678910111213141516171819202122232425262728293031public class NoteTest &#123; private static final File TEST_DIR = new File("objectbox-example/test-db"); private BoxStore store; @Before public void setUp() throws Exception &#123; // Âà†Èô§‰πãÂâçÁöÑÊï∞ÊçÆÂ∫ì BoxStore.deleteAllFiles(TEST_DIR); store = MyObjectBox.builder() // ÊåáÂÆöÊï∞ÊçÆÂ∫ìÂ≠òÊîæË∑ØÂæÑ .directory(TEST_DIR) // Ê∑ªÂä† debug Ê†áËÆ∞ÊâìÂç∞Êó•Âøó .debugFlags(DebugFlags.LOG_QUERIES | DebugFlags.LOG_QUERY_PARAMETERS) .build(); &#125; @After public void tearDown() throws Exception &#123; if (store != null) &#123; store.close(); store = null &#125; BoxStore.deleteAllFiles(TEST_DIR); &#125; @Test public void exampleTest() &#123; Box&lt;Note&gt; noteBox = store.boxFor(Note.class); assertEquals(...); &#125;&#125; ÂÖ≥Á≥ªÊµãËØï ObjectBox 1.4.4 Âèä‰πãÂêé ‰∏∫‰∫ÜÊµãËØïÂÖ∑Êúâ ToOne,ToMany Â±ûÊÄßÁöÑ entity,ÂøÖÈ°ªÂú®Êú¨Âú∞ JVM ÂàùÂßãÂåñ entity Âπ∂‰∏îÊ∑ªÂä†‰∏Ä‰∏™ transient ÁöÑ BoxStore Â±ûÊÄß.]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-3-Ê≥®Ëß£]]></title>
    <url>%2F2019%2F02%2F24%2FObjectBox%E5%85%A5%E9%97%A8-3-%E6%B3%A8%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[Entity Ê≥®Ëß£entity Êï∞ÊçÆÂèØËÆøÈóÆ ObjectBox ÈúÄË¶ÅËÆøÈóÆ entity ÁöÑÂ±ûÊÄß(ÁîüÊàê Cursor Á±ª). Â±ûÊÄßÂåÖÂÜÖÂèØËßÅ„ÄÇkotlin ‰∏≠‰ΩøÁî® JvmField Êèê‰æõÊ†áÂáÜ getters ‰∏∫‰∫ÜÊèêÂçáÊÄßËÉΩÔºåËØ∑Êèê‰æõÂÖ∑ÊúâÂÖ®ÈÉ®Â±ûÊÄßÁöÑÊûÑÈÄ†ÊñπÊ≥ï 123456789101112@Entitypublic class User &#123; @Id private long id; private String name; @Transient private int tempUsageCount; public User()&#123;/* ÈªòËÆ§ÊûÑÈÄ†ÊñπÊ≥ï */&#125; public User(id,name)&#123; this.id = id; this.name = name; &#125; // getters and setters for properties...&#125; entity Â±ûÊÄßÁöÑÊ≥®Ëß£ @NameInDb ÂèØ‰ª•Âú®Êï∞ÊçÆÂ∫ì‰∏≠‰∏∫Â±ûÊÄßÂëΩÂêç„ÄÇ Â∫îËØ•‰ΩøÁî® @Uid Ê≥®Ëß£Êù•‰ª£ÊõøÈáçÂëΩÂêçÂ±ûÊÄßÂíå entity @NameInDb ‰ªÖÊîØÊåÅÂÜÖËÅîÂ∏∏ÈáèÊù•ÊåáÂÆöÂàóÂêç„ÄÇ @Transient ‰øùËØÅÂ±ûÊÄß‰∏çË¢´ÊåÅ‰πÖÂåñÔºåtransientÔºåstatic ‰øÆÈ•∞Á¨¶‰πü‰∏ÄÊ†∑. Â±ûÊÄßÁ¥¢Âºï @Index @Index ÂΩìÂâç‰∏çÊîØÊåÅ byte[] float double Index typs(String). ObjectBox 2.0 ÂºïÂÖ•‰∫Ü index types.‰πãÂâçÂØπÊØè‰∏Ä‰∏™Á¥¢ÂºïÔºå‰ΩøÁî®Â±ûÊÄßÁöÑÂÄºÊù•ÂÆåÊàêÊü•ËØ¢„ÄÇÁé∞Âú® ObjectBox ÂèØ‰ª•‰ΩøÁî® hash Êù•ÁîüÊàê index.Áî±‰∫é String Â±ûÊÄßÊòéÊòæÊØîÊ†áÈáèÂÄºÊõ¥Âç†Á©∫Èó¥ÔºåObjectBox ÂØπ strings ‰ΩøÁî®ÈªòËÆ§ÁöÑ index type ÂÆåÊàê hash.ÂèØ‰ª•ÈíàÂØπ String Á±ªÂûãÁöÑÂ±ûÊÄßÊòéÁ°ÆÊåáÂÆö index type ‰∏∫Âü∫‰∫éÂÄºÊûÑÂª∫Á¥¢Âºï„ÄÇ 12@Index( type = IndexType.VALUE)private String name; ËØ∑Ê≥®ÊÑèÔºöÂØπ‰∫é String Á±ªÂûãÁöÑÂ±ûÊÄßÔºåÂü∫‰∫éÂÄºÁöÑÁ¥¢ÂºïÂèØËÉΩÊØîÈªòËÆ§Âü∫‰∫é hash ÁöÑÁ¥¢ÂºïÊõ¥Âç†Á©∫Èó¥,ËøôÁßçÁªìËÆ∫ÂèñÂÜ≥‰∫éËØ•ÂÄºÁöÑÈïøÂ∫¶„ÄÇ ObjectBox ÊîØÊåÅ‰ª•‰∏ãÁ¥¢ÂºïÂ±ûÊÄß: Êú™ÊåáÂÆöÊàñÈªòËÆ§: Ê†πÊçÆÂ±ûÊÄßÁöÑÁ±ªÂûãÂÜ≥ÂÆö(HASH for String,VALUE for others) VALUE: ‰ΩøÁî®Â±ûÊÄßÂÄºÁîüÊàêÁ¥¢Âºï„ÄÇ‰æãÂ¶Ç String,ÂèØËÉΩÊõ¥Âç†Á©∫Èó¥ HASH: ‰ΩøÁî®Â±ûÊÄßÂÄºÁöÑ 32 ‰Ωç hash ÁîüÊàêÁ¥¢Âºï„ÄÇÂÅ∂Â∞îÂèØËÉΩÂèëÁîü hash Á¢∞ÊíûÔºå‰ΩÜÂÆûÈôÖÊ¶ÇÁéáÂæàÂ∞è„ÄÇÈÄöÂ∏∏ÊØî HASH64 Êõ¥‰Ω≥ÔºåÂõ†‰∏∫Âç†Á©∫Èó¥Â∞è HASH64: ‰ΩøÁî®Â±ûÊÄßÂÄºÁöÑÈïø hash ÁîüÊàêÁ¥¢Âºï„ÄÇÊØî HASH Âç†Á©∫Èó¥Â§ßÔºåÊâÄ‰ª•‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã‰∏çÊòØÈ¶ñÈÄâ. Unique Á∫¶ÊùüÂ¶ÇÊûú unique Á∫¶ÊùüÁöÑÂ±ûÊÄßÂÄºÂÜ≤Á™ÅÔºåput() Êìç‰ΩúÂ∞ÜË¢´ÁªàÊ≠¢‰∏îÊäõÂá∫ UniqueViolationException ÁöÑÂºÇÂ∏∏.Unique Âü∫‰∫é Index,ÊâÄ‰ª•ÂèØ‰ª•ÂêåÊó∂ÁªôÂ±ûÊÄßÊ∑ªÂä† @Index Ê≥®Ëß£„ÄÇ ÂÖ≥Á≥ª]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-2-Âü∫Êú¨Êìç‰Ωú]]></title>
    <url>%2F2019%2F02%2F24%2FObjectBox%E5%85%A5%E9%97%A8-2-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[EntityÂú®‰∏Ä‰∏™Á±ª‰∏≠Ëá≥Â∞ëÈúÄË¶Å @Entity Âíå @Id ‰∏§‰∏™Ê≥®Ëß£ÊâçËÉΩÂÆö‰πâ‰∏Ä‰∏™ ObjectBox model.‰æãÂ¶Ç: 123456// User.java@Entitypublic class User &#123; @Id public long id; public String name;&#125; ÁÑ∂Âêé make Â∞±ÂèØÁîüÊàê model. | @Id ÁöÑÁ±ªÂûãÂøÖÈ°ª‰∏∫ long.| Â¶ÇÊûú entity ÂèëÁîü‰∫ÜÂæàÂ§ßÁöÑÂèòÂä®ÔºàÂ¶ÇÁßªÂä®Á±ªÊàñ‰øÆÊîπÊ≥®Ëß£Ôºâ,ÂøÖÈ°ª rebuild È°πÁõÆ‰ª•‰æø ObjectBox ÁîüÊàêÁöÑ‰ª£Á†ÅÂæóÂà∞Êõ¥Êñ∞. Ê†∏ÂøÉÁ±ª MyObjectBox: Âü∫‰∫é entity Á±ªÁîüÊàê„ÄÇÊèê‰æõ builder ÈÖçÁΩÆ BoxStore. BoxStore: ObjectBox ÁöÑÂÖ•Âè£„ÄÇÊìç‰ΩúÊï∞ÊçÆÂ∫ìÔºåÁÆ°ÁêÜ Boxes ÁöÑÂ∑•ÂÖ∑. Box: ÂØπ entity ‰øùÂ≠òÂíåÊü•ËØ¢„ÄÇÊØè‰∏Ä‰∏™ entity ÈÉΩÊúâ‰∏Ä‰∏™ÂØπÂ∫îÁöÑ BoxÔºàÁî± BoxStore Êèê‰æõ). Ê†∏ÂøÉÂàùÂßãÂåñÂÆû‰æãÂåñ BoxStore ÁöÑÊúÄÂ•ΩÊó∂Êú∫ÊòØÂú® app ÂêØÂä®Êó∂„ÄÇÊé®ËçêÂú® Application Á±ªÁöÑ onCreate ÊñπÊ≥ï‰∏≠ËøõË°å. 12345678910111213public class App extends Application &#123; private BoxStore boxStore; @Override public void onCreate() &#123; super.onCreate(); boxStore = MyObjectBox.builder().androidContext(this).build(); &#125; public BoxStore getBoxStore() &#123; return boxStore; &#125;&#125;// ÁÑ∂ÂêéÂú® app ÁîüÂëΩÂë®ÊúüÂÜÖÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫ÜnotesBox = ((App) getApplicationi()).getBoxStore().boxFor(User.class); Box Âü∫Êú¨Êìç‰Ωú put: Â≠òÂÖ•‰∏Ä‰∏™ÂØπË±°ÔºåÂèØËÉΩ‰ºöË¶ÜÁõñÂÖ∑ÊúâÁõ∏Âêå ID ÁöÑÂØπË±°„ÄÇÂç≥‰ΩøÁî® put ÊèíÂÖ•ÊàñÊõ¥Êñ∞ÂØπË±°„ÄÇËøîÂõû ID„ÄÇ get,getAll: Êèê‰æõ‰∏Ä‰∏™ÂØπË±°ÁöÑ IDÔºåÂèØÂø´ÈÄüÁöÑÈÄöËøá getËé∑ÂèñÂÆÉ„ÄÇgetAll Ëé∑ÂèñÊåáÂÆöÁöÑÊâÄÊúâÁöÑÂØπË±°„ÄÇ remove,removeAll: ‰ªé box ‰∏≠Âà†Èô§‰∏Ä‰∏™ÂØπË±°„ÄÇremoveAll Âà†Èô§ÊåáÂÆöÁöÑÊâÄÊúâÂØπË±°. count: ËøîÂõûËØ• box Â≠òÂÇ®ÁöÑÂØπË±°Êï∞Èáè. query: ËøîÂõû‰∏Ä‰∏™ query builder. Object IDs Entity ÂøÖÈ°ªÂÖ∑Êúâ‰∏Ä‰∏™Á±ªÂûã‰∏∫ long,Áî± @Id Ê≥®Ëß£Â±ûÊÄß„ÄÇÂΩìÁÑ∂ÂèØ‰ª•‰ΩøÁî®ÂèØÁ©∫ÁöÑ java.lang.LongÁ±ªÂûãÔºå‰ΩÜ‰∏çÊé®Ëçê„ÄÇÂ¶ÇÊûúÈúÄË¶Å‰ΩøÁî®Âè¶Â§ñ‰∏ÄÁßçÁ±ªÂûãÁöÑ ID(ÊúçÂä°Âô®ËøîÂõûÁöÑ String Á±ªÂûãÁöÑ UID),ÊääÂÆÉ‰Ωú‰∏∫ÊôÆÈÄöÂ±ûÊÄßÂç≥ÂèØÔºåÁÑ∂ÂêéÂèØ‰ª•ÈÄöËøáÊ≠§ ID Êü•ËØ¢. 123456@Entity class StringIdEntity &#123; @Id priavte long id; private String uid;&#125;StringIdEntity entity = box.query().equal(StringIdEntity_.uid,uid).findUnique(); ÊåáÂÆö IDObjectBox ÈªòËÆ§‰ºö‰∏∫Êñ∞ÂØπË±°ÊåáÂÆö IDs.ID Ëá™Â¢û. 12345User user = new User();// user.id == 0box.put(user);// user.id != 0long id = user.id Â¶ÇÊûúÊèíÂÖ•ÁöÑÂØπË±°ÁöÑ ID ÊØî box ÈáåÁöÑ ID ÊúÄÂ§ßÂÄºËøòÂ§ßÔºåObjectBox Â∞ÜÊäõÂá∫ÈîôËØØ. ‰øùÁïô Object IDsObject IDs ‰∏çËÉΩÔºö‚Äì 0,null(‰ΩøÁî® java.lang.Long)„ÄÇ‚Äì 0xFFFFFFFFFFFFFFFFÔºàjava ‰∏≠ÁöÑ -1Ôºâ:ÂÜÖÈÉ®‰øùÁïô ‰∫ãÂä° put ËøêË°åÂú®ÈöêÂºè‰∫ãÂä°‰∏≠ ‰ºòÂÖà‰ΩøÁî® put ÊâπÈáèÊìç‰ΩúÂàóË°® Ôºàput(entities)Ôºâ Â¶ÇÊûúÂú®Âæ™ÁéØ‰∏≠Êìç‰ΩúÂ§ßÈáèÊï∞ÊçÆÔºåËÄÉËôëÊòéÁ°Æ‰ΩøÁî®‰∫ãÂä°ÔºåÂ¶ÇrunInTx()]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ObjectBoxÂÖ•Èó®-1-ÁÆÄ‰ªã]]></title>
    <url>%2F2019%2F02%2F24%2FObjectBox%E5%85%A5%E9%97%A8-1-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éObjectBox ÂÆö‰ΩçÊòØ: ÈíàÂØπÁßªÂä®Á´ØÂíå IoT Ë∂ÖÂø´ÁöÑ (superfast edge database) Èù¢ÂêëÂØπË±°ÁöÑÊï∞ÊçÆÂ∫ì .‰∏∫Â∞èÂûãËÆæÂ§áÊèê‰æõ‰∫ÜËæπÁºòËÆ°ÁÆóËÉΩÂäõÔºå‰ΩøÂæóÊï∞ÊçÆÂèØ‰ª•Âø´ÈÄüÈ´òÊïàÂú∞Âú®Êú¨Âú∞Â≠òÂÇ®„ÄÅÂ§ÑÁêÜ„ÄÅÂÆâÂÖ®ÁÆ°ÁêÜ.ObjectBox Â∞è‰∫é 1MB,ÊúÄÈÄÇÂêàÁßªÂä® APP„ÄÅÂ∞èÂûã IoT ËÆæÂ§áÂèäË∑ØÁî±„ÄÇÂπ∂‰∏î ObjectBox ‰πüÊòØÁ¨¨‰∏Ä‰∏™Âú®ËæπÁºòËÆæÂ§á‰∏äÂÖºÂÆπ ACID ÁöÑÈ´òÊÄßËÉΩÁöÑ NoSQL Êï∞ÊçÆÂ∫ì.ÊâÄÊúâÁöÑ‰∫ßÂìÅÈÉΩÊòØÂü∫‰∫éÂ∑•Á®ãÂ∏àÊÄùÁª¥ÂºÄÂèëÁöÑÔºåÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®ÊúÄÂ∞ëÁöÑ‰ª£Á†ÅÂéªÂÆûÁé∞ÊÉ≥Ë¶ÅÁöÑÂäüËÉΩ„ÄÇ ‰ºòÁÇπ ÊØîÂêåÁ±ªÁ´üÂìÅÂø´ 10 ÂÄç‰ª•‰∏ä„ÄÇBenchMark Ë∑®Âπ≥Âè∞„ÄÇÊîØÊåÅ Linux„ÄÅWindows„ÄÅMac/iOS„ÄÅAndroid„ÄÅRaspberry Pi„ÄÅARM Á≠âÂµåÂÖ•ÂºèËÆæÂ§áÂíåÂÆπÂô®„ÄÇ Â∞è‰∫é 1MB,ÁâπÂà´ÈíàÂØπÂ∞èÂûãËÆæÂ§áËÆæËÆ°Âíå‰ºòÂåñ„ÄÇ Êòì‰ΩøÁî®„ÄÇ ÊîØÊåÅ reactive. Êó†ÁºùÁªìÂêà greenDAO.(Âêå‰∏ÄÂÆ∂ÂÖ¨Âè∏Âá∫ÂìÅ) Êõ¥Â•ΩÂú∞ÊîØÊåÅÂÖ≥Á≥ªÂûãÊï∞ÊçÆ. Êèê‰æõ‰∫ÜÊîπÂèòËøΩË∏™(change tracking)ÔºåÁ∫ßËÅîÊ∑ªÂä†(cascading puts)ÔºåÁÅµÊ¥ªÁöÑÂä†ËΩΩÁ≠ñÁï•(eager,lazy) Êó†ÈúÄÊéåÊè° SQL:ObjectBox ËÆæËÆ°ÁÆÄÂçïÔºå‰ΩøÁî®Êñπ‰æøÔºå‰∏çÈúÄË¶ÅÊéåÊè° SQL Âç≥ÂèØ‰∏äÊâã. ÊîØÊåÅ kotlin: ÂåÖÊã¨ data class. ‰ΩøÁî®Android(Java)123456789101112// root ÁõÆÂΩï build.gradlebuildscript &#123; ext.objectboxVersion = '2.3.3' repositories &#123; jcenter() &#125; dependencies &#123; // Android Gradle plugin ÊúÄ‰ΩéÁâàÊú¨‰∏∫ 3.0.0 classpath 'com.android.tools.build:gradle:3.3.1' classpath "io.objectbox:objectbox-gradle-plugin:$objectboxVersion" &#125;&#125; 123// app ÊàñÂÖ∂‰ªñ module build.gradleapply plugin: 'com.android.application'apply plugin: 'io.objectbox' ÊîæÂú®ÊúÄ‰∏ãÈù¢ Android(Kotlin)12345// app ÊàñÂÖ∂‰ªñ module build.gradleapply plugin: 'com.android.application'apply plugin: 'kotlin-android'apply plugin: 'kotlin-kapt' Â¶ÇÊûú‰ΩøÁî® kotlin-android Êèí‰ª∂ÔºåÂøÖÈ°ªÂä† kotlin -kapt Êèí‰ª∂apply plugin: 'io.objectbox' ÊîæÂú®ÊúÄ‰∏ãÈù¢ Sync gradle Âç≥ÂèØËá™Âä®Ê∑ªÂä† ObjectBox ‰æùËµñ. ÈÖçÁΩÆ1„ÄÅÈ¶ñÂÖàÊ∑ªÂä† ObjectBox Êèí‰ª∂.2„ÄÅÂ¶ÇÊûú ObjectBox Êèí‰ª∂Ê≤°ÊúâËá™Âä®Ê∑ªÂä†‰æùËµñÂ∫ìÂíåÊ≥®Ëß£Â§ÑÁêÜÂô®ÔºåËØ∑ÊâãÂä®Ê∑ªÂä†‰æùËµñ„ÄÇ 123456// Android(Java)// /app/build.gradledependencies &#123; compile "io.objectbox:objectbox-androoid:$objectboxVersion" annotationProcessor "io.objectbox:objectbox-processor:$objectboxVersion"&#125; 12345678// Android(kotlin)// /app/build.gradledependencies &#123; compile "io.objectbox:objectbox-android:$objectboxVersion" kapt "io.objectbox:objectbox-processor:$objectboxVersioni" // ÈíàÂØπ kotlin ÁöÑÊâ©Â±ïÂáΩÊï∞(ÂèØÈÄâ) compile "io.objectbox:objectbox-kotlin:$objectboxVersion"&#125; 3„ÄÅÊîπÂèò Model Êñá‰ª∂ÁöÑË∑ØÂæÑ ObjectBox Model Êñá‰ª∂ÈªòËÆ§‰øùÂ≠òÂú® module-name/objectbox-models/default.json„ÄÇ 1234567891011// Android(Java)// /app/build.gradleandroid &#123; defaultConfig &#123; javaCompileOptions &#123; annotationProcessorOptions &#123; arguments = ["objectbox.modelPath":"$projectDir/schemas/objectbox.json".toString()] &#125; &#125; &#125;&#125; 1234567// Android(Kotlin)// /app/build.gradlekapt &#123; arguments &#123; arg("objectbox.modelPath":"$projectDir/schemas/objectbox.json") &#125;&#125; 4„ÄÅÊîπÂèò MyObjectBox ÁöÑÂåÖÂêç MyObjectBox Á±ªÁöÑÂåÖÂêçÈªòËÆ§Âíå entitiy Á±ªÁöÑÂåÖÂêçÊàñÂÖ∂‰∏ä‰∏ÄÁ∫ßÊä•Âêç‰∏ÄËá¥„ÄÇ 1234567891011// Android(Java)// /app/build.gradleandroid &#123; defaultConfig &#123; javaCompileOptions &#123; annotationProcessorOptions &#123; arguments = ["objectbox.myObjectBoxPackage":"com.example.custom"] &#125; &#125; &#125;&#125; 1234567// Android(Kotlin)// /app/build.gradlekapt &#123; arguments &#123; arg("objectbox.myObjectBoxPackage", "com.example.custom") &#125;&#125; 5„ÄÅÂºÄÂêØ Debug Ê®°Âºè Âú® /app/build.gradle ‰∏≠Ê∑ªÂä†ÂøÖË¶ÅÁöÑÈÄâÈ°πÂêéÔºåËøêË°å ./gradlew --info Âç≥ÂèØÊü•Áúã debug ËæìÂá∫ 1234567891011// Android(Java)// /app/build.gradleandroid &#123; defaultConfig &#123; javaCompileOptions &#123; annotationProcessorOptions &#123; arguments = ['objectbox.debug' : 'true'] &#125; &#125; &#125;&#125; 1234567// Android(Kotlin)// /app/build.gradlekapt &#123; arguments &#123; arg("objectbox.debug", true) &#125;&#125; 6„ÄÅÂºÄÂêØ DaoCompat ÂÖºÂÆπÊ®°Âºè ‰ªé greenDAO ËøÅÁßªËøáÊù•ÔºåÁîüÊàêÂíå greenDAO Áõ∏‰ººÁöÑ API,‰Ωø ObjectBox ÁúãËµ∑Êù•Â∞±ÂÉè SQLite ‰∏ÄÊ†∑„ÄÇ 1234// /app[module]/build.gradledepdendencies &#123; compile "org.greenrobot:objectbox-daocompat:1.10"&#125; ÁÑ∂ÂêéÂºÄÂêØ DaoCompat Ê®°Âºè 1234567891011// Android(Java)// /app[module]/build.gradleandroid &#123; defaultConfig &#123; javaCOmpileOptions &#123; annotationProcessorOptions &#123; arguments = ['objectbox.daoCompat':'true'] &#125; &#125; &#125;&#125; 1234567// Android(Kotlin)// /app[module]/build.gradlekapt &#123; arguments &#123; arg("objectbox.daoCompat":true) &#125;&#125; Â¶ÇÊûú‰Ω†ËÆ°Âàí‰ªé greenDAO ËøÅÁßªÂà∞ ObjectBox,ÈÇ£‰πà‰Ω†ÂèØËÉΩ‰ºö‰øùÁïôÂéüÊù•ÁöÑ greenDAO entity Á±ªÔºàÂ§çÂà∂Ëøô‰∫õÁ±ªÂà∞Âè¶Â§ñÁöÑÂåÖ‰∏≠ÔºâÁÑ∂ÂêéÊåâÂ¶Ç‰∏ã‰øÆÊîπ„ÄÇ È¶ñÂÖàÊîπÂèòÊ≥®Ëß£„ÄÇËØ∑Ê≥®ÊÑèÔºö‰∏çÊòØÊâÄÊúâÁöÑ greenDAO Ê≥®Ëß£ÈÉΩÊîØÊåÅÊó†ÁºùËøÅÁßªÂà∞ ObjectBox,ÊîØÊåÅÁöÑÂ¶Ç‰∏ãÔºö 1234567// greenDAOimport org.greenrobot.greendao.annotation.Entity;import org.greenrobot.greendao.annotation...// ObjectBoximport io.objectbox.annotation.Entity;import io.objectbox.annotation... ObjectBox ÂΩìÂâç‰∏çÊîØÊåÅ unique indexes,naming indexes,ÊàñËÄÖÂú®Â§ö‰∏™Â±ûÊÄßÈó¥ indexes. 1234567// greenDAO@Entity(indexes = ...)@Index(name = "idx1", unique = true) private String name;@Unqiue private String name;// ObjectBox@Index private String name; Ëá™ÂÆö‰πâÁ±ªÂûã„ÄÇ‰øÆÊîπÁà∂Á±ª,ÂΩìÁÑ∂‰πüÂèØÂêåÊó∂ÁªßÊâøÔºåËøôÊ†∑ËØ•Ëá™ÂÆö‰πâÁ±ªÂûãÂ∞±ÂèØÂêåÊó∂Âú® greenDAO Âíå ObjectBox Èó¥‰ΩøÁî® 12345// greenDAOimport org.greenrobot.greendao.converter.PropertyConverter;// ObjectBoximport io.objectbox.converter.PropertyConverter; ‰øÆÊîπ @Convert Ê≥®Ëß£ÈáåÁöÑ columnType Êîπ‰∏∫ dbType 12345// greenDAO@Convert(converter = NoteTypeConverter.class, columnType = String.class)// ObjectBox@Convert(converter = NoteTypeConverter.class, dbType = String.class) ÂÖ≥Á≥ª„ÄÇObjectBox ‰ΩøÁî® ToOne Âíå ToManyÁ±ªÂûãÊõø‰ª£ greenDAO ÁöÑ @ToOne Âíå @ToMany Ê≥®Ëß£„ÄÇ ‰ΩøÁî® BoxStore.‰øÆÊîπÂÆå entity ÂêéÔºåËÆæÁΩÆ BoxStore ÂàõÂª∫ DaoSession. 123456789// ÈÄöÂ∏∏Âú® Application Á±ª‰∏≠boxStore = MyObjectBox.builder().androidContext(this).build();daoCompatSession = new DaoSession(boxStore);// Âú®ËøÅÁßªÂÆåÊàêÂêéÔºå‰Ω†ÂèØËÉΩÊÉ≥ÁßªÈô§Ëøô‰∫õËøÅÁßªÊìç‰Ωú„ÄÇ// ÈÇ£‰πàÈÄöËøá greenDAO session Ëé∑Âèñ entities,Êää‰ªñ‰ª¨ËΩ¨‰∏∫ ObjectBox entities,// ÁÑ∂Âêé‰ΩøÁî® DaoCompat session ÊèíÂÖ•„ÄÇList&lt;com.example.app.daos.greendao.Note&gt; notes = daoSession.getNoteDao().loadAll();List&lt;Note&gt; convertedNotes = convertToObjectBoxNotes(notes);daoCompatSession.getNoteDao().insertInTx(convertedNotes); ÈªòËÆ§Ê≤°ÊúâËÆæÁΩÆ ID (Âç≥ id == 0),ObjectBox ‰ºö‰∏∫ÊèíÂÖ•ÁöÑÊï∞ÊçÆÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑ ID.Â¶ÇÊûúÊÉ≥‰øùÁïôÂéüÊù•ÁöÑ ID,ËØ∑‰øÆÊîπ @Id(assignable = true) ‰ΩøÁî® DaoCompat DaoSessionÂú®‰ΩøÁî®Êñ∞ compat session ÊõøÊç¢ÂéüÊù•ÁöÑ API ÂêéÔºåÂèØ‰ª•ÈÄöËøáÂú® Application Á±ª‰∏≠ÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïËøîÂõû DaoSession 123456public DaoSession getDaoSession() &#123; // greenDAO // return daoSession; // ObjectBox return daoCompatSession;&#125; Ë°®Èù¢‰∏ä compat DaoSession ÊòØ greenDAO DaoSession ÁöÑÊõø‰ª£ÂìÅÔºåÂÖ∂ÂÆûÂÆÉÂÜÖÈÉ®ÊòØ‰ΩøÁî® BoxStore ‰ª£Êõø‰∫Ü greenDAO Êï∞ÊçÆÂ∫ì.Â¶ÇÊûúËøò‰ΩøÁî®‰∫Ü greenDAO ÁöÑÈ¢ùÂ§ñÁâπÊÄßÔºåÊØîÂ¶Ç queries,ÈÇ£‰πàËøòÈúÄÂ¶Ç‰∏ã‰øÆÊîπ: 123456// greenDAOimport org.greenrobot.greendao.query.Query;import org.greenrobot.greendao...// ObjectBoximport org.greenrobot.daocompat.query.Query;import org.greenrobot.daocompat... QueriesDaoCompat ÊîØÊåÅ‰ª•‰∏ãÁöÑ Query ÂäüËÉΩ:‚Äì remove() Êõø‰ª£ DeleteQuery‚Äì count() Êõø‰ª£ CountQuery‚Äì ‰∏çÊîØÊåÅ CursorQuery DaoCompat Âíå greenDAO ÁöÑ‰∏çÂêå‚Äì ‰∏çÊîØÊåÅ NotNull‚Äì ‰∏çÊîØÊåÅ Joins Âíå ÂéüÁîü SQL Êü•ËØ¢.‚Äì ‰∏çÊîØÊåÅÂºÇÊ≠• sessions: startAsyncSession()‚Äì ‰∏çÊîØÊåÅÂä†ÂØÜ‚Äì ‰ªÖÊîØÊåÅÁÆÄÂçïÁöÑ AbstractDaoTest Âíå AbstractDaoBasicTest]]></content>
      <tags>
        <tag>ObjectBox</tag>
        <tag>Êï∞ÊçÆÂ∫ì</tag>
      </tags>
  </entry>
</search>
